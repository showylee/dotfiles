/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var b8=Object.create;var nd=Object.defineProperty,E8=Object.defineProperties,_8=Object.getOwnPropertyDescriptor,S8=Object.getOwnPropertyDescriptors,x8=Object.getOwnPropertyNames,lA=Object.getOwnPropertySymbols,P8=Object.getPrototypeOf,uA=Object.prototype.hasOwnProperty,k8=Object.prototype.propertyIsEnumerable;var fA=(t,e,r)=>e in t?nd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,W=(t,e)=>{for(var r in e||(e={}))uA.call(e,r)&&fA(t,r,e[r]);if(lA)for(var r of lA(e))k8.call(e,r)&&fA(t,r,e[r]);return t},ge=(t,e)=>E8(t,S8(e)),dA=t=>nd(t,"__esModule",{value:!0});var je=(t,e)=>()=>(t&&(e=t(t=0)),e);var I=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),rb=(t,e)=>{dA(t);for(var r in e)nd(t,r,{get:e[r],enumerable:!0})},I8=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of x8(e))!uA.call(t,n)&&n!=="default"&&nd(t,n,{get:()=>e[n],enumerable:!(r=_8(e,n))||r.enumerable});return t},te=t=>I8(dA(nd(t!=null?b8(P8(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var Il=I((N0e,gA)=>{"use strict";var mA=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);gA.exports=t=>t?Object.keys(t).map(e=>[mA.has(e)?mA.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var yA=I((L0e,vA)=>{"use strict";vA.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var ad=I((F0e,wA)=>{"use strict";wA.exports=ht;ht.Node=Ja;ht.create=ht;function ht(t){var e=this;if(e instanceof ht||(e=new ht),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}ht.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ht.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ht.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ht.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)A8(this,arguments[t]);return this.length};ht.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)D8(this,arguments[t]);return this.length};ht.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ht.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ht.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};ht.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};ht.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};ht.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};ht.prototype.map=function(t,e){e=e||this;for(var r=new ht,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};ht.prototype.mapReverse=function(t,e){e=e||this;for(var r=new ht,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};ht.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};ht.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};ht.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};ht.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};ht.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ht;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};ht.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new ht;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};ht.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var o=[],n=0;i&&n<e;n++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=T8(this,i,r[n]);return o};ht.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function T8(t,e,r){var n=e===t.head?new Ja(r,null,e,t):new Ja(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function A8(t,e){t.tail=new Ja(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function D8(t,e){t.head=new Ja(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Ja(t,e,r,n){if(!(this instanceof Ja))return new Ja(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{yA()(ht)}catch{}});var Tl=I((M0e,IA)=>{"use strict";var R8=require("events"),CA=require("stream"),cd=ad(),bA=require("string_decoder").StringDecoder,$o=Symbol("EOF"),ld=Symbol("maybeEmitEnd"),ks=Symbol("emittedEnd"),Lm=Symbol("emittingEnd"),Fm=Symbol("closed"),EA=Symbol("read"),nb=Symbol("flush"),_A=Symbol("flushChunk"),cn=Symbol("encoding"),Uo=Symbol("decoder"),Mm=Symbol("flowing"),ud=Symbol("paused"),fd=Symbol("resume"),Qr=Symbol("bufferLength"),SA=Symbol("bufferPush"),ib=Symbol("bufferShift"),$r=Symbol("objectMode"),Ur=Symbol("destroyed"),xA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",O8=xA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),N8=xA&&Symbol.iterator||Symbol("iterator not implemented"),PA=t=>t==="end"||t==="finish"||t==="prefinish",L8=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,F8=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);IA.exports=class kA extends CA{constructor(e){super();this[Mm]=!1,this[ud]=!1,this.pipes=new cd,this.buffer=new cd,this[$r]=e&&e.objectMode||!1,this[$r]?this[cn]=null:this[cn]=e&&e.encoding||null,this[cn]==="buffer"&&(this[cn]=null),this[Uo]=this[cn]?new bA(this[cn]):null,this[$o]=!1,this[ks]=!1,this[Lm]=!1,this[Fm]=!1,this.writable=!0,this.readable=!0,this[Qr]=0,this[Ur]=!1}get bufferLength(){return this[Qr]}get encoding(){return this[cn]}set encoding(e){if(this[$r])throw new Error("cannot set encoding in objectMode");if(this[cn]&&e!==this[cn]&&(this[Uo]&&this[Uo].lastNeed||this[Qr]))throw new Error("cannot change encoding");this[cn]!==e&&(this[Uo]=e?new bA(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Uo].write(r)))),this[cn]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[$r]}set objectMode(e){this[$r]=this[$r]||!!e}write(e,r,n){if(this[$o])throw new Error("write after end");return this[Ur]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[$r]&&!Buffer.isBuffer(e)&&(F8(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):L8(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),!this.objectMode&&!e.length?(this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof e=="string"&&!this[$r]&&!(r===this[cn]&&!this[Uo].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[cn]&&(e=this[Uo].write(e)),this.flowing?(this[Qr]!==0&&this[nb](!0),this.emit("data",e)):this[SA](e),this[Qr]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(e){if(this[Ur])return null;try{return this[Qr]===0||e===0||e>this[Qr]?null:(this[$r]&&(e=null),this.buffer.length>1&&!this[$r]&&(this.encoding?this.buffer=new cd([Array.from(this.buffer).join("")]):this.buffer=new cd([Buffer.concat(Array.from(this.buffer),this[Qr])])),this[EA](e||null,this.buffer.head.value))}finally{this[ld]()}}[EA](e,r){return e===r.length||e===null?this[ib]():(this.buffer.head.value=r.slice(e),r=r.slice(0,e),this[Qr]-=e),this.emit("data",r),!this.buffer.length&&!this[$o]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[$o]=!0,this.writable=!1,(this.flowing||!this[ud])&&this[ld](),this}[fd](){this[Ur]||(this[ud]=!1,this[Mm]=!0,this.emit("resume"),this.buffer.length?this[nb]():this[$o]?this[ld]():this.emit("drain"))}resume(){return this[fd]()}pause(){this[Mm]=!1,this[ud]=!0}get destroyed(){return this[Ur]}get flowing(){return this[Mm]}get paused(){return this[ud]}[SA](e){return this[$r]?this[Qr]+=1:this[Qr]+=e.length,this.buffer.push(e)}[ib](){return this.buffer.length&&(this[$r]?this[Qr]-=1:this[Qr]-=this.buffer.head.value.length),this.buffer.shift()}[nb](e){do;while(this[_A](this[ib]()));!e&&!this.buffer.length&&!this[$o]&&this.emit("drain")}[_A](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[Ur])return;let n=this[ks];r=r||{},e===process.stdout||e===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:e,opts:r,ondrain:o=>this[fd]()};return this.pipes.push(i),e.on("drain",i.ondrain),this[fd](),n&&i.opts.end&&i.dest.end(),e}addListener(e,r){return this.on(e,r)}on(e,r){try{return super.on(e,r)}finally{e==="data"&&!this.pipes.length&&!this.flowing?this[fd]():PA(e)&&this[ks]&&(super.emit(e),this.removeAllListeners(e))}}get emittedEnd(){return this[ks]}[ld](){!this[Lm]&&!this[ks]&&!this[Ur]&&this.buffer.length===0&&this[$o]&&(this[Lm]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Fm]&&this.emit("close"),this[Lm]=!1)}emit(e,r){if(e!=="error"&&e!=="close"&&e!==Ur&&this[Ur])return;if(e==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(e==="end"){if(this[ks]===!0)return;this[ks]=!0,this.readable=!1,this[Uo]&&(r=this[Uo].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(e==="close"&&(this[Fm]=!0,!this[ks]&&!this[Ur]))return;let n=new Array(arguments.length);if(n[0]=e,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{PA(e)?this.removeAllListeners(e):this[ld]()}}collect(){let e=[];this[$r]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[$r]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[$r]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[$r]?Promise.reject(new Error("cannot concat in objectMode")):this[cn]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Ur,()=>r(new Error("stream destroyed"))),this.on("end",()=>e()),this.on("error",n=>r(n))})}[O8](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[$o])return Promise.resolve({done:!0});let n=null,i=null,o=l=>{this.removeListener("data",s),this.removeListener("end",a),i(l)},s=l=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:l,done:!!this[$o]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((l,u)=>{i=u,n=l,this.once(Ur,c),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[N8](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[Ur]?(e?this.emit("error",e):this.emit(Ur),this):(this[Ur]=!0,this.buffer=new cd,this[Qr]=0,typeof this.close=="function"&&!this[Fm]&&this.close(),e?this.emit("error",e):this.emit(Ur),this)}static isStream(e){return!!e&&(e instanceof kA||e instanceof CA||e instanceof R8&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var AA=I((q0e,TA)=>{var M8=require("zlib").constants||{ZLIB_VERNUM:4736};TA.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},M8))});var hb=I(An=>{"use strict";var ob=require("assert"),Is=require("buffer").Buffer,DA=require("zlib"),Qa=An.constants=AA(),q8=Tl(),RA=Is.concat,Xa=Symbol("_superWrite"),dd=class extends Error{constructor(e){super("zlib: "+e.message);this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},j8=Symbol("opts"),pd=Symbol("flushFlag"),OA=Symbol("finishFlushFlag"),sb=Symbol("fullFlushFlag"),Dt=Symbol("handle"),qm=Symbol("onError"),Al=Symbol("sawError"),ab=Symbol("level"),lb=Symbol("strategy"),ub=Symbol("ended"),j0e=Symbol("_defaultFullFlush"),fb=class extends q8{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e);this[Al]=!1,this[ub]=!1,this[j8]=e,this[pd]=e.flush,this[OA]=e.finishFlush;try{this[Dt]=new DA[r](e)}catch(n){throw new dd(n)}this[qm]=n=>{this[Al]||(this[Al]=!0,this.close(),this.emit("error",n))},this[Dt].on("error",n=>this[qm](new dd(n))),this.once("end",()=>this.close)}close(){this[Dt]&&(this[Dt].close(),this[Dt]=null,this.emit("close"))}reset(){if(!this[Al])return ob(this[Dt],"zlib binding closed"),this[Dt].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[sb]),this.write(Object.assign(Is.alloc(0),{[pd]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[OA]),this[ub]=!0,super.end(null,null,n)}get ended(){return this[ub]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=Is.from(e,r)),this[Al])return;ob(this[Dt],"zlib binding closed");let i=this[Dt]._handle,o=i.close;i.close=()=>{};let s=this[Dt].close;this[Dt].close=()=>{},Is.concat=l=>l;let a;try{let l=typeof e[pd]=="number"?e[pd]:this[pd];a=this[Dt]._processChunk(e,l),Is.concat=RA}catch(l){Is.concat=RA,this[qm](new dd(l))}finally{this[Dt]&&(this[Dt]._handle=i,i.close=o,this[Dt].close=s,this[Dt].removeAllListeners("error"))}this[Dt]&&this[Dt].on("error",l=>this[qm](new dd(l)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[Xa](Is.from(a[0]));for(let l=1;l<a.length;l++)c=this[Xa](a[l])}else c=this[Xa](Is.from(a));return n&&n(),c}[Xa](e){return super.write(e)}},Ts=class extends fb{constructor(e,r){e=e||{},e.flush=e.flush||Qa.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Qa.Z_FINISH;super(e,r);this[sb]=Qa.Z_FULL_FLUSH,this[ab]=e.level,this[lb]=e.strategy}params(e,r){if(!this[Al]){if(!this[Dt])throw new Error("cannot switch params when binding is closed");if(!this[Dt].params)throw new Error("not supported in this implementation");if(this[ab]!==e||this[lb]!==r){this.flush(Qa.Z_SYNC_FLUSH),ob(this[Dt],"zlib binding closed");let n=this[Dt].flush;this[Dt].flush=(i,o)=>{this.flush(i),o()};try{this[Dt].params(e,r)}finally{this[Dt].flush=n}this[Dt]&&(this[ab]=e,this[lb]=r)}}}},NA=class extends Ts{constructor(e){super(e,"Deflate")}},LA=class extends Ts{constructor(e){super(e,"Inflate")}},db=Symbol("_portable"),FA=class extends Ts{constructor(e){super(e,"Gzip");this[db]=e&&!!e.portable}[Xa](e){return this[db]?(this[db]=!1,e[9]=255,super[Xa](e)):super[Xa](e)}},MA=class extends Ts{constructor(e){super(e,"Gunzip")}},qA=class extends Ts{constructor(e){super(e,"DeflateRaw")}},jA=class extends Ts{constructor(e){super(e,"InflateRaw")}},$A=class extends Ts{constructor(e){super(e,"Unzip")}},pb=class extends fb{constructor(e,r){e=e||{},e.flush=e.flush||Qa.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Qa.BROTLI_OPERATION_FINISH;super(e,r);this[sb]=Qa.BROTLI_OPERATION_FLUSH}},UA=class extends pb{constructor(e){super(e,"BrotliCompress")}},BA=class extends pb{constructor(e){super(e,"BrotliDecompress")}};An.Deflate=NA;An.Inflate=LA;An.Gzip=FA;An.Gunzip=MA;An.DeflateRaw=qA;An.InflateRaw=jA;An.Unzip=$A;typeof DA.BrotliCompress=="function"?(An.BrotliCompress=UA,An.BrotliDecompress=BA):An.BrotliCompress=An.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Dl=I((U0e,HA)=>{var $8=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;HA.exports=$8!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var jm=I((H0e,VA)=>{"use strict";var U8=Tl(),mb=Dl(),gb=Symbol("slurp");VA.exports=class extends U8{constructor(e,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=mb(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=mb(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[gb](r),n&&this[gb](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[gb](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?mb(e[n]):e[n])}}});var vb=I($m=>{"use strict";$m.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);$m.code=new Map(Array.from($m.name).map(t=>[t[1],t[0]]))});var KA=I((z0e,WA)=>{"use strict";var B8=(t,e)=>{if(Number.isSafeInteger(t))t<0?V8(t,e):H8(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},H8=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},V8=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=zA(i):i===0?e[n-1]=0:(r=!0,e[n-1]=GA(i))}},z8=t=>{let e=t[0],r=e===128?W8(t.slice(1,t.length)):e===255?G8(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},G8=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var o=t[i],s;n?s=zA(o):o===0?s=o:(n=!0,s=GA(o)),s!==0&&(r-=s*Math.pow(256,e-i-1))}return r},W8=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},zA=t=>(255^t)&255,GA=t=>(255^t)+1&255;WA.exports={encode:B8,parse:z8}});var Ol=I((G0e,QA)=>{"use strict";var yb=vb(),Rl=require("path").posix,YA=KA(),wb=Symbol("slurp"),Dn=Symbol("type"),JA=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[Dn]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Za(e,r,100),this.mode=As(e,r+100,8),this.uid=As(e,r+108,8),this.gid=As(e,r+116,8),this.size=As(e,r+124,12),this.mtime=Cb(e,r+136,12),this.cksum=As(e,r+148,12),this[wb](n),this[wb](i,!0),this[Dn]=Za(e,r+156,1),this[Dn]===""&&(this[Dn]="0"),this[Dn]==="0"&&this.path.substr(-1)==="/"&&(this[Dn]="5"),this[Dn]==="5"&&(this.size=0),this.linkpath=Za(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Za(e,r+265,32),this.gname=Za(e,r+297,32),this.devmaj=As(e,r+329,8),this.devmin=As(e,r+337,8),e[r+475]!==0){let s=Za(e,r+345,155);this.path=s+"/"+this.path}else{let s=Za(e,r+345,130);s&&(this.path=s+"/"+this.path),this.atime=Cb(e,r+476,12),this.ctime=Cb(e,r+488,12)}let o=8*32;for(let s=r;s<r+148;s++)o+=e[s];for(let s=r+156;s<r+512;s++)o+=e[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[wb](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=K8(this.path||"",n),o=i[0],s=i[1];this.needPax=i[2],this.needPax=ec(e,r,100,o)||this.needPax,this.needPax=Ds(e,r+100,8,this.mode)||this.needPax,this.needPax=Ds(e,r+108,8,this.uid)||this.needPax,this.needPax=Ds(e,r+116,8,this.gid)||this.needPax,this.needPax=Ds(e,r+124,12,this.size)||this.needPax,this.needPax=bb(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[Dn].charCodeAt(0),this.needPax=ec(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=ec(e,r+265,32,this.uname)||this.needPax,this.needPax=ec(e,r+297,32,this.gname)||this.needPax,this.needPax=Ds(e,r+329,8,this.devmaj)||this.needPax,this.needPax=Ds(e,r+337,8,this.devmin)||this.needPax,this.needPax=ec(e,r+345,n,s)||this.needPax,e[r+475]!==0?this.needPax=ec(e,r+345,155,s)||this.needPax:(this.needPax=ec(e,r+345,130,s)||this.needPax,this.needPax=bb(e,r+476,12,this.atime)||this.needPax,this.needPax=bb(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,Ds(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return yb.name.get(this[Dn])||this[Dn]}get typeKey(){return this[Dn]}set type(e){yb.code.has(e)?this[Dn]=yb.code.get(e):this[Dn]=e}},K8=(t,e)=>{let r=100,n=t,i="",o,s=Rl.parse(t).root||".";if(Buffer.byteLength(n)<r)o=[n,i,!1];else{i=Rl.dirname(n),n=Rl.basename(n);do Buffer.byteLength(n)<=r&&Buffer.byteLength(i)<=e?o=[n,i,!1]:Buffer.byteLength(n)>r&&Buffer.byteLength(i)<=e?o=[n.substr(0,r-1),i,!0]:(n=Rl.join(Rl.basename(i),n),i=Rl.dirname(i));while(i!==s&&!o);o||(o=[t.substr(0,r-1),"",!0])}return o},Za=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),Cb=(t,e,r)=>Y8(As(t,e,r)),Y8=t=>t===null?null:new Date(t*1e3),As=(t,e,r)=>t[e]&128?YA.parse(t.slice(e,e+r)):Q8(t,e,r),J8=t=>isNaN(t)?null:t,Q8=(t,e,r)=>J8(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),X8={12:8589934591,8:2097151},Ds=(t,e,r,n)=>n===null?!1:n>X8[r]||n<0?(YA.encode(n,t.slice(e,e+r)),!0):(Z8(t,e,r,n),!1),Z8=(t,e,r,n)=>t.write(eY(n,r),e,r,"ascii"),eY=(t,e)=>tY(Math.floor(t).toString(8),e),tY=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",bb=(t,e,r,n)=>n===null?!1:Ds(t,e,r,n.getTime()/1e3),rY=new Array(156).join("\0"),ec=(t,e,r,n)=>n===null?!1:(t.write(n+rY,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);QA.exports=JA});var Bm=I((W0e,XA)=>{"use strict";var nY=Ol(),iY=require("path"),Um=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)i[o]=0;new nY({path:("PaxHeader/"+iY.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let o=r+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+n}};Um.parse=(t,e,r)=>new Um(oY(sY(t),e),r);var oY=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,sY=t=>t.replace(/\n$/,"").split(`
`).reduce(aY,Object.create(null)),aY=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.substr((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let o=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};XA.exports=Um});var Nl=I((K0e,ZA)=>{ZA.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var Hm=I((Y0e,eD)=>{"use strict";eD.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var _b=I((J0e,tD)=>{"use strict";var Vm=["|","<",">","?",":"],Eb=Vm.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),cY=new Map(Vm.map((t,e)=>[t,Eb[e]])),lY=new Map(Eb.map((t,e)=>[t,Vm[e]]));tD.exports={encode:t=>Vm.reduce((e,r)=>e.split(r).join(cY.get(r)),t),decode:t=>Eb.reduce((e,r)=>e.split(r).join(lY.get(r)),t)}});var Sb=I((Q0e,nD)=>{var{isAbsolute:uY,parse:rD}=require("path").win32;nD.exports=t=>{let e="",r=rD(t);for(;uY(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.substr(n.length),e+=n,r=rD(t)}return[e,t]}});var oD=I((X0e,iD)=>{"use strict";iD.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&~18),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var Ob=I((tbe,CD)=>{"use strict";var sD=Tl(),aD=Bm(),cD=Ol(),io=require("fs"),lD=require("path"),oo=Dl(),fY=Nl(),uD=(t,e)=>e?(t=oo(t).replace(/^\.(\/|$)/,""),fY(e)+"/"+t):oo(t),dY=16*1024*1024,fD=Symbol("process"),dD=Symbol("file"),pD=Symbol("directory"),xb=Symbol("symlink"),hD=Symbol("hardlink"),hd=Symbol("header"),zm=Symbol("read"),Pb=Symbol("lstat"),Gm=Symbol("onlstat"),kb=Symbol("onread"),Ib=Symbol("onreadlink"),Tb=Symbol("openfile"),Ab=Symbol("onopenfile"),Rs=Symbol("close"),Wm=Symbol("mode"),Db=Symbol("awaitDrain"),Rb=Symbol("ondrain"),so=Symbol("prefix"),mD=Symbol("hadError"),gD=Hm(),pY=_b(),vD=Sb(),yD=oD(),Km=gD(class extends sD{constructor(e,r){r=r||{};super(r);if(typeof e!="string")throw new TypeError("path is required");this.path=oo(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||dY,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=oo(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?oo(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=vD(this.path);i&&(this.path=o,n=i)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=pY.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=oo(r.absolute||lD.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Gm](this.statCache.get(this.absolute)):this[Pb]()}emit(e,...r){return e==="error"&&(this[mD]=!0),super.emit(e,...r)}[Pb](){io.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Gm](r)})}[Gm](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=mY(e),this.emit("stat",e),this[fD]()}[fD](){switch(this.type){case"File":return this[dD]();case"Directory":return this[pD]();case"SymbolicLink":return this[xb]();default:return this.end()}}[Wm](e){return yD(e,this.type==="Directory",this.portable)}[so](e){return uD(e,this.prefix)}[hd](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new cD({path:this[so](this.path),linkpath:this.type==="Link"?this[so](this.linkpath):this.linkpath,mode:this[Wm](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new aD({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[so](this.path),linkpath:this.type==="Link"?this[so](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[pD](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[hd](),this.end()}[xb](){io.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Ib](r)})}[Ib](e){this.linkpath=oo(e),this[hd](),this.end()}[hD](e){this.type="Link",this.linkpath=oo(lD.relative(this.cwd,e)),this.stat.size=0,this[hd](),this.end()}[dD](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[hD](r)}this.linkCache.set(e,this.absolute)}if(this[hd](),this.stat.size===0)return this.end();this[Tb]()}[Tb](){io.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[Ab](r)})}[Ab](e){if(this.fd=e,this[mD])return this[Rs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[zm]()}[zm](){let{fd:e,buf:r,offset:n,length:i,pos:o}=this;io.read(e,r,n,i,o,(s,a)=>{if(s)return this[Rs](()=>this.emit("error",s));this[kb](a)})}[Rs](e){io.close(this.fd,e)}[kb](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Rs](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Rs](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[Rb]():this[Db](()=>this[Rb]())}[Db](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[Rb](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Rs](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[zm]()}}),wD=class extends Km{[Pb](){this[Gm](io.lstatSync(this.absolute))}[xb](){this[Ib](io.readlinkSync(this.absolute))}[Tb](){this[Ab](io.openSync(this.absolute,"r"))}[zm](){let e=!0;try{let{fd:r,buf:n,offset:i,length:o,pos:s}=this,a=io.readSync(r,n,i,o,s);this[kb](a),e=!1}finally{if(e)try{this[Rs](()=>{})}catch{}}}[Db](e){e()}[Rs](e){io.closeSync(this.fd),e()}},hY=gD(class extends sD{constructor(e,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=oo(e.path),this.mode=this[Wm](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=oo(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[i,o]=vD(this.path);i&&(this.path=o,n=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new cD({path:this[so](this.path),linkpath:this.type==="Link"?this[so](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new aD({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[so](this.path),linkpath:this.type==="Link"?this[so](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[so](e){return uD(e,this.prefix)}[Wm](e){return yD(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Km.Sync=wD;Km.Tar=hY;var mY=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";CD.exports=Km});var rg=I((nbe,ID)=>{"use strict";var Nb=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},gY=Tl(),vY=hb(),yY=jm(),Lb=Ob(),wY=Lb.Sync,CY=Lb.Tar,bY=ad(),bD=Buffer.alloc(1024),Ym=Symbol("onStat"),Jm=Symbol("ended"),ao=Symbol("queue"),Ll=Symbol("current"),tc=Symbol("process"),Qm=Symbol("processing"),ED=Symbol("processJob"),co=Symbol("jobs"),Fb=Symbol("jobDone"),Xm=Symbol("addFSEntry"),_D=Symbol("addTarEntry"),Mb=Symbol("stat"),qb=Symbol("readdir"),Zm=Symbol("onreaddir"),eg=Symbol("pipe"),SD=Symbol("entry"),jb=Symbol("entryOpt"),$b=Symbol("writeEntryClass"),xD=Symbol("write"),Ub=Symbol("ondrain"),tg=require("fs"),PD=require("path"),EY=Hm(),Bb=Dl(),Hb=EY(class extends gY{constructor(e){super(e);e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Bb(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[$b]=Lb,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new vY.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Ub]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Ub]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[ao]=new bY,this[co]=0,this.jobs=+e.jobs||4,this[Qm]=!1,this[Jm]=!1}[xD](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Jm]=!0,this[tc](),this}write(e){if(this[Jm])throw new Error("write after end");return e instanceof yY?this[_D](e):this[Xm](e),this.flowing}[_D](e){let r=Bb(PD.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Nb(e.path,r,!1);n.entry=new CY(e,this[jb](n)),n.entry.on("end",i=>this[Fb](n)),this[co]+=1,this[ao].push(n)}this[tc]()}[Xm](e){let r=Bb(PD.resolve(this.cwd,e));this[ao].push(new Nb(e,r)),this[tc]()}[Mb](e){e.pending=!0,this[co]+=1;let r=this.follow?"stat":"lstat";tg[r](e.absolute,(n,i)=>{e.pending=!1,this[co]-=1,n?this.emit("error",n):this[Ym](e,i)})}[Ym](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[tc]()}[qb](e){e.pending=!0,this[co]+=1,tg.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[co]-=1,r)return this.emit("error",r);this[Zm](e,n)})}[Zm](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[tc]()}[tc](){if(!this[Qm]){this[Qm]=!0;for(let e=this[ao].head;e!==null&&this[co]<this.jobs;e=e.next)if(this[ED](e.value),e.value.ignore){let r=e.next;this[ao].removeNode(e),e.next=r}this[Qm]=!1,this[Jm]&&!this[ao].length&&this[co]===0&&(this.zip?this.zip.end(bD):(super.write(bD),super.end()))}}get[Ll](){return this[ao]&&this[ao].head&&this[ao].head.value}[Fb](e){this[ao].shift(),this[co]-=1,this[tc]()}[ED](e){if(!e.pending){if(e.entry){e===this[Ll]&&!e.piped&&this[eg](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Ym](e,this.statCache.get(e.absolute)):this[Mb](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Zm](e,this.readdirCache.get(e.absolute)):this[qb](e),!e.readdir))){if(e.entry=this[SD](e),!e.entry){e.ignore=!0;return}e===this[Ll]&&!e.piped&&this[eg](e)}}}[jb](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[SD](e){this[co]+=1;try{return new this[$b](e.path,this[jb](e)).on("end",()=>this[Fb](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Ub](){this[Ll]&&this[Ll].entry&&this[Ll].entry.resume()}[eg](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Xm](s+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),kD=class extends Hb{constructor(e){super(e);this[$b]=wY}pause(){}resume(){}[Mb](e){let r=this.follow?"statSync":"lstatSync";this[Ym](e,tg[r](e.absolute))}[qb](e,r){this[Zm](e,tg.readdirSync(e.absolute))}[eg](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Xm](s+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[xD](i)})}};Hb.Sync=kD;ID.exports=Hb});var Hl=I(gd=>{"use strict";var _Y=Tl(),SY=require("events").EventEmitter,ln=require("fs"),Vb=ln.writev;if(!Vb){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;Vb=(r,n,i,o)=>{let s=(c,l)=>o(c,l,n),a=new e;a.oncomplete=s,t.writeBuffers(r,n,i,a)}}var Fl=Symbol("_autoClose"),Ti=Symbol("_close"),md=Symbol("_ended"),Pt=Symbol("_fd"),TD=Symbol("_finished"),Os=Symbol("_flags"),zb=Symbol("_flush"),Gb=Symbol("_handleChunk"),Wb=Symbol("_makeBuf"),ng=Symbol("_mode"),ig=Symbol("_needDrain"),Ml=Symbol("_onerror"),ql=Symbol("_onopen"),Kb=Symbol("_onread"),jl=Symbol("_onwrite"),Ns=Symbol("_open"),Bo=Symbol("_path"),rc=Symbol("_pos"),lo=Symbol("_queue"),$l=Symbol("_read"),AD=Symbol("_readSize"),Ls=Symbol("_reading"),og=Symbol("_remain"),DD=Symbol("_size"),sg=Symbol("_write"),Ul=Symbol("_writing"),ag=Symbol("_defaultFlag"),Bl=Symbol("_errored"),Yb=class extends _Y{constructor(e,r){r=r||{};super(r);if(this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Bl]=!1,this[Pt]=typeof r.fd=="number"?r.fd:null,this[Bo]=e,this[AD]=r.readSize||16*1024*1024,this[Ls]=!1,this[DD]=typeof r.size=="number"?r.size:1/0,this[og]=this[DD],this[Fl]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Pt]=="number"?this[$l]():this[Ns]()}get fd(){return this[Pt]}get path(){return this[Bo]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Ns](){ln.open(this[Bo],"r",(e,r)=>this[ql](e,r))}[ql](e,r){e?this[Ml](e):(this[Pt]=r,this.emit("open",r),this[$l]())}[Wb](){return Buffer.allocUnsafe(Math.min(this[AD],this[og]))}[$l](){if(!this[Ls]){this[Ls]=!0;let e=this[Wb]();if(e.length===0)return process.nextTick(()=>this[Kb](null,0,e));ln.read(this[Pt],e,0,e.length,null,(r,n,i)=>this[Kb](r,n,i))}}[Kb](e,r,n){this[Ls]=!1,e?this[Ml](e):this[Gb](r,n)&&this[$l]()}[Ti](){if(this[Fl]&&typeof this[Pt]=="number"){let e=this[Pt];this[Pt]=null,ln.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[Ml](e){this[Ls]=!0,this[Ti](),this.emit("error",e)}[Gb](e,r){let n=!1;return this[og]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[og]<=0)&&(n=!1,this[Ti](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Pt]=="number"&&this[$l]();break;case"error":return this[Bl]?void 0:(this[Bl]=!0,super.emit(e,r));default:return super.emit(e,r)}}},RD=class extends Yb{[Ns](){let e=!0;try{this[ql](null,ln.openSync(this[Bo],"r")),e=!1}finally{e&&this[Ti]()}}[$l](){let e=!0;try{if(!this[Ls]){this[Ls]=!0;do{let r=this[Wb](),n=r.length===0?0:ln.readSync(this[Pt],r,0,r.length,null);if(!this[Gb](n,r))break}while(!0);this[Ls]=!1}e=!1}finally{e&&this[Ti]()}}[Ti](){if(this[Fl]&&typeof this[Pt]=="number"){let e=this[Pt];this[Pt]=null,ln.closeSync(e),this.emit("close")}}},Jb=class extends SY{constructor(e,r){r=r||{};super(r);this.readable=!1,this.writable=!0,this[Bl]=!1,this[Ul]=!1,this[md]=!1,this[ig]=!1,this[lo]=[],this[Bo]=e,this[Pt]=typeof r.fd=="number"?r.fd:null,this[ng]=r.mode===void 0?438:r.mode,this[rc]=typeof r.start=="number"?r.start:null,this[Fl]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[rc]!==null?"r+":"w";this[ag]=r.flags===void 0,this[Os]=this[ag]?n:r.flags,this[Pt]===null&&this[Ns]()}emit(e,r){if(e==="error"){if(this[Bl])return;this[Bl]=!0}return super.emit(e,r)}get fd(){return this[Pt]}get path(){return this[Bo]}[Ml](e){this[Ti](),this[Ul]=!0,this.emit("error",e)}[Ns](){ln.open(this[Bo],this[Os],this[ng],(e,r)=>this[ql](e,r))}[ql](e,r){this[ag]&&this[Os]==="r+"&&e&&e.code==="ENOENT"?(this[Os]="w",this[Ns]()):e?this[Ml](e):(this[Pt]=r,this.emit("open",r),this[zb]())}end(e,r){return e&&this.write(e,r),this[md]=!0,!this[Ul]&&!this[lo].length&&typeof this[Pt]=="number"&&this[jl](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[md]?(this.emit("error",new Error("write() after end()")),!1):this[Pt]===null||this[Ul]||this[lo].length?(this[lo].push(e),this[ig]=!0,!1):(this[Ul]=!0,this[sg](e),!0)}[sg](e){ln.write(this[Pt],e,0,e.length,this[rc],(r,n)=>this[jl](r,n))}[jl](e,r){e?this[Ml](e):(this[rc]!==null&&(this[rc]+=r),this[lo].length?this[zb]():(this[Ul]=!1,this[md]&&!this[TD]?(this[TD]=!0,this[Ti](),this.emit("finish")):this[ig]&&(this[ig]=!1,this.emit("drain"))))}[zb](){if(this[lo].length===0)this[md]&&this[jl](null,0);else if(this[lo].length===1)this[sg](this[lo].pop());else{let e=this[lo];this[lo]=[],Vb(this[Pt],e,this[rc],(r,n)=>this[jl](r,n))}}[Ti](){if(this[Fl]&&typeof this[Pt]=="number"){let e=this[Pt];this[Pt]=null,ln.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},OD=class extends Jb{[Ns](){let e;if(this[ag]&&this[Os]==="r+")try{e=ln.openSync(this[Bo],this[Os],this[ng])}catch(r){if(r.code==="ENOENT")return this[Os]="w",this[Ns]();throw r}else e=ln.openSync(this[Bo],this[Os],this[ng]);this[ql](null,e)}[Ti](){if(this[Fl]&&typeof this[Pt]=="number"){let e=this[Pt];this[Pt]=null,ln.closeSync(e),this.emit("close")}}[sg](e){let r=!0;try{this[jl](null,ln.writeSync(this[Pt],e,0,e.length,this[rc])),r=!1}finally{if(r)try{this[Ti]()}catch{}}}};gd.ReadStream=Yb;gd.ReadStreamSync=RD;gd.WriteStream=Jb;gd.WriteStreamSync=OD});var hg=I((sbe,$D)=>{"use strict";var xY=Hm(),PY=Ol(),kY=require("events"),IY=ad(),TY=1024*1024,AY=jm(),ND=Bm(),DY=hb(),Qb=Buffer.from([31,139]),Xn=Symbol("state"),nc=Symbol("writeEntry"),Ho=Symbol("readEntry"),Xb=Symbol("nextEntry"),LD=Symbol("processEntry"),Zn=Symbol("extendedHeader"),vd=Symbol("globalExtendedHeader"),Fs=Symbol("meta"),FD=Symbol("emitMeta"),Lt=Symbol("buffer"),Vo=Symbol("queue"),ic=Symbol("ended"),MD=Symbol("emittedEnd"),oc=Symbol("emit"),un=Symbol("unzip"),cg=Symbol("consumeChunk"),lg=Symbol("consumeChunkSub"),Zb=Symbol("consumeBody"),qD=Symbol("consumeMeta"),jD=Symbol("consumeHeader"),ug=Symbol("consuming"),eE=Symbol("bufferConcat"),tE=Symbol("maybeEnd"),yd=Symbol("writing"),Ms=Symbol("aborted"),fg=Symbol("onDone"),sc=Symbol("sawValidEntry"),dg=Symbol("sawNullBlock"),pg=Symbol("sawEOF"),RY=t=>!0;$D.exports=xY(class extends kY{constructor(e){e=e||{};super(e);this.file=e.file||"",this[sc]=null,this.on(fg,r=>{(this[Xn]==="begin"||this[sc]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(fg,e.ondone):this.on(fg,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||TY,this.filter=typeof e.filter=="function"?e.filter:RY,this.writable=!0,this.readable=!1,this[Vo]=new IY,this[Lt]=null,this[Ho]=null,this[nc]=null,this[Xn]="begin",this[Fs]="",this[Zn]=null,this[vd]=null,this[ic]=!1,this[un]=null,this[Ms]=!1,this[dg]=!1,this[pg]=!1,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[jD](e,r){this[sc]===null&&(this[sc]=!1);let n;try{n=new PY(e,r,this[Zn],this[vd])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[dg]?(this[pg]=!0,this[Xn]==="begin"&&(this[Xn]="header"),this[oc]("eof")):(this[dg]=!0,this[oc]("nullBlock"));else if(this[dg]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[nc]=new AY(n,this[Zn],this[vd]);if(!this[sc])if(o.remain){let s=()=>{o.invalid||(this[sc]=!0)};o.on("end",s)}else this[sc]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[oc]("ignoredEntry",o),this[Xn]="ignore",o.resume()):o.size>0&&(this[Fs]="",o.on("data",s=>this[Fs]+=s),this[Xn]="meta"):(this[Zn]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[oc]("ignoredEntry",o),this[Xn]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Xn]="body":(this[Xn]="header",o.end()),this[Ho]?this[Vo].push(o):(this[Vo].push(o),this[Xb]())))}}}[LD](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Ho]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[Xb]()),r=!1)):(this[Ho]=null,r=!1),r}[Xb](){do;while(this[LD](this[Vo].shift()));if(!this[Vo].length){let e=this[Ho];!e||e.flowing||e.size===e.remain?this[yd]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[Zb](e,r){let n=this[nc],i=n.blockRemain,o=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(o),n.blockRemain||(this[Xn]="header",this[nc]=null,n.end()),o.length}[qD](e,r){let n=this[nc],i=this[Zb](e,r);return this[nc]||this[FD](n),i}[oc](e,r,n){!this[Vo].length&&!this[Ho]?this.emit(e,r,n):this[Vo].push([e,r,n])}[FD](e){switch(this[oc]("meta",this[Fs]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Zn]=ND.parse(this[Fs],this[Zn],!1);break;case"GlobalExtendedHeader":this[vd]=ND.parse(this[Fs],this[vd],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Zn]=this[Zn]||Object.create(null),this[Zn].path=this[Fs].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Zn]=this[Zn]||Object.create(null),this[Zn].linkpath=this[Fs].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Ms]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Ms])return;if(this[un]===null&&e){if(this[Lt]&&(e=Buffer.concat([this[Lt],e]),this[Lt]=null),e.length<Qb.length)return this[Lt]=e,!0;for(let n=0;this[un]===null&&n<Qb.length;n++)e[n]!==Qb[n]&&(this[un]=!1);if(this[un]===null){let n=this[ic];this[ic]=!1,this[un]=new DY.Unzip,this[un].on("data",o=>this[cg](o)),this[un].on("error",o=>this.abort(o)),this[un].on("end",o=>{this[ic]=!0,this[cg]()}),this[yd]=!0;let i=this[un][n?"end":"write"](e);return this[yd]=!1,i}}this[yd]=!0,this[un]?this[un].write(e):this[cg](e),this[yd]=!1;let r=this[Vo].length?!1:this[Ho]?this[Ho].flowing:!0;return!r&&!this[Vo].length&&this[Ho].once("drain",n=>this.emit("drain")),r}[eE](e){e&&!this[Ms]&&(this[Lt]=this[Lt]?Buffer.concat([this[Lt],e]):e)}[tE](){if(this[ic]&&!this[MD]&&!this[Ms]&&!this[ug]){this[MD]=!0;let e=this[nc];if(e&&e.blockRemain){let r=this[Lt]?this[Lt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[Lt]&&e.write(this[Lt]),e.end()}this[oc](fg)}}[cg](e){if(this[ug])this[eE](e);else if(!e&&!this[Lt])this[tE]();else{if(this[ug]=!0,this[Lt]){this[eE](e);let r=this[Lt];this[Lt]=null,this[lg](r)}else this[lg](e);for(;this[Lt]&&this[Lt].length>=512&&!this[Ms]&&!this[pg];){let r=this[Lt];this[Lt]=null,this[lg](r)}this[ug]=!1}(!this[Lt]||this[ic])&&this[tE]()}[lg](e){let r=0,n=e.length;for(;r+512<=n&&!this[Ms]&&!this[pg];)switch(this[Xn]){case"begin":case"header":this[jD](e,r),r+=512;break;case"ignore":case"body":r+=this[Zb](e,r);break;case"meta":r+=this[qD](e,r);break;default:throw new Error("invalid state: "+this[Xn])}r<n&&(this[Lt]?this[Lt]=Buffer.concat([e.slice(r),this[Lt]]):this[Lt]=e.slice(r))}end(e){this[Ms]||(this[un]?this[un].end(e):(this[ic]=!0,this.write(e)))}})});var mg=I((abe,VD)=>{"use strict";var OY=Il(),UD=hg(),Vl=require("fs"),NY=Hl(),BD=require("path"),rE=Nl();VD.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=OY(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&FY(n,e),n.noResume||LY(n),n.file&&n.sync?MY(n):n.file?qY(n,r):HD(n)};var LY=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},FY=(t,e)=>{let r=new Map(e.map(o=>[rE(o),!0])),n=t.filter,i=(o,s)=>{let a=s||BD.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(BD.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,s)=>n(o,s)&&i(rE(o)):o=>i(rE(o))},MY=t=>{let e=HD(t),r=t.file,n=!0,i;try{let o=Vl.statSync(r),s=t.maxReadSize||16*1024*1024;if(o.size<s)e.end(Vl.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(s);for(i=Vl.openSync(r,"r");a<o.size;){let l=Vl.readSync(i,c,0,s,a);a+=l,e.write(c.slice(0,l))}e.end()}n=!1}finally{if(n&&i)try{Vl.closeSync(i)}catch{}}},qY=(t,e)=>{let r=new UD(t),n=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{r.on("error",a),r.on("end",s),Vl.stat(i,(c,l)=>{if(c)a(c);else{let u=new NY.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return e?o.then(e,e):o},HD=t=>new UD(t)});var JD=I((cbe,YD)=>{"use strict";var jY=Il(),gg=rg(),zD=Hl(),GD=mg(),WD=require("path");YD.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=jY(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?$Y(n,e):n.file?UY(n,e,r):n.sync?BY(n,e):HY(n,e)};var $Y=(t,e)=>{let r=new gg.Sync(t),n=new zD.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),KD(r,e)},UY=(t,e,r)=>{let n=new gg(t),i=new zD.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),n.on("error",a)});return nE(n,e),r?o.then(r,r):o},KD=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?GD({file:WD.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},nE=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return GD({file:WD.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>nE(t,e));t.add(r)}t.end()},BY=(t,e)=>{let r=new gg.Sync(t);return KD(r,e),r},HY=(t,e)=>{let r=new gg(t);return nE(r,e),r}});var iE=I((lbe,nR)=>{"use strict";var VY=Il(),QD=rg(),Rn=require("fs"),XD=Hl(),ZD=mg(),eR=require("path"),tR=Ol();nR.exports=(t,e,r)=>{let n=VY(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?zY(n,e):WY(n,e,r)};var zY=(t,e)=>{let r=new QD.Sync(t),n=!0,i,o;try{try{i=Rn.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")i=Rn.openSync(t.file,"w+");else throw c}let s=Rn.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let u=0,f=0;u<512;u+=f){if(f=Rn.readSync(i,a,u,a.length-u,o+u),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new tR(a);if(!c.cksumValid)break;let l=512*Math.ceil(c.size/512);if(o+l+512>s.size)break;o+=l,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,GY(t,r,o,i,e)}finally{if(n)try{Rn.closeSync(i)}catch{}}},GY=(t,e,r,n,i)=>{let o=new XD.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(o),KY(e,i)},WY=(t,e,r)=>{e=Array.from(e);let n=new QD(t),i=(s,a,c)=>{let l=(h,m)=>{h?Rn.close(s,g=>c(h)):c(null,m)},u=0;if(a===0)return l(null,0);let f=0,d=Buffer.alloc(512),p=(h,m)=>{if(h)return l(h);if(f+=m,f<512&&m)return Rn.read(s,d,f,d.length-f,u+f,p);if(u===0&&d[0]===31&&d[1]===139)return l(new Error("cannot append to compressed archives"));if(f<512)return l(null,u);let g=new tR(d);if(!g.cksumValid)return l(null,u);let v=512*Math.ceil(g.size/512);if(u+v+512>a||(u+=v+512,u>=a))return l(null,u);t.mtimeCache&&t.mtimeCache.set(g.path,g.mtime),f=0,Rn.read(s,d,0,512,u,p)};Rn.read(s,d,0,512,u,p)},o=new Promise((s,a)=>{n.on("error",a);let c="r+",l=(u,f)=>{if(u&&u.code==="ENOENT"&&c==="r+")return c="w+",Rn.open(t.file,c,l);if(u)return a(u);Rn.fstat(f,(d,p)=>{if(d)return Rn.close(f,()=>a(d));i(f,p.size,(h,m)=>{if(h)return a(h);let g=new XD.WriteStream(t.file,{fd:f,start:m});n.pipe(g),g.on("error",a),g.on("close",s),rR(n,e)})})};Rn.open(t.file,c,l)});return r?o.then(r,r):o},KY=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?ZD({file:eR.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},rR=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return ZD({file:eR.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>rR(t,e));t.add(r)}t.end()}});var oR=I((ube,iR)=>{"use strict";var YY=Il(),JY=iE();iR.exports=(t,e,r)=>{let n=YY(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),QY(n),JY(n,e,r)};var QY=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var cR=I((fbe,aR)=>{var{promisify:sR}=require("util"),qs=require("fs"),XY=t=>{if(!t)t={mode:511,fs:qs};else if(typeof t=="object")t=W({mode:511,fs:qs},t);else if(typeof t=="number")t={mode:t,fs:qs};else if(typeof t=="string")t={mode:parseInt(t,8),fs:qs};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||qs.mkdir,t.mkdirAsync=sR(t.mkdir),t.stat=t.stat||t.fs.stat||qs.stat,t.statAsync=sR(t.stat),t.statSync=t.statSync||t.fs.statSync||qs.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||qs.mkdirSync,t};aR.exports=XY});var uR=I((dbe,lR)=>{var ZY=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:e7,parse:t7}=require("path"),r7=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=e7(t),ZY==="win32"){let e=/[*|"<>?:]/,{root:r}=t7(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};lR.exports=r7});var mR=I((pbe,hR)=>{var{dirname:fR}=require("path"),dR=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?dR(t,fR(e),e):void 0),pR=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?pR(t,fR(e),e):void 0}};hR.exports={findMade:dR,findMadeSync:pR}});var aE=I((hbe,vR)=>{var{dirname:gR}=require("path"),oE=(t,e,r)=>{e.recursive=!1;let n=gR(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return oE(n,e).then(o=>oE(t,e,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(o=>{if(o.isDirectory())return r;throw i},()=>{throw i})})},sE=(t,e,r)=>{let n=gR(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return sE(t,e,sE(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};vR.exports={mkdirpManual:oE,mkdirpManualSync:sE}});var CR=I((mbe,wR)=>{var{dirname:yR}=require("path"),{findMade:n7,findMadeSync:i7}=mR(),{mkdirpManual:o7,mkdirpManualSync:s7}=aE(),a7=(t,e)=>(e.recursive=!0,yR(t)===t?e.mkdirAsync(t,e):n7(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return o7(t,e);throw i}))),c7=(t,e)=>{if(e.recursive=!0,yR(t)===t)return e.mkdirSync(t,e);let n=i7(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return s7(t,e);throw i}};wR.exports={mkdirpNative:a7,mkdirpNativeSync:c7}});var SR=I((gbe,_R)=>{var bR=require("fs"),l7=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,cE=l7.replace(/^v/,"").split("."),ER=+cE[0]>10||+cE[0]==10&&+cE[1]>=12,u7=ER?t=>t.mkdir===bR.mkdir:()=>!1,f7=ER?t=>t.mkdirSync===bR.mkdirSync:()=>!1;_R.exports={useNative:u7,useNativeSync:f7}});var AR=I((vbe,TR)=>{var zl=cR(),Gl=uR(),{mkdirpNative:xR,mkdirpNativeSync:PR}=CR(),{mkdirpManual:kR,mkdirpManualSync:IR}=aE(),{useNative:d7,useNativeSync:p7}=SR(),Wl=(t,e)=>(t=Gl(t),e=zl(e),d7(e)?xR(t,e):kR(t,e)),h7=(t,e)=>(t=Gl(t),e=zl(e),p7(e)?PR(t,e):IR(t,e));Wl.sync=h7;Wl.native=(t,e)=>xR(Gl(t),zl(e));Wl.manual=(t,e)=>kR(Gl(t),zl(e));Wl.nativeSync=(t,e)=>PR(Gl(t),zl(e));Wl.manualSync=(t,e)=>IR(Gl(t),zl(e));TR.exports=Wl});var MR=I((ybe,FR)=>{"use strict";var ei=require("fs"),ac=require("path"),m7=ei.lchown?"lchown":"chown",g7=ei.lchownSync?"lchownSync":"chownSync",DR=ei.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),RR=(t,e,r)=>{try{return ei[g7](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},v7=(t,e,r)=>{try{return ei.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},y7=DR?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):ei.chown(t,e,r,n)}:(t,e,r,n)=>n,lE=DR?(t,e,r)=>{try{return RR(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;v7(t,e,r)}}:(t,e,r)=>RR(t,e,r),w7=process.version,OR=(t,e,r)=>ei.readdir(t,e,r),C7=(t,e)=>ei.readdirSync(t,e);/^v4\./.test(w7)&&(OR=(t,e,r)=>ei.readdir(t,r));var vg=(t,e,r,n)=>{ei[m7](t,e,r,y7(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},NR=(t,e,r,n,i)=>{if(typeof e=="string")return ei.lstat(ac.resolve(t,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,NR(t,s,r,n,i)});if(e.isDirectory())uE(ac.resolve(t,e.name),r,n,o=>{if(o)return i(o);let s=ac.resolve(t,e.name);vg(s,r,n,i)});else{let o=ac.resolve(t,e.name);vg(o,r,n,i)}},uE=(t,e,r,n)=>{OR(t,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!o.length)return vg(t,e,r,n);let s=o.length,a=null,c=l=>{if(!a){if(l)return n(a=l);if(--s==0)return vg(t,e,r,n)}};o.forEach(l=>NR(t,l,e,r,c))})},b7=(t,e,r,n)=>{if(typeof e=="string")try{let i=ei.lstatSync(ac.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&LR(ac.resolve(t,e.name),r,n),lE(ac.resolve(t,e.name),r,n)},LR=(t,e,r)=>{let n;try{n=C7(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return lE(t,e,r);throw i}return n&&n.length&&n.forEach(i=>b7(t,i,e,r)),lE(t,e,r)};FR.exports=uE;uE.sync=LR});var UR=I((wbe,pE)=>{"use strict";var qR=AR(),ti=require("fs"),yg=require("path"),jR=MR(),Ai=Dl(),fE=class extends Error{constructor(e,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=e}get name(){return"SylinkError"}},dE=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'");this.path=e,this.code=r}get name(){return"CwdError"}},wg=(t,e)=>t.get(Ai(e)),wd=(t,e,r)=>t.set(Ai(e),r),E7=(t,e)=>{ti.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new dE(t,r&&r.code||"ENOTDIR")),e(r)})};pE.exports=(t,e,r)=>{t=Ai(t);let n=e.umask,i=e.mode|448,o=(i&n)!=0,s=e.uid,a=e.gid,c=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),l=e.preserve,u=e.unlink,f=e.cache,d=Ai(e.cwd),p=(g,v)=>{g?r(g):(wd(f,t,!0),v&&c?jR(v,s,a,y=>p(y)):o?ti.chmod(t,i,r):r())};if(f&&wg(f,t)===!0)return p();if(t===d)return E7(t,p);if(l)return qR(t,{mode:i}).then(g=>p(null,g),p);let m=Ai(yg.relative(d,t)).split("/");Cg(d,m,i,f,u,d,null,p)};var Cg=(t,e,r,n,i,o,s,a)=>{if(!e.length)return a(null,s);let c=e.shift(),l=Ai(yg.resolve(t+"/"+c));if(wg(n,l))return Cg(l,e,r,n,i,o,s,a);ti.mkdir(l,r,$R(l,e,r,n,i,o,s,a))},$R=(t,e,r,n,i,o,s,a)=>c=>{c?ti.lstat(t,(l,u)=>{if(l)l.path=l.path&&Ai(l.path),a(l);else if(u.isDirectory())Cg(t,e,r,n,i,o,s,a);else if(i)ti.unlink(t,f=>{if(f)return a(f);ti.mkdir(t,r,$R(t,e,r,n,i,o,s,a))});else{if(u.isSymbolicLink())return a(new fE(t,t+"/"+e.join("/")));a(c)}}):(s=s||t,Cg(t,e,r,n,i,o,s,a))},_7=t=>{let e=!1,r="ENOTDIR";try{e=ti.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new dE(t,r)}};pE.exports.sync=(t,e)=>{t=Ai(t);let r=e.umask,n=e.mode|448,i=(n&r)!=0,o=e.uid,s=e.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==e.processUid||s!==e.processGid),c=e.preserve,l=e.unlink,u=e.cache,f=Ai(e.cwd),d=g=>{wd(u,t,!0),g&&a&&jR.sync(g,o,s),i&&ti.chmodSync(t,n)};if(u&&wg(u,t)===!0)return d();if(t===f)return _7(f),d();if(c)return d(qR.sync(t,n));let h=Ai(yg.relative(f,t)).split("/"),m=null;for(let g=h.shift(),v=f;g&&(v+="/"+g);g=h.shift())if(v=Ai(yg.resolve(v)),!wg(u,v))try{ti.mkdirSync(v,n),m=m||v,wd(u,v,!0)}catch{let C=ti.lstatSync(v);if(C.isDirectory()){wd(u,v,!0);continue}else if(l){ti.unlinkSync(v),ti.mkdirSync(v,n),m=m||v,wd(u,v,!0);continue}else if(C.isSymbolicLink())return new fE(v,v+"/"+h.join("/"))}return d(m)}});var mE=I((Cbe,BR)=>{var hE=Object.create(null),{hasOwnProperty:S7}=Object.prototype;BR.exports=t=>(S7.call(hE,t)||(hE[t]=t.normalize("NFKD")),hE[t])});var GR=I((bbe,zR)=>{var HR=require("assert"),x7=mE(),P7=Nl(),{join:VR}=require("path"),k7=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,I7=k7==="win32";zR.exports=()=>{let t=new Map,e=new Map,r=l=>l.split("/").slice(0,-1).reduce((f,d)=>(f.length&&(d=VR(f[f.length-1],d)),f.push(d||"/"),f),[]),n=new Set,i=l=>{let u=e.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(f=>t.get(f)),dirs:[...u.dirs].map(f=>t.get(f))}},o=l=>{let{paths:u,dirs:f}=i(l);return u.every(d=>d[0]===l)&&f.every(d=>d[0]instanceof Set&&d[0].has(l))},s=l=>n.has(l)||!o(l)?!1:(n.add(l),l(()=>a(l)),!0),a=l=>{if(!n.has(l))return!1;let{paths:u,dirs:f}=e.get(l),d=new Set;return u.forEach(p=>{let h=t.get(p);HR.equal(h[0],l),h.length===1?t.delete(p):(h.shift(),typeof h[0]=="function"?d.add(h[0]):h[0].forEach(m=>d.add(m)))}),f.forEach(p=>{let h=t.get(p);HR(h[0]instanceof Set),h[0].size===1&&h.length===1?t.delete(p):h[0].size===1?(h.shift(),d.add(h[0])):h[0].delete(l)}),n.delete(l),d.forEach(p=>s(p)),!0};return{check:o,reserve:(l,u)=>{l=I7?["win32 parallelization disabled"]:l.map(d=>x7(P7(VR(d))).toLowerCase());let f=new Set(l.map(d=>r(d)).reduce((d,p)=>d.concat(p)));return e.set(u,{dirs:f,paths:l}),l.forEach(d=>{let p=t.get(d);p?p.push(u):t.set(d,[u])}),f.forEach(d=>{let p=t.get(d);p?p[p.length-1]instanceof Set?p[p.length-1].add(u):p.push(new Set([u])):t.set(d,[new Set([u])])}),s(u)}}}});var YR=I((Ebe,KR)=>{var T7=process.env.__FAKE_PLATFORM__||process.platform,A7=T7==="win32",D7=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:R7,O_TRUNC:O7,O_WRONLY:N7,UV_FS_O_FILEMAP:WR=0}=D7.constants,L7=A7&&!!WR,F7=512*1024,M7=WR|O7|R7|N7;KR.exports=L7?t=>t<F7?M7:"w":()=>"w"});var _E=I((_be,uO)=>{"use strict";var q7=require("assert"),j7=hg(),mt=require("fs"),$7=Hl(),zo=require("path"),JR=UR(),QR=_b(),U7=GR(),B7=Sb(),On=Dl(),H7=Nl(),V7=mE(),XR=Symbol("onEntry"),gE=Symbol("checkFs"),ZR=Symbol("checkFs2"),bg=Symbol("pruneCache"),vE=Symbol("isReusable"),ri=Symbol("makeFs"),yE=Symbol("file"),wE=Symbol("directory"),Eg=Symbol("link"),eO=Symbol("symlink"),tO=Symbol("hardlink"),rO=Symbol("unsupported"),nO=Symbol("checkPath"),js=Symbol("mkdir"),Br=Symbol("onError"),_g=Symbol("pending"),iO=Symbol("pend"),Kl=Symbol("unpend"),CE=Symbol("ended"),bE=Symbol("maybeClose"),EE=Symbol("skip"),Cd=Symbol("doChown"),bd=Symbol("uid"),Ed=Symbol("gid"),_d=Symbol("checkedCwd"),oO=require("crypto"),sO=YR(),z7=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Sd=z7==="win32",G7=(t,e)=>{if(!Sd)return mt.unlink(t,e);let r=t+".DELETE."+oO.randomBytes(16).toString("hex");mt.rename(t,r,n=>{if(n)return e(n);mt.unlink(r,e)})},W7=t=>{if(!Sd)return mt.unlinkSync(t);let e=t+".DELETE."+oO.randomBytes(16).toString("hex");mt.renameSync(t,e),mt.unlinkSync(e)},aO=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,cO=t=>V7(H7(On(t))).toLowerCase(),K7=(t,e)=>{e=cO(e);for(let r of t.keys()){let n=cO(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},Y7=t=>{for(let e of t.keys())t.delete(e)},Sg=class extends j7{constructor(e){e||(e={}),e.ondone=r=>{this[CE]=!0,this[bE]()};super(e);if(this[_d]=!1,this.reservations=U7(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[_g]=0,this[CE]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Sd,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=On(zo.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[XR](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[bE](){this[CE]&&this[_g]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[nO](e){if(this.strip){let r=On(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=On(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=On(e.path),n=r.split("/");if(n.includes("..")||Sd&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[i,o]=B7(r);i&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r}))}if(zo.isAbsolute(e.path)?e.absolute=On(zo.resolve(e.path)):e.absolute=On(zo.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:On(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=zo.win32.parse(e.absolute);e.absolute=r+QR.encode(e.absolute.substr(r.length));let{root:n}=zo.win32.parse(e.path);e.path=n+QR.encode(e.path.substr(n.length))}return!0}[XR](e){if(!this[nO](e))return e.resume();switch(q7.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[gE](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[rO](e)}}[Br](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[Kl](),r.resume())}[js](e,r,n){JR(On(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Cd](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[bd](e){return aO(this.uid,e.uid,this.processUid)}[Ed](e){return aO(this.gid,e.gid,this.processGid)}[yE](e,r){let n=e.mode&4095||this.fmode,i=new $7.WriteStream(e.absolute,{flags:sO(e.size),mode:n,autoClose:!1});i.on("error",c=>{i.fd&&mt.close(i.fd,()=>{}),i.write=()=>!0,this[Br](c,e),r()});let o=1,s=c=>{if(c){i.fd&&mt.close(i.fd,()=>{}),this[Br](c,e),r();return}--o==0&&mt.close(i.fd,l=>{l?this[Br](l,e):this[Kl](),r()})};i.on("finish",c=>{let l=e.absolute,u=i.fd;if(e.mtime&&!this.noMtime){o++;let f=e.atime||new Date,d=e.mtime;mt.futimes(u,f,d,p=>p?mt.utimes(l,f,d,h=>s(h&&p)):s())}if(this[Cd](e)){o++;let f=this[bd](e),d=this[Ed](e);mt.fchown(u,f,d,p=>p?mt.chown(l,f,d,h=>s(h&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[Br](c,e),r()}),e.pipe(a)),a.pipe(i)}[wE](e,r){let n=e.mode&4095||this.dmode;this[js](e.absolute,n,i=>{if(i){this[Br](i,e),r();return}let o=1,s=a=>{--o==0&&(r(),this[Kl](),e.resume())};e.mtime&&!this.noMtime&&(o++,mt.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[Cd](e)&&(o++,mt.chown(e.absolute,this[bd](e),this[Ed](e),s)),s()})}[rO](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[eO](e,r){this[Eg](e,e.linkpath,"symlink",r)}[tO](e,r){let n=On(zo.resolve(this.cwd,e.linkpath));this[Eg](e,n,"link",r)}[iO](){this[_g]++}[Kl](){this[_g]--,this[bE]()}[EE](e){this[Kl](),e.resume()}[vE](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!Sd}[gE](e){this[iO]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[ZR](e,n))}[bg](e){e.type==="SymbolicLink"?Y7(this.dirCache):e.type!=="Directory"&&K7(this.dirCache,e.absolute)}[ZR](e,r){this[bg](e);let n=a=>{this[bg](e),r(a)},i=()=>{this[js](this.cwd,this.dmode,a=>{if(a){this[Br](a,e),n();return}this[_d]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=On(zo.dirname(e.absolute));if(a!==this.cwd)return this[js](a,this.dmode,c=>{if(c){this[Br](c,e),n();return}s()})}s()},s=()=>{mt.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[EE](e),n();return}if(a||this[vE](e,c))return this[ri](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let l=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,u=f=>this[ri](f,e,n);return l?mt.chmod(e.absolute,e.mode,u):u()}if(e.absolute!==this.cwd)return mt.rmdir(e.absolute,l=>this[ri](l,e,n))}if(e.absolute===this.cwd)return this[ri](null,e,n);G7(e.absolute,l=>this[ri](l,e,n))})};this[_d]?o():i()}[ri](e,r,n){if(e){this[Br](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[yE](r,n);case"Link":return this[tO](r,n);case"SymbolicLink":return this[eO](r,n);case"Directory":case"GNUDumpDir":return this[wE](r,n)}}[Eg](e,r,n,i){mt[n](r,e.absolute,o=>{o?this[Br](o,e):(this[Kl](),e.resume()),i()})}},xg=t=>{try{return[null,t()]}catch(e){return[e,null]}},lO=class extends Sg{[ri](e,r){return super[ri](e,r,()=>{})}[gE](e){if(this[bg](e),!this[_d]){let o=this[js](this.cwd,this.dmode);if(o)return this[Br](o,e);this[_d]=!0}if(e.absolute!==this.cwd){let o=On(zo.dirname(e.absolute));if(o!==this.cwd){let s=this[js](o,this.dmode);if(s)return this[Br](s,e)}}let[r,n]=xg(()=>mt.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[EE](e);if(r||this[vE](e,n))return this[ri](null,e);if(n.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=s?xg(()=>{mt.chmodSync(e.absolute,e.mode)}):[];return this[ri](a,e)}let[o]=xg(()=>mt.rmdirSync(e.absolute));this[ri](o,e)}let[i]=e.absolute===this.cwd?[]:xg(()=>W7(e.absolute));this[ri](i,e)}[yE](e,r){let n=e.mode&4095||this.fmode,i=a=>{let c;try{mt.closeSync(o)}catch(l){c=l}(a||c)&&this[Br](a||c,e),r()},o;try{o=mt.openSync(e.absolute,sO(e.size),n)}catch(a){return i(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[Br](a,e)),e.pipe(s)),s.on("data",a=>{try{mt.writeSync(o,a,0,a.length)}catch(c){i(c)}}),s.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let l=e.atime||new Date,u=e.mtime;try{mt.futimesSync(o,l,u)}catch(f){try{mt.utimesSync(e.absolute,l,u)}catch{c=f}}}if(this[Cd](e)){let l=this[bd](e),u=this[Ed](e);try{mt.fchownSync(o,l,u)}catch(f){try{mt.chownSync(e.absolute,l,u)}catch{c=c||f}}}i(c)})}[wE](e,r){let n=e.mode&4095||this.dmode,i=this[js](e.absolute,n);if(i){this[Br](i,e),r();return}if(e.mtime&&!this.noMtime)try{mt.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Cd](e))try{mt.chownSync(e.absolute,this[bd](e),this[Ed](e))}catch{}r(),e.resume()}[js](e,r){try{return JR.sync(On(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Eg](e,r,n,i){try{mt[n+"Sync"](r,e.absolute),i(),e.resume()}catch(o){return this[Br](o,e)}}};Sg.Sync=lO;uO.exports=Sg});var mO=I((Sbe,hO)=>{"use strict";var J7=Il(),Pg=_E(),fO=require("fs"),dO=Hl(),pO=require("path"),SE=Nl();hO.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=J7(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&Q7(n,e),n.file&&n.sync?X7(n):n.file?Z7(n,r):n.sync?eJ(n):tJ(n)};var Q7=(t,e)=>{let r=new Map(e.map(o=>[SE(o),!0])),n=t.filter,i=(o,s)=>{let a=s||pO.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):i(pO.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,s)=>n(o,s)&&i(SE(o)):o=>i(SE(o))},X7=t=>{let e=new Pg.Sync(t),r=t.file,n=fO.statSync(r),i=t.maxReadSize||16*1024*1024;new dO.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},Z7=(t,e)=>{let r=new Pg(t),n=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{r.on("error",a),r.on("close",s),fO.stat(i,(c,l)=>{if(c)a(c);else{let u=new dO.ReadStream(i,{readSize:n,size:l.size});u.on("error",a),u.pipe(r)}})});return e?o.then(e,e):o},eJ=t=>new Pg.Sync(t),tJ=t=>new Pg(t)});var Yl=I(fr=>{"use strict";fr.c=fr.create=JD();fr.r=fr.replace=iE();fr.t=fr.list=mg();fr.u=fr.update=oR();fr.x=fr.extract=mO();fr.Pack=rg();fr.Unpack=_E();fr.Parse=hg();fr.ReadEntry=jm();fr.WriteEntry=Ob();fr.Header=Ol();fr.Pax=Bm();fr.types=vb()});var PE=I(xE=>{"use strict";Object.defineProperty(xE,"__esModule",{value:!0});xE.default=iJ;var rJ=nJ(require("crypto"));function nJ(t){return t&&t.__esModule?t:{default:t}}var kg=new Uint8Array(256),Ig=kg.length;function iJ(){return Ig>kg.length-16&&(rJ.default.randomFillSync(kg),Ig=0),kg.slice(Ig,Ig+=16)}});var gO=I(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});Tg.default=void 0;var oJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Tg.default=oJ});var xd=I(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.default=void 0;var sJ=aJ(gO());function aJ(t){return t&&t.__esModule?t:{default:t}}function cJ(t){return typeof t=="string"&&sJ.default.test(t)}var lJ=cJ;Ag.default=lJ});var Pd=I(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});Dg.default=void 0;var uJ=fJ(xd());function fJ(t){return t&&t.__esModule?t:{default:t}}var xr=[];for(let t=0;t<256;++t)xr.push((t+256).toString(16).substr(1));function dJ(t,e=0){let r=(xr[t[e+0]]+xr[t[e+1]]+xr[t[e+2]]+xr[t[e+3]]+"-"+xr[t[e+4]]+xr[t[e+5]]+"-"+xr[t[e+6]]+xr[t[e+7]]+"-"+xr[t[e+8]]+xr[t[e+9]]+"-"+xr[t[e+10]]+xr[t[e+11]]+xr[t[e+12]]+xr[t[e+13]]+xr[t[e+14]]+xr[t[e+15]]).toLowerCase();if(!(0,uJ.default)(r))throw TypeError("Stringified UUID is invalid");return r}var pJ=dJ;Dg.default=pJ});var wO=I(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});Rg.default=void 0;var hJ=vO(PE()),mJ=vO(Pd());function vO(t){return t&&t.__esModule?t:{default:t}}var yO,kE,IE=0,TE=0;function gJ(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let o=t.node||yO,s=t.clockseq!==void 0?t.clockseq:kE;if(o==null||s==null){let d=t.random||(t.rng||hJ.default)();o==null&&(o=yO=[d[0]|1,d[1],d[2],d[3],d[4],d[5]]),s==null&&(s=kE=(d[6]<<8|d[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:TE+1,l=a-IE+(c-TE)/1e4;if(l<0&&t.clockseq===void 0&&(s=s+1&16383),(l<0||a>IE)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");IE=a,TE=c,kE=s,a+=122192928e5;let u=((a&268435455)*1e4+c)%4294967296;i[n++]=u>>>24&255,i[n++]=u>>>16&255,i[n++]=u>>>8&255,i[n++]=u&255;let f=a/4294967296*1e4&268435455;i[n++]=f>>>8&255,i[n++]=f&255,i[n++]=f>>>24&15|16,i[n++]=f>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let d=0;d<6;++d)i[n+d]=o[d];return e||(0,mJ.default)(i)}var vJ=gJ;Rg.default=vJ});var AE=I(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.default=void 0;var yJ=wJ(xd());function wJ(t){return t&&t.__esModule?t:{default:t}}function CJ(t){if(!(0,yJ.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var bJ=CJ;Og.default=bJ});var DE=I(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.default=xJ;cc.URL=cc.DNS=void 0;var EJ=CO(Pd()),_J=CO(AE());function CO(t){return t&&t.__esModule?t:{default:t}}function SJ(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var bO="6ba7b810-9dad-11d1-80b4-00c04fd430c8";cc.DNS=bO;var EO="6ba7b811-9dad-11d1-80b4-00c04fd430c8";cc.URL=EO;function xJ(t,e,r){function n(i,o,s,a){if(typeof i=="string"&&(i=SJ(i)),typeof o=="string"&&(o=(0,_J.default)(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+i.length);if(c.set(o),c.set(i,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,s){a=a||0;for(let l=0;l<16;++l)s[a+l]=c[l];return s}return(0,EJ.default)(c)}try{n.name=t}catch{}return n.DNS=bO,n.URL=EO,n}});var _O=I(Ng=>{"use strict";Object.defineProperty(Ng,"__esModule",{value:!0});Ng.default=void 0;var PJ=kJ(require("crypto"));function kJ(t){return t&&t.__esModule?t:{default:t}}function IJ(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),PJ.default.createHash("md5").update(t).digest()}var TJ=IJ;Ng.default=TJ});var xO=I(Lg=>{"use strict";Object.defineProperty(Lg,"__esModule",{value:!0});Lg.default=void 0;var AJ=SO(DE()),DJ=SO(_O());function SO(t){return t&&t.__esModule?t:{default:t}}var RJ=(0,AJ.default)("v3",48,DJ.default),OJ=RJ;Lg.default=OJ});var kO=I(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});Fg.default=void 0;var NJ=PO(PE()),LJ=PO(Pd());function PO(t){return t&&t.__esModule?t:{default:t}}function FJ(t,e,r){t=t||{};let n=t.random||(t.rng||NJ.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,LJ.default)(n)}var MJ=FJ;Fg.default=MJ});var IO=I(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.default=void 0;var qJ=jJ(require("crypto"));function jJ(t){return t&&t.__esModule?t:{default:t}}function $J(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),qJ.default.createHash("sha1").update(t).digest()}var UJ=$J;Mg.default=UJ});var AO=I(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});qg.default=void 0;var BJ=TO(DE()),HJ=TO(IO());function TO(t){return t&&t.__esModule?t:{default:t}}var VJ=(0,BJ.default)("v5",80,HJ.default),zJ=VJ;qg.default=zJ});var DO=I(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.default=void 0;var GJ="00000000-0000-0000-0000-000000000000";jg.default=GJ});var RO=I($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0});$g.default=void 0;var WJ=KJ(xd());function KJ(t){return t&&t.__esModule?t:{default:t}}function YJ(t){if(!(0,WJ.default)(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var JJ=YJ;$g.default=JJ});var OO=I(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Object.defineProperty(Di,"v1",{enumerable:!0,get:function(){return QJ.default}});Object.defineProperty(Di,"v3",{enumerable:!0,get:function(){return XJ.default}});Object.defineProperty(Di,"v4",{enumerable:!0,get:function(){return ZJ.default}});Object.defineProperty(Di,"v5",{enumerable:!0,get:function(){return eQ.default}});Object.defineProperty(Di,"NIL",{enumerable:!0,get:function(){return tQ.default}});Object.defineProperty(Di,"version",{enumerable:!0,get:function(){return rQ.default}});Object.defineProperty(Di,"validate",{enumerable:!0,get:function(){return nQ.default}});Object.defineProperty(Di,"stringify",{enumerable:!0,get:function(){return iQ.default}});Object.defineProperty(Di,"parse",{enumerable:!0,get:function(){return oQ.default}});var QJ=Go(wO()),XJ=Go(xO()),ZJ=Go(kO()),eQ=Go(AO()),tQ=Go(DO()),rQ=Go(RO()),nQ=Go(xd()),iQ=Go(Pd()),oQ=Go(AE());function Go(t){return t&&t.__esModule?t:{default:t}}});var GO=I((nEe,zO)=>{var Jl=1e3,Ql=Jl*60,Xl=Ql*60,lc=Xl*24,gQ=lc*7,vQ=lc*365.25;zO.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return yQ(t);if(r==="number"&&isFinite(t))return e.long?CQ(t):wQ(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function yQ(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*vQ;case"weeks":case"week":case"w":return r*gQ;case"days":case"day":case"d":return r*lc;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Xl;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ql;case"seconds":case"second":case"secs":case"sec":case"s":return r*Jl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function wQ(t){var e=Math.abs(t);return e>=lc?Math.round(t/lc)+"d":e>=Xl?Math.round(t/Xl)+"h":e>=Ql?Math.round(t/Ql)+"m":e>=Jl?Math.round(t/Jl)+"s":t+"ms"}function CQ(t){var e=Math.abs(t);return e>=lc?Bg(t,e,lc,"day"):e>=Xl?Bg(t,e,Xl,"hour"):e>=Ql?Bg(t,e,Ql,"minute"):e>=Jl?Bg(t,e,Jl,"second"):t+" ms"}function Bg(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var LE=I((iEe,WO)=>{function bQ(t){r.debug=r,r.default=r,r.coerce=c,r.disable=o,r.enable=i,r.enabled=s,r.humanize=GO(),r.destroy=l,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let f=0;for(let d=0;d<u.length;d++)f=(f<<5)-f+u.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){let f,d=null;function p(...h){if(!p.enabled)return;let m=p,g=Number(new Date),v=g-(f||g);m.diff=v,m.prev=f,m.curr=g,f=g,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let y=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(b,_)=>{if(b==="%%")return"%";y++;let P=r.formatters[_];if(typeof P=="function"){let S=h[y];b=P.call(m,S),h.splice(y,1),y--}return b}),r.formatArgs.call(m,h),(m.log||r.log).apply(m,h)}return p.namespace=u,p.useColors=r.useColors(),p.color=r.selectColor(u),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?r.enabled(u):d,set:h=>{d=h}}),typeof r.init=="function"&&r.init(p),p}function n(u,f){let d=r(this.namespace+(typeof f=="undefined"?":":f)+u);return d.log=this.log,d}function i(u){r.save(u),r.names=[],r.skips=[];let f,d=(typeof u=="string"?u:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")))}function o(){let u=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(u))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function c(u){return u instanceof Error?u.stack||u.message:u}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}WO.exports=bQ});var KO=I((Ln,Hg)=>{Ln.formatArgs=_Q;Ln.save=SQ;Ln.load=xQ;Ln.useColors=EQ;Ln.storage=PQ();Ln.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ln.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function EQ(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function _Q(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Hg.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Ln.log=console.debug||console.log||(()=>{});function SQ(t){try{t?Ln.storage.setItem("debug",t):Ln.storage.removeItem("debug")}catch{}}function xQ(){let t;try{t=Ln.storage.getItem("debug")}catch{}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function PQ(){try{return localStorage}catch{}}Hg.exports=LE()(Ln);var{formatters:kQ}=Hg.exports;kQ.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var JO=I((oEe,YO)=>{"use strict";YO.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}});var ZO=I((sEe,XO)=>{"use strict";var IQ=require("os"),QO=require("tty"),ni=JO(),{env:Cr}=process,Vg;ni("no-color")||ni("no-colors")||ni("color=false")||ni("color=never")?Vg=0:(ni("color")||ni("colors")||ni("color=true")||ni("color=always"))&&(Vg=1);function TQ(){if("FORCE_COLOR"in Cr)return Cr.FORCE_COLOR==="true"?1:Cr.FORCE_COLOR==="false"?0:Cr.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Cr.FORCE_COLOR,10),3)}function AQ(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function DQ(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let n=TQ();n!==void 0&&(Vg=n);let i=r?Vg:n;if(i===0)return 0;if(r){if(ni("color=16m")||ni("color=full")||ni("color=truecolor"))return 3;if(ni("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let o=i||0;if(Cr.TERM==="dumb")return o;if(process.platform==="win32"){let s=IQ.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in Cr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(s=>s in Cr)||Cr.CI_NAME==="codeship"?1:o;if("TEAMCITY_VERSION"in Cr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Cr.TEAMCITY_VERSION)?1:0;if(Cr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Cr){let s=Number.parseInt((Cr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Cr.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Cr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Cr.TERM)||"COLORTERM"in Cr?1:o}function FE(t,e={}){let r=DQ(t,W({streamIsTTY:t&&t.isTTY},e));return AQ(r)}XO.exports={supportsColor:FE,stdout:FE({isTTY:QO.isatty(1)}),stderr:FE({isTTY:QO.isatty(2)})}});var tN=I((Pr,Gg)=>{var RQ=require("tty"),zg=require("util");Pr.init=jQ;Pr.log=FQ;Pr.formatArgs=NQ;Pr.save=MQ;Pr.load=qQ;Pr.useColors=OQ;Pr.destroy=zg.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pr.colors=[6,2,3,4,5,1];try{let t=ZO();t&&(t.stderr||t).level>=2&&(Pr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),n=process.env[e];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),t[r]=n,t},{});function OQ(){return"colors"in Pr.inspectOpts?Boolean(Pr.inspectOpts.colors):RQ.isatty(process.stderr.fd)}function NQ(t){let{namespace:e,useColors:r}=this;if(r){let n=this.color,i="[3"+(n<8?n:"8;5;"+n),o=`  ${i};1m${e} [0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+Gg.exports.humanize(this.diff)+"[0m")}else t[0]=LQ()+e+" "+t[0]}function LQ(){return Pr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function FQ(...t){return process.stderr.write(zg.format(...t)+`
`)}function MQ(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function qQ(){return process.env.DEBUG}function jQ(t){t.inspectOpts={};let e=Object.keys(Pr.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Pr.inspectOpts[e[r]]}Gg.exports=LE()(Pr);var{formatters:eN}=Gg.exports;eN.o=function(t){return this.inspectOpts.colors=this.useColors,zg.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};eN.O=function(t){return this.inspectOpts.colors=this.useColors,zg.inspect(t,this.inspectOpts)}});var rN=I((aEe,ME)=>{typeof process=="undefined"||process.type==="renderer"||process.browser===!0||process.__nwjs?ME.exports=KO():ME.exports=tN()});var iN=I((cEe,nN)=>{var Td;nN.exports=function(){if(!Td){try{Td=rN()("follow-redirects")}catch{}typeof Td!="function"&&(Td=function(){})}Td.apply(null,arguments)}});var Zl=I((lEe,UE)=>{var uc=require("url"),qE=uc.URL,$Q=require("http"),UQ=require("https"),oN=require("stream").Writable,BQ=require("assert"),sN=iN(),fc=["abort","aborted","connect","error","socket","timeout"],jE=Object.create(null);fc.forEach(function(t){jE[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var aN=Wg("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),HQ=Wg("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),VQ=Wg("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),zQ=Wg("ERR_STREAM_WRITE_AFTER_END","write after end");function Fn(t,e){oN.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}Fn.prototype=Object.create(oN.prototype);Fn.prototype.abort=function(){uN(this._currentRequest),this.emit("abort")};Fn.prototype.write=function(t,e,r){if(this._ending)throw new zQ;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new VQ),this.abort())};Fn.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};Fn.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Fn.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Fn.prototype.setTimeout=function(t,e){var r=this;function n(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),o()},t),n(s)}function o(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",o),r.removeListener("error",o),r.removeListener("response",o),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Fn.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Fn.prototype,t,{get:function(){return this._currentRequest[t]}})});Fn.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Fn.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=uc.format(this._options),n._redirectable=this;for(var i=0;i<fc.length;i++)n.on(fc[i],jE[fc[i]]);if(this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function c(l){if(n===s._currentRequest)if(l)s.emit("error",l);else if(o<a.length){var u=a[o++];n.finished||n.write(u.data,u.encoding,c)}else s._ended&&n.end()})()}};Fn.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(r&&this._options.followRedirects!==!1&&e>=300&&e<400){if(uN(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new HQ);return}((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],$E(/^content-/i,this._options.headers));var n=$E(/^host$/i,this._options.headers),i=uc.parse(this._currentUrl),o=n||i.host,s=/^\w+:/.test(r)?this._currentUrl:uc.format(Object.assign(i,{host:o})),a;try{a=uc.resolve(s,r)}catch(u){this.emit("error",new aN(u));return}sN("redirecting to",a),this._isRedirect=!0;var c=uc.parse(a);if(Object.assign(this._options,c),(c.protocol!==i.protocol||!WQ(c.host,o))&&$E(/^(?:authorization|cookie)$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var l={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,l)}catch(u){this.emit("error",u);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(u){this.emit("error",new aN(u))}}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};function cN(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var i=n+":",o=r[i]=t[n],s=e[n]=Object.create(o);function a(l,u,f){if(typeof l=="string"){var d=l;try{l=lN(new qE(d))}catch{l=uc.parse(d)}}else qE&&l instanceof qE?l=lN(l):(f=u,u=l,l={protocol:i});return typeof u=="function"&&(f=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},l,u),u.nativeProtocols=r,BQ.equal(u.protocol,i,"protocol mismatch"),sN("options",u),new Fn(u,f)}function c(l,u,f){var d=s.request(l,u,f);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:c,configurable:!0,enumerable:!0,writable:!0}})}),e}function GQ(){}function lN(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function $E(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r===null||typeof r=="undefined"?void 0:String(r).trim()}function Wg(t,e){function r(n){Error.captureStackTrace(this,this.constructor),n?(this.message=e+": "+n.message,this.cause=n):this.message=e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function uN(t){for(var e=0;e<fc.length;e++)t.removeListener(fc[e],jE[fc[e]]);t.on("error",GQ),t.abort()}function WQ(t,e){if(t===e)return!0;let r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}UE.exports=cN({http:$Q,https:UQ});UE.exports.wrap=cN});var zE=I((AEe,yN)=>{yN.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var ev=I((DEe,CN)=>{"use strict";var wN=zE();CN.exports=function(e,r){if(!e)return function(i,o){return i?wN(o,i,r):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,o){if(i)return wN(o,i,r);n>=e.length?o(!0):o(null,e[n++])}}});var EN=I((REe,bN)=>{"use strict";var XQ=ev();bN.exports=function(t){return XQ(Object.keys(t))}});var GE=I((OEe,_N)=>{"use strict";var ZQ=zE();_N.exports=function(e,r){return function(n,i){if(n)return ZQ(i,n,r);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var xN=I((NEe,SN)=>{"use strict";SN.exports=function(e){var r=0;return e=e||1/0,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var kN=I((LEe,PN)=>{"use strict";PN.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var TN=I((FEe,IN)=>{"use strict";IN.exports=function(){return function(e,r){r(!0)}}});var DN=I((MEe,AN)=>{"use strict";AN.exports=function(e){return function(r,n){n(e)}}});var ON=I((qEe,RN)=>{"use strict";RN.exports={keys:EN(),once:GE(),values:ev(),count:xN(),infinite:kN(),empty:TN(),error:DN()}});var ru=I((jEe,NN)=>{"use strict";NN.exports=function(e,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,f){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else e&&e(f)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var FN=I(($Ee,LN)=>{"use strict";var eX=ru();LN.exports=function(e){return eX(null,e)}});var qN=I((UEe,MN)=>{"use strict";var tX=ru();MN.exports=function(e){return tX(function(r){console.log(r)},e)}});var nu=I((BEe,jN)=>{jN.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var BN=I((HEe,UN)=>{"use strict";function $N(t){return t}var rX=nu(),nX=ru();UN.exports=function(e,r){var n=!1;return r?e=rX(e)||$N:(r=e,e=$N),nX(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var tv=I((VEe,HN)=>{"use strict";var iX=ru();HN.exports=function(e,r,n){n||(n=r,r=null);var i=iX(function(o){r=e(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var zN=I((zEe,VN)=>{"use strict";var oX=tv();VN.exports=function(e){return oX(function(r,n){return r.push(n),r},[],e)}});var WN=I((GEe,GN)=>{"use strict";var sX=tv();GN.exports=function(e){return sX(function(r,n){return r+n},"",e)}});var YN=I((WEe,KN)=>{"use strict";KN.exports={drain:ru(),onEnd:FN(),log:qN(),find:BN(),reduce:tv(),collect:zN(),concat:WN()}});var QN=I((KEe,JN)=>{"use strict";function aX(t){return t}var cX=nu();JN.exports=function(e){return e?(e=cX(e),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:e(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):aX}});var ZN=I((YEe,XN)=>{"use strict";function lX(t){return t}var uX=nu();XN.exports=function(e){if(!e)return lX;e=uX(e);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(l){r?n=c:c(a)}):o(a,function(l){c(a)})):o(null,function(l,u){l?c(l):i?c(i):(r=!0,e(u,function(f,d){r=!1,i?(c(i),n&&n(i)):f?s(f,c):c(null,d)}))})}}}});var WE=I((JEe,e1)=>{var fX=nu();function dX(t){return t}e1.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:fX(e)||dX}});var rv=I((QEe,t1)=>{"use strict";var pX=WE();t1.exports=function(e){return e=pX(e),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!e(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var n1=I((XEe,r1)=>{"use strict";var hX=WE(),mX=rv();r1.exports=function(e){return e=hX(e),mX(function(r){return!e(r)})}});var o1=I((ZEe,i1)=>{"use strict";i1.exports=function(e,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):e&&e(l),a(c,l)})}}}});var a1=I((e_e,s1)=>{"use strict";s1.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var o=e;e=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i&&!c?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,f){(i=i||u)?l(i):e(f)?l(null,f):(i=!0,n?l(null,f):a(l))})}}}});var KE=I((t_e,c1)=>{"use strict";function gX(t){return t}var vX=nu(),yX=rv();c1.exports=function(e,r){e=vX(e)||gX;var n={};return yX(function(i){var o=e(i);return n[o]?!!r:(n[o]=!0,!r)})}});var u1=I((r_e,l1)=>{"use strict";var wX=KE();l1.exports=function(e){return wX(e,!0)}});var d1=I((n_e,f1)=>{"use strict";var CX=ev(),bX=GE();f1.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?e(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,e(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=CX(c):typeof c!="function"&&(c=bX(c)),r=c,o()})}}}}});var h1=I((i_e,p1)=>{"use strict";p1.exports={map:QN(),asyncMap:ZN(),filter:rv(),filterNot:n1(),through:o1(),take:a1(),unique:KE(),nonUnique:u1(),flatten:d1()}});var YE=I((o_e,m1)=>{"use strict";m1.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var nv=I((pc,w1)=>{"use strict";var g1=ON(),v1=YN(),y1=h1();pc=w1.exports=YE();pc.pull=pc;for(Ri in g1)pc[Ri]=g1[Ri];var Ri;for(Ri in y1)pc[Ri]=y1[Ri];var Ri;for(Ri in v1)pc[Ri]=v1[Ri];var Ri});var o_=I((y_e,x1)=>{var v_e=x1.exports=function(t){(function e(){var r=!0,n=!1,i=!1;do i=!0,r=!1,t.call(this,function(){i?r=!0:e()}),i=!1;while(r)})()}});var k1=I((w_e,P1)=>{var kX=o_();P1.exports=function(t,e){return function(r){var n=[],i,o;function s(l){n.push(l)}t=t||function(l){this.queue(l)},e=e||function(){this.queue(null)};var a={emit:function(l,u){l=="data"&&s(u),l=="end"&&(i=!0,s(null)),l=="error"&&(o=u)},queue:s},c;return function(l,u){if(i=i||l,l)return r(l,function(){if(c){var f=c;c=null,f(l)}u(l)});c=u,kX(function f(d){if(!!c)if(u=c,o)c=null,u(o);else if(n.length){var p=n.shift();c=null,u(p===null,p)}else r(i,function(h,m){if(h&&h!==!0)return o=h,d();if(i=i||h)e.call(a);else if(m!==null&&(t.call(a,m),o||i))return r(o||i,function(){c=null,u(o||i)});d(f)})})}}}});var T1=I((C_e,I1)=>{I1.exports=function(){var t=[],e=0;function r(){return t.reduce(function(n,i){return n+i.length},0)}return{length:e,data:this,add:function(n){if(!Buffer.isBuffer(n))throw new Error("data must be a buffer, was: "+JSON.stringify(n));return this.length=e=e+n.length,t.push(n),this},has:function(n){return n==null?e>0:e>=n},get:function(n){var i;if(n==null||n===e){e=0;var o=t;return t=[],o.length==1?o[0]:Buffer.concat(o)}else if(t.length>1&&n<=(i=t[0].length)){var s=t[0].slice(0,n);return n===i?t.shift():t[0]=t[0].slice(n,i),e-=n,s}else if(n<e){for(var a=[],c=0;c+t[0].length<n;){var l=t.shift();c+=l.length,a.push(l)}return c<n&&(a.push(t[0].slice(0,n-c)),t[0]=t[0].slice(n-c,t[0].length),this.length=e=e-n),Buffer.concat(a)}else throw new Error("could not get "+n+" bytes")}}}});var O1=I((b_e,R1)=>{"use strict";var IX=T1();function TX(t){return Number.isFinite(t)}function A1(t){return typeof t=="function"}function D1(t,e){return e?function(r,n){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),n)},e);t(r,function(o,s){clearTimeout(i),n(o,s)})}:t}R1.exports=function(t){var e=[],r,n,i=!1,o=IX(),s,a,c;function l(){for(;e.length;)if(e[0].length==null&&o.has(1))e.shift().cb(null,o.get());else if(o.has(e[0].length)){var d=e.shift();d.cb(null,o.get(d.length))}else if(s==!0&&e[0].length&&o.length<e[0].length){var p="stream ended with:"+o.length+" but wanted:"+e[0].length;e.shift().cb(new Error(p))}else if(s)e.shift().cb(s);else return!!e.length;return e.length||!o.has(1)||c}function u(){var d=l();d&&!i&&r&&!i&&!a&&(i=!0,n(null,function(p,h){if(i=!1,p)return s=p,l();o.add(h),u()}))}function f(d){if(c){for(;e.length;)e.shift().cb(c);return cb&&cb(c)}n=D1(d,t),r=d,u()}return f.abort=function(d,p){c=d||!0,r?(i=!0,r(c,function(){for(;e.length;)e.shift().cb(c);p&&p(c)})):p()},f.read=function(d,p,h){if(A1(p)&&(h=p,p=t),A1(h))e.push({length:TX(d)?d:null,cb:h}),u();else return a=!0,function(m,g){if(i||o.has(1)){if(m)return r(m,g);e.push({length:null,cb:g}),u()}else D1(r,p)(m,function(v,y){g(v,y)})}},f}});var z1=I((hc,V1)=>{var AX=k1(),DX=O1(),N1=0,L1=1,F1=2,M1="GOODBYE",RX=Buffer.isBuffer;function q1(t){return typeof t=="string"}function j1(t){var e=Buffer.alloc(9),r=0,n=t.value!==void 0?t.value:t.end;return q1(t)&&t===M1?(e.fill(0),[e,null]):(q1(n)?(r=L1,n=Buffer.from(n,"utf-8")):RX(n)?r=N1:(r=F1,n=Buffer.from(JSON.stringify(n),"utf-8")),r=t.stream<<3|t.end<<2|r,e[0]=r,e.writeUInt32BE(n.length,1),e.writeInt32BE(t.req||0,5),[e,n])}function $1(t){if(t.length!=9)throw new Error("expected header to be 9 bytes long");var e=t[0],r=t.readUInt32BE(1),n=t.readInt32BE(5);return{req:n,stream:!!(e&8),end:!!(e&4),value:null,length:r,type:e&3}}function U1(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(N1===e.type)e.value=t;else if(L1===e.type)e.value=t.toString();else if(F1===e.type)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function B1(){return AX(function(t){var e=j1(t);this.queue(e[0]),e[1]!==null&&this.queue(e[1])})}function H1(){var t=DX(),e=!1;return function(r){return t(r),function(n,i){if(e)return i(!0);if(n)return t.abort(n,i);t.read(9,function(o,s){if(o)return i(o);var a=$1(s);if(a.length===0)return e=!0,i(null,M1);t.read(a.length,function(c,l){if(c)return i(c);try{U1(l,a)}catch(u){return i(u)}i(null,a)})})}}}hc=V1.exports=function(t){return{source:B1()(t.source),sink:function(e){return t.sink(H1()(e))}}};hc.encodePair=j1;hc.decodeHead=$1;hc.decodeBody=U1;hc.encode=B1;hc.decode=H1});var K1=I((E_e,W1)=>{function Md(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}W1.exports=function(t){return new oi(t)};function oi(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests={},this._instreams={},this._outstreams={},this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}oi.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};oi.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));var r=this._req_counter++,n=this;this._requests[r]=function(i,o){delete n._requests[r],e(i,o),n._maybedone(i)},this.read({req:r,stream:!1,end:!1,value:t})};oi.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");var t=this._req_counter++,e=this;return this._outstreams[t]=new qd(t,this,function(){delete e._outstreams[t]}),this._outstreams[t]};oi.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};oi.prototype.destroy=function(t){t=t||Md(t),this.ended=t,this._closing=!0;var e=t===!0?new Error("unexpected end of parent stream"):t,r=0;for(var n in this._requests)r++,this._requests[n](e);for(var n in this._instreams)r++,this._instreams[n].writeEnd=!0,this._instreams[n].destroy(e);for(var n in this._outstreams)r++,this._outstreams[n].writeEnd=!0,this._outstreams[n].destroy(e);r===0&&t===!0&&(e=null),this._maybedone(e)};oi.prototype._maybedone=function(t){this._closed||!this._closing||Object.keys(this._requests).length!==0||Object.keys(this._instreams).length!==0||Object.keys(this._outstreams).length!==0||(this._closed=!0,this._closecbs.forEach(function(e){e(t)}),this.read(null,t||!0),this.opts=null,this._closecbs.length=0,this.read=G1)};function G1(t){console.error("packet-stream asked to read after closed",t)}oi.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};oi.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};oi.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};oi.prototype._onrequest=function(t){var e=t.req*-1;if(t.req<0)typeof this._requests[e]=="function"&&this._requests[e](t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){var r=!1,n=this;this.opts.request(t.value,function(o,s){if(r)throw new Error("cb called twice from local api");r=!0,o?n.read({value:Md(o),end:!0,req:e}):n.read({value:s,end:!1,req:e}),n._maybedone()})}else{if(this.ended){var i=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:Md(i),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};oi.prototype._onstream=function(t){if(t.req<0){var e=t.req*-1,r=this._outstreams[e];if(!r)return console.error("no stream for incoming msg",t);t.end?(r.writeEnd&&delete this._outstreams[e],r.readEnd=!0,r.read(null,t.value),this._maybedone()):r.read(t.value)}else{var e=t.req,n=this._instreams[e];if(!n){var i=this;n=this._instreams[e]=new qd(e*-1,this,function(){delete i._instreams[e]}),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)}t.end?(n.writeEnd&&delete this._instreams[e],n.readEnd=!0,n.read&&n.read(null,t.value),this._maybedone()):n.read?n.read(t.value):console.error("no .read for stream:",n.id,"dropped:",t)}};function qd(t,e,r){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=r,this._seq_counter=1}qd.prototype.write=function(t,e){if(e){this.writeEnd=e;var r=this._ps;r&&(r.read({req:this.id,stream:!0,end:!0,value:Md(e)}),this.readEnd&&this.destroy(e),r._maybedone(e))}else this._ps&&this._ps.read({req:this.id,stream:!0,end:!1,value:t})};qd.prototype.end=function(t){this.write(null,Md(t||!0))};qd.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=G1,this._ps=null)}});var J1=I((__e,jd)=>{"use strict";var OX=nv();function NX(t){let e=!1;return(r,n)=>{e||(e=!0,t(r,n))}}function s_(t,e){let r=[],n=!1,i=!1,o,s,a=NX((c,l)=>{e&&e(c,l),t=null,e=null,o=null,s&&s(c||!0,()=>{})});return t.read=function(c,l){if(n=n||l,o){let u=o;o=null,u(n,c)}else!n&&!i&&r.push(c);n&&a(n!==!0?n:null)},{source(c,l){c?(t&&t.write(null,c),l(c),r.length=0,i=!0,a(c!==!0?c:null)):r.length?l(null,r.shift()):n?l(n):o=l},sink(c){if(n)return s=null,c(n,()=>{});s=c,OX.drain(l=>{if(n)return!1;t.write(l)},l=>{t&&!t.writeEnd&&t.write(null,l||!0),a&&a(l)})(c)}}}function Y1(t,e){return s_(t,r=>{t.writeEnd||t.write(null,r||!0),e&&e(r)})}function LX(t){return Y1(t).source}function FX(t,e){return Y1(t,e).sink}jd.exports=s_;jd.exports.source=LX;jd.exports.sink=FX;jd.exports.duplex=s_});var X1=I((S_e,Q1)=>{Q1.exports=function(e){var r,n,i;function o(s){return function(a,c){s(a,function(l,u){if(l&&!i)return i=!0,c(null,e);l&&r?c(l):l?n=c:c(null,u)})}}return o.end=function(){return r=!0,n&&n(r),o},o}});var a_=I((x_e,Z1)=>{Z1.exports=function(e,r,n){e(r),n&&n(r===!0?null:r)}});var sv=I((P_e,tL)=>{"use strict";var eL=a_();tL.exports=function(e,r){if(!e)return function(i,o){return i?eL(o,i,r):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var n=0;return function(i,o){if(i)return eL(o,i,r);n>=e.length?o(!0):o(null,e[n++])}}});var nL=I((k_e,rL)=>{"use strict";var MX=sv();rL.exports=function(t){return MX(Object.keys(t))}});var c_=I((I_e,iL)=>{"use strict";var qX=a_();iL.exports=function(e,r){return function(n,i){if(n)return qX(i,n,r);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var sL=I((T_e,oL)=>{"use strict";oL.exports=function(e){var r=0;return e=e||1/0,function(n,i){if(n)return i&&i(n);if(r>e)return i(!0);i(null,r++)}}});var cL=I((A_e,aL)=>{"use strict";aL.exports=function(e){return e=e||Math.random,function(r,n){return r?n&&n(r):n(null,e())}}});var uL=I((D_e,lL)=>{"use strict";lL.exports=function(){return function(e,r){r(!0)}}});var dL=I((R_e,fL)=>{"use strict";fL.exports=function(e){return function(r,n){n(e)}}});var hL=I((O_e,pL)=>{"use strict";pL.exports={keys:nL(),once:c_(),values:sv(),count:sL(),infinite:cL(),empty:uL(),error:dL()}});var ou=I((N_e,mL)=>{"use strict";mL.exports=function(e,r){var n,i;function o(s){if(n=s,i)return o.abort();(function a(){for(var c=!0,l=!1;c;)if(l=!1,n(null,function(u,f){if(l=!0,u=u||i){if(c=!1,r)r(u===!0?null:u);else if(u&&u!==!0)throw u}else e&&e(f)===!1||i?(c=!1,n(i||!0,r||function(){})):c||a()}),!l){c=!1;return}})()}return o.abort=function(s,a){if(typeof s=="function"&&(a=s,s=!0),i=s||!0,n)return n(i,a||function(){})},o}});var vL=I((L_e,gL)=>{"use strict";var jX=ou();gL.exports=function(e){return jX(null,e)}});var wL=I((F_e,yL)=>{"use strict";var $X=ou();yL.exports=function(e){return $X(function(r){console.log(r)},e)}});var su=I((M_e,CL)=>{CL.exports=function(e){return e&&(typeof e=="string"?function(r){return r[e]}:typeof e=="object"&&typeof e.exec=="function"?function(r){var n=e.exec(r);return n&&n[0]}:e)}});var _L=I((q_e,EL)=>{"use strict";function bL(t){return t}var UX=su(),BX=ou();EL.exports=function(e,r){var n=!1;return r?e=UX(e)||bL:(r=e,e=bL),BX(function(i){if(e(i))return n=!0,r(null,i),!1},function(i){n||r(i===!0?null:i,null)})}});var av=I((j_e,SL)=>{"use strict";var HX=ou();SL.exports=function(e,r,n){n||(n=r,r=null);var i=HX(function(o){r=e(r,o)},function(o){n(o,r)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return n(s===!0?null:s);r=a,i(o)})}:i}});var PL=I(($_e,xL)=>{"use strict";var VX=av();xL.exports=function(e){return VX(function(r,n){return r.push(n),r},[],e)}});var IL=I((U_e,kL)=>{"use strict";var zX=av();kL.exports=function(e){return zX(function(r,n){return r+n},"",e)}});var AL=I((B_e,TL)=>{"use strict";TL.exports={drain:ou(),onEnd:vL(),log:wL(),find:_L(),reduce:av(),collect:PL(),concat:IL()}});var RL=I((H_e,DL)=>{"use strict";function GX(t){return t}var WX=su();DL.exports=function(e){return e?(e=WX(e),function(r){return function(n,i){r(n,function(o,s){try{s=o?null:e(s)}catch(a){return r(a,function(){return i(a)})}i(o,s)})}}):GX}});var NL=I((V_e,OL)=>{"use strict";function KX(t){return t}var YX=su();OL.exports=function(e){if(!e)return KX;e=YX(e);var r=!1,n,i;return function(o){return function s(a,c){if(i)return c(i);a?(i=a,r?o(a,function(){r?n=c:c(a)}):o(a,c)):o(null,function(l,u){l?c(l):i?c(i):(r=!0,e(u,function(f,d){r=!1,i?(c(i),n(i)):f?s(f,c):c(null,d)}))})}}}});var l_=I((z_e,LL)=>{var JX=su();function QX(t){return t}LL.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(r){return e.test(r)}:JX(e)||QX}});var cv=I((G_e,FL)=>{"use strict";var XX=l_();FL.exports=function(e){return e=XX(e),function(r){return function n(i,o){for(var s,a=!0;a;)a=!1,s=!0,r(i,function(c,l){if(!c&&!e(l))return s?a=!0:n(c,o);o(c,l)}),s=!1}}}});var qL=I((W_e,ML)=>{"use strict";var ZX=l_(),eZ=cv();ML.exports=function(e){return e=ZX(e),eZ(function(r){return!e(r)})}});var $L=I((K_e,jL)=>{"use strict";jL.exports=function(e,r){var n=!1;function i(o){n||!r||(n=!0,r(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(c,l){c?i(c):e&&e(l),a(c,l)})}}}});var BL=I((Y_e,UL)=>{"use strict";UL.exports=function(e,r){r=r||{};var n=r.last||!1,i=!1;if(typeof e=="number"){n=!0;var o=e;e=function(){return--o}}return function(s){function a(c){s(!0,function(l){n=!1,c(l||!0)})}return function(c,l){i?n?a(l):l(i):(i=c)?s(i,l):s(null,function(u,f){(i=i||u)?l(i):e(f)?l(null,f):(i=!0,n?l(null,f):a(l))})}}}});var u_=I((J_e,HL)=>{"use strict";function tZ(t){return t}var rZ=su(),nZ=cv();HL.exports=function(e,r){e=rZ(e)||tZ;var n={};return nZ(function(i){var o=e(i);return n[o]?!!r:(n[o]=!0,!r)})}});var zL=I((Q_e,VL)=>{"use strict";var iZ=u_();VL.exports=function(e){return iZ(e,!0)}});var WL=I((X_e,GL)=>{"use strict";var oZ=sv(),sZ=c_();GL.exports=function(){return function(e){var r;return function(n,i){n?r?r(n,function(a){e(a||n,i)}):e(n,i):r?o():s();function o(){r(null,function(a,c){a===!0?s():a?e(!0,function(l){i(a)}):i(null,c)})}function s(){r=null,e(null,function(a,c){if(a)return i(a);Array.isArray(c)||c&&typeof c=="object"?c=oZ(c):typeof c!="function"&&(c=sZ(c)),r=c,o()})}}}}});var YL=I((Z_e,KL)=>{"use strict";KL.exports={map:RL(),asyncMap:NL(),filter:cv(),filterNot:qL(),through:$L(),take:BL(),unique:u_(),nonUnique:zL(),flatten:WL()}});var QL=I((eSe,JL)=>{"use strict";JL.exports=function t(e){var r=arguments.length;if(typeof e=="function"&&e.length===1){for(var n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(a){if(n==null)throw new TypeError("partial sink should only be called once!");var c=n;switch(n=null,r){case 1:return t(a,c[0]);case 2:return t(a,c[0],c[1]);case 3:return t(a,c[0],c[1],c[2]);case 4:return t(a,c[0],c[1],c[2],c[3]);default:return c.unshift(a),t.apply(null,c)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<r;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var rF=I(($d,tF)=>{"use strict";var XL=hL(),ZL=AL(),eF=YL();$d=tF.exports=QL();for(Oi in XL)$d[Oi]=XL[Oi];var Oi;for(Oi in eF)$d[Oi]=eF[Oi];var Oi;for(Oi in ZL)$d[Oi]=ZL[Oi];var Oi});var iF=I((tSe,nF)=>{var aZ=X1(),f_=rF();nF.exports=function(t,e){e=e||"GOODBYE";var r=aZ(e);return{source:f_(t.source,r),sink:f_(f_.filter(function(n){if(n!==e)return!0;r.end()}),t.sink)}}});var Ud=I(Ni=>{"use strict";var lv=nv();function cZ(t){return t?Object.keys(t).length===0:!0}Ni.set=function(e,r,n){let i,o;for(let s=0;s<r.length;s++){let a=r[s];e[a]=e[a]||{},i=e,o=a,e=e[a]}i[o]=n};Ni.get=function(e,r){if(typeof r=="string")return e[r];let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=e=e[o],e==null)return e}return n};Ni.prefix=function(e,r){let n;for(let i=0;i<r.length;i++){let o=r[i];if(n=e=e[o],typeof e!="object")return e}return typeof n!="object"?!!n:!1};function lZ(t,e){for(let r in e){let n=e[r];t[n]||(t[n]={}),t=t[n]}return t}function uZ(t,e){(function r(n,i){let o=e[i];if(n)e.length-1===i?delete n[o]:i<e.length&&r(n[o],i+1);else return;cZ(n[o])&&delete n[o]})(t,0)}function fZ(t,e){for(let r in e)t[r]=e[r];return t}Ni.mount=function(e,r,n){if(!Array.isArray(r))throw new Error("path must be array of strings");return fZ(lZ(e,r),n)};Ni.unmount=function(e,r){return uZ(e,r)};var uv=t=>t==="source",fv=t=>t==="sink",oF=t=>t==="duplex",dZ=t=>t==="sync",pZ=t=>t==="async",sF=t=>dZ(t)||pZ(t),hZ=t=>uv(t)||fv(t)||oF(t);Ni.isRequest=sF;Ni.isStream=hZ;function d_(t){return function(e){e(t||!0,()=>{})}}function aF(t){return{source:lv.error(t),sink:d_(t)}}Ni.errorAsStream=function(e,r){return uv(e)?lv.error(r):fv(e)?d_(r):aF(r)};Ni.errorAsStreamOrCb=function(e,r,n){return sF(e)?n(r):uv(e)?lv.error(r):fv(e)?d_(r):n(r),aF(r)};Ni.pipeToStream=function(e,r,n){uv(e)?r(n):fv(e)?n(r):oF(e)&&lv(r,n,r)}});var p_=I((iSe,lF)=>{function cF(t){if(t.stack&&t.name&&t.message)return t.stack.substring(t.name.length+3+t.message.length).split(`
`);if(t.stack)return t.stack.split(`
`)}function mZ(t,e){return t.filter(function(r){return!~e.indexOf(r)})}var nSe=lF.exports=function(t,e){if(!(t.stack&&t.name&&t.message))return console.error(new Error("stackless error")),t;var r=new Error(e),n=mZ(cF(r).slice(1),cF(t)).join(`
`);return r.__proto__=t,r.stack=r.name+": "+r.message+`
`+n+`
  `+t.stack,r}});var dF=I((oSe,fF)=>{"use strict";var gZ=K1(),h_=J1(),vZ=iF(),au=Ud(),uF=p_();fF.exports=function(e,r,n){let i=gZ({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let c=s.name,l=s.args,u=!1,f=!1;l.push((d,p)=>{f=!0,u=!0,a(d,p)});try{e("async",c,l)}catch(d){if(u||f)throw uF(d,"no callback provided to muxrpc async funtion");a(d)}},stream(s){s.read=function(c,l){if(l)return s.write(null,l);let{name:u,type:f,args:d}=c,p,h;if(s.read=null,!au.isStream(f))return s.write(null,new Error(`unsupported stream type: ${f}`));try{h=e(f,u,d)}catch(v){p=v}let g=h_[f==="source"?"sink":f==="sink"?"source":"duplex"](s);return au.pipeToStream(f,g,p?au.errorAsStream(f,p):h)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,n)){let a=n;n=null,a(s)}}}),o=vZ(h_(i,()=>{}));return o=r?r(o):o,o.remoteCall=function(s,a,c,l){if(a==="emit")return i.message(c);if(!(au.isRequest(s)||au.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(au.isRequest(s))return i.request({name:a,args:c},l);let u=i.stream(),f=h_[s](u,l);return u.write({name:a,args:c,type:s}),f},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(c=>{if(a)a(c);else if(c)throw uF(c,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var hF=I((sSe,pF)=>{"use strict";var yZ=p_(),wZ=Ud();function m_(t,e,r,n){for(let i in e){let o=e[i],s=r?r.concat(i):[i];if(o&&typeof o=="object"){let a=o;t[i]=m_({},a,s,n)}else{let a=o;t[i]=(...c)=>n(a,s,c)}}return t}function CZ(t){if(t)throw yZ(t,"callback not provided")}function bZ(t,e,r,n){t=t||{};function i(o,s,a){let c=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:CZ;if(typeof c=="function"){let l;try{l=r(o,s,a,c)}catch(u){return wZ.errorAsStreamOrCb(o,u,c)}return l}else return new Promise((l,u)=>{r(o,s,a,(f,d)=>{f?u(f):l(d)})})}return n?i("async","manifest",[function(o,s){if(o)return n(o);m_(t,s,null,i),n(null,s,t)}]):m_(t,e,null,i),t}pF.exports=bZ});var vF=I((aSe,gF)=>{"use strict";var dv=Ud();function mF(t){return Array.isArray(t)?t:t.split(".")}function EZ(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}gF.exports=function(e){if(EZ(e))return e;if(typeof e=="function")return{pre:e};let r=null,n={};function i(o){if(o.allow){r={};for(let s of o.allow)dv.set(r,mF(s),!0)}else r=null;if(o.deny)for(let s of o.deny)dv.set(n,mF(s),!0);else n={};return this}return e&&i(e),i.pre=o=>{if(o=Array.isArray(o)?o:[o],r&&!dv.prefix(r,o))return new Error(`method:${o} is not in list of allowed methods`);if(n&&dv.prefix(n,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:r,deny:n}),i}});var wF=I((cSe,yF)=>{"use strict";var _Z=vF(),g_=Ud();yF.exports=function(e,r,n){n=_Z(n);function i(s,a){return s===g_.get(r,a)}function o(s,a,c){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let l=c.pop(),u;try{u=g_.get(e,a).apply(this,c)}catch(f){return l(f)}return l(null,u)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return g_.get(e,a).apply(this,c)}return function(a,c,l){let u=n.pre(c,l);if(u)throw u;return o.call(this,a,c,l)}}});var EF=I((lSe,bF)=>{"use strict";var SZ=z1(),xZ=require("events").EventEmitter,PZ=dF(),kZ=hF(),IZ=wF();function CF(t,e,r,n,i,o,s){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let c=new xZ;o||(o=SZ);let l,u={_emit(d,p){return c&&c._emit(d,p),u},id:n},f=PZ(IZ(r,e,i).bind(u),o,d=>{if(!c.closed&&(c.closed=!0,c.emit("closed"),l)){let p=l;l=null,p(d)}});if(kZ(c,t,(d,p,h,m)=>{if(f.closed)throw new Error("stream is closed");return f.remoteCall(d,p,h,m)},a),c._emit=c.emit,s){Object.__defineGetter__.call(c,"id",()=>u.id),Object.__defineSetter__.call(c,"id",p=>{u.id=p});let d=!0;c.createStream=p=>{if(l=p,d)return d=!1,f;throw new Error("one stream per rpc")}}else c.stream=f;return c.closed=!1,c.close=function(d,p){return f.close(d,p),this},c}bF.exports=function(t,e,r){return arguments.length>3?CF.apply(this,arguments):function(n,i,o){return CF(t,e,n,o,i,r,!0)}}});var v_=I((Wo,xF)=>{var uSe=YE(),TZ=o_();function _F(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function SF(t,e,r){var n,i=!1,o;function s(){o||(o=!0,r&&r(n===!0?null:n))}function a(){i||(i=!0,l(),n?s():t(n=!0,s))}function c(u){l(),n||t(n=u,s)}function l(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",c)}e.on("close",a),e.on("finish",a),e.on("error",c),process.nextTick(function(){TZ(function(u){t(null,function(f,d){if(n=n||f,f===!0)return e._isStdio?s():e.end();if(n=n||f)return _F(e),s(n);if(e._isStdio)e.write(d,function(){u()});else{var p=e.write(d);p===!1?e.once("drain",u):u()}})})})}function AZ(t){var e=!1,r=!1,n;function i(){var o=t.read();if(o!==null&&n){var s=n;n=null,s(null,o)}}return t.on("readable",function(){r=!0,n&&i()}).on("end",function(){e=!0,n&&n(e)}).on("error",function(o){e=o,n&&n(e)}),function(o,s){n=s,e?s(e):r&&i()}}function pv(t){var e=[],r=[],n,i=!1,o;function s(){for(;(e.length||n)&&r.length;)r.shift()(e.length?null:n,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),s(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){n=!0,s()}),t.on("close",function(){n=!0,s()}),t.on("error",function(a){n=a,s()}),function(a,c){if(!c)throw new Error("*must* provide cb");if(a){let u=function(){for(;r.length;)r.shift()(a);c(a)};var l=u;if(n)return u();t.once("close",u),_F(t)}else r.push(c),s()}}var DZ=pv,hv=function(t,e){return function(r){return SF(r,t,e)}},mv=function(t){return pv(t)};Wo=xF.exports=function(t,e){return t.writable&&t.write?t.readable?function(r){return SF(r,t,e),pv(t)}:hv(t,e):mv(t)};Wo.sink=hv;Wo.source=mv;Wo.read=DZ;Wo.read1=pv;Wo.read2=AZ;Wo.duplex=function(t,e){return{source:mv(t),sink:hv(t,e)}};Wo.transform=function(t){return function(e){var r=mv(t);return hv(t)(e),r}}});var kF=I((fSe,gv)=>{var RZ=require("stream");gv.exports=y_;gv.exports.source=function(t){return y_(null,t)};gv.exports.sink=function(t){return y_(t,null)};var PF=typeof setImmediate=="undefined"?process.nextTick:setImmediate;function y_(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var r=[],n=[],i,o,s=new RZ;s.writable=s.readable=!0,s.write=function(g){return r.length?r.shift()(null,g):n.push(g),r.length||(o=!0),!!r.length},s.end=function(){e?n.length?m():e(i=!0,r.length?r.shift():function(){}):r.length&&r.shift()(!0)},s.source=function(g,v){n.length?(v(null,n.shift()),n.length||s.emit("drain")):((i=i||g)?v(i):r.push(v),o&&(o=!1,s.emit("drain")))};var a;t&&(a=t(s.source)),a&&!e&&(e=a);var c=[],l=[],u=!1,f=!1,d=!1;if(s.sink=function(g){e=g,PF(m)},e){s.sink(e),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var y=p(g,v);return g==="data"&&s.paused&&PF(s.resume.bind(s)),y};var h=s.pipe.bind(s);s.pipe=function(g,v){var y=h(g,v);return s.paused&&s.resume(),y}}function m(){if(f=!1,!(!e||d)){for(;c.length&&!s.paused;)s.emit("data",c.shift());if(!s.paused){if(u)return s.emit("end");d=!0,e(null,function g(v,y){d=!1,s.paused?(v===!0?u=v:v?s.emit("error",v):c.push(y),f=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",y),d=!0,e(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,m(),s},s.destroy=function(){!i&&e&&e(i=!0,function(){}),i=!0,r.length&&r.shift()(!0),s.emit("close")},s}});var TF=I((dSe,IF)=>{IF.exports=OZ;function OZ(t,e){typeof t=="function"&&(e=t,t=!1);var r=[],n,i;function o(f,d){f&&(n=f,i&&u(n)),i=d,l()}var s;function a(f){s=s||f||!0,l()}function c(f){if(!s){if(i){u(n,f);return}r.push(f)}}if(t)return{push:c,end:a,source:o,buffer:r};return o.push=c,o.end=a,o.buffer=r,o;function l(){!i||(n?u(n):!r.length&&s?u(s):r.length&&u(null,r.shift()))}function u(f,d){var p=i;if(f&&e){var h=e;e=null,h(f===!0?null:f)}i=null,p(f,d)}}});var N_=I((jxe,rM)=>{"use strict";var eM=require("child_process"),tee=1024*1024,tM={exec(t,e){eM.exec(t,{maxBuffer:2*tee,windowsHide:!0},e)},spawn(t,e,r){return eM.spawn(t,e,r)},stripLine(t,e){let r=0;for(;e-- >0;){let n=t.indexOf(`
`,r);n>=0&&(r=n+1)}return r>0?t.substring(r):t},split(t,e){let r=t.trim().split(/\s+/);return r.length>e&&(r[e-1]=r.slice(e-1).join(" ")),r},extractColumns(t,e,r){let n=t.split(/(\r\n|\n|\r)/),i=[];return r||(r=Math.max.apply(null,e)+1),n.forEach(o=>{let s=tM.split(o,r),a=[];e.forEach(c=>{a.push(s[c]||"")}),i.push(a)}),i},parseTable(t){let e=t.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(r=>r.trim().length>0).map(r=>r.split(/(\r\n|\n|\r)/).filter(n=>n.trim().length>0));return e.forEach(r=>{for(let n=0;r[n];){let i=r[n];i.startsWith(" ")?(r[n-1]+=i.trimLeft(),r.splice(n,1)):n+=1}}),e.map(r=>{let n={};return r.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();n[s]=i.slice(o+1).trim()}),n})}};rM.exports=tM});var iM=I(($xe,nM)=>{"use strict";var ree=require("os"),Av=require("fs"),ci=N_(),nee=t=>new Promise((e,r)=>{Av.existsSync(t)?e():Av.mkdir(t,n=>{n?r(n):e()})}),L_={darwin(t){return new Promise((e,r)=>{ci.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=ci.stripLine(i.toString(),2),a=ci.extractColumns(s,[0,3,8],10).filter(c=>!!String(c[0]).match(/^(udp|tcp)/)).find(c=>{let l=String(c[1]).match(/\.(\d+)$/);if(l&&l[1]===String(t))return!0});a&&a[2].length?e(parseInt(a[2],10)):r(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,r)=>{let n="netstat -tunlp";ci.exec(n,function(i,o,s){if(i)r(i);else{let a=s.toString().trim();a&&console.warn(a);let c=ci.stripLine(o.toString(),2),l=ci.extractColumns(c,[3,6],7).find(u=>{let f=String(u[0]).match(/:(\d+)$/);if(f&&f[1]===String(t))return!0});if(l&&l[1]){let u=l[1].split("/",1)[0];u.length?e(parseInt(u,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,r)=>{ci.exec("netstat -ano",function(n,i,o){if(n)r(n);else{if(n=o.toString().trim(),n){r(n);return}let s=ci.stripLine(i.toString(),4),a=ci.extractColumns(s,[1,4],5).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(t))return!0});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):r(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,r)=>{let n=ree.tmpdir()+"/.find-process",i=n+"/"+process.pid,o='netstat -tunp >> "'+i+'"';nee(n).then(()=>{ci.exec(o,()=>{Av.readFile(i,"utf8",(s,a)=>{if(Av.unlink(i,()=>{}),s)r(s);else{a=ci.stripLine(a,2);let c=ci.extractColumns(a,[3,6],7).find(l=>{let u=String(l[0]).match(/:(\d+)$/);if(u&&u[1]===String(t))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?e(parseInt(l,10)):r(new Error(`pid of port (${t}) not found`))}else r(new Error(`pid of port (${t}) not found`))}})})})})}};function iee(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in L_))return n(new Error(`platform ${e} is unsupported`));let i=L_[e];typeof i=="string"&&(i=L_[i]),i(t).then(r,n)})}nM.exports=iee});var cM=I((Uxe,aM)=>{"use strict";var Dv=require("path"),Ks=N_();function F_(t,e){return e?t&&t.match?t.match(e):!1:!0}function oM(t){let e=t.split(Dv.sep),r=e[e.length-1];r&&(e[e.length-1]=r.split(" ")[0]);let n=[];for(let i of e){let o=i.indexOf(" -");if(o>=0){n.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){n.push(i.trim());break}n.push(i)}return n.join(Dv.sep)}function sM(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return Dv.basename(t.substring(0,e))}return Dv.basename(t)}var M_={darwin(t){return new Promise((e,r)=>{let n;"pid"in t?n=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:n="ps ax -ww -o pid,ppid,uid,gid,args",Ks.exec(n,function(i,o,s){if(i)"pid"in t?e([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=Ks.stripLine(o.toString(),1),l=Ks.extractColumns(a,[0,1,2,3,4],5).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[4]&&t.name?F_(u[4],t.name):!!u[0]).map(u=>{let f=String(u[4]),d=oM(f);return{pid:parseInt(u[0],10),ppid:parseInt(u[1],10),uid:parseInt(u[2],10),gid:parseInt(u[3],10),name:sM(d),bin:d,cmd:u[4]}});t.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,r)=>{let n="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=Ks.spawn("powershell.exe",["/c",n],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return r(new Error("Command '"+n+"' terminated with code: "+s));let a=Ks.parseTable(i.join("")).filter(c=>{if("pid"in t)return c.ProcessId===String(t.pid);if(t.name){let l=c.Name||"";return t.strict?l===t.name||l.endsWith(".exe")&&l.slice(0,-4)===t.name:F_(c.CommandLine||l,t.name)}else return!0}).map(c=>({pid:parseInt(c.ProcessId,10),ppid:parseInt(c.ParentProcessId,10),bin:c.ExecutablePath,name:c.Name||"",cmd:c.CommandLine}));e(a)})})},android(t){return new Promise((e,r)=>{let n="ps";Ks.exec(n,function(i,o,s){if(i)"pid"in t?e([]):r(i);else{if(i=s.toString().trim(),i){r(i);return}let a=Ks.stripLine(o.toString(),1),l=Ks.extractColumns(a,[0,3],4).filter(u=>u[0]&&t.pid?u[0]===String(t.pid):u[1]&&t.name?F_(u[1],t.name):!!u[0]).map(u=>{let f=String(u[1]),d=oM(f);return{pid:parseInt(u[0],10),name:sM(d),bin:d,cmd:f}});t.strict&&t.name&&(l=l.filter(u=>u.name===t.name)),e(l)}})})}};function oee(t){let e=process.platform;return new Promise((r,n)=>{if(!(e in M_))return n(new Error(`platform ${e} is unsupported`));let i=M_[e];typeof i=="string"&&(i=M_[i]),i(t).then(r,n)})}aM.exports=oee});var fM=I((Bxe,uM)=>{"use strict";var see=iM(),lM=cM(),q_={port(t,e){return see(t,e).then(r=>q_.pid(r,e),()=>[])},pid(t,e){return lM({pid:t,strict:e})},name(t,e){return lM({name:t,strict:e})}};function aee(t,e,r){return new Promise((n,i)=>{if(!(t in q_))i(new Error(`do not support find by "${t}"`));else{let o=/^\d+$/.test(e);t==="pid"&&!o?i(new Error("pid must be a number")):t==="port"&&!o?i(new Error("port must be a number")):q_[t](e,r).then(n,i)}})}uM.exports=aee});var pM=I((Hxe,dM)=>{"use strict";dM.exports=fM()});var up=I((Ske,Gq)=>{var dne="2.0.0",pne=256,hne=Number.MAX_SAFE_INTEGER||9007199254740991,mne=16;Gq.exports={SEMVER_SPEC_VERSION:dne,MAX_LENGTH:pne,MAX_SAFE_INTEGER:hne,MAX_SAFE_COMPONENT_LENGTH:mne}});var fp=I((xke,Wq)=>{var gne=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Wq.exports=gne});var Sc=I((ta,Kq)=>{var{MAX_SAFE_COMPONENT_LENGTH:wS}=up(),vne=fp();ta=Kq.exports={};var yne=ta.re=[],Pe=ta.src=[],ke=ta.t={},wne=0,Qe=(t,e,r)=>{let n=wne++;vne(n,e),ke[t]=n,Pe[n]=e,yne[n]=new RegExp(e,r?"g":void 0)};Qe("NUMERICIDENTIFIER","0|[1-9]\\d*");Qe("NUMERICIDENTIFIERLOOSE","[0-9]+");Qe("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Qe("MAINVERSION",`(${Pe[ke.NUMERICIDENTIFIER]})\\.(${Pe[ke.NUMERICIDENTIFIER]})\\.(${Pe[ke.NUMERICIDENTIFIER]})`);Qe("MAINVERSIONLOOSE",`(${Pe[ke.NUMERICIDENTIFIERLOOSE]})\\.(${Pe[ke.NUMERICIDENTIFIERLOOSE]})\\.(${Pe[ke.NUMERICIDENTIFIERLOOSE]})`);Qe("PRERELEASEIDENTIFIER",`(?:${Pe[ke.NUMERICIDENTIFIER]}|${Pe[ke.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASEIDENTIFIERLOOSE",`(?:${Pe[ke.NUMERICIDENTIFIERLOOSE]}|${Pe[ke.NONNUMERICIDENTIFIER]})`);Qe("PRERELEASE",`(?:-(${Pe[ke.PRERELEASEIDENTIFIER]}(?:\\.${Pe[ke.PRERELEASEIDENTIFIER]})*))`);Qe("PRERELEASELOOSE",`(?:-?(${Pe[ke.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Pe[ke.PRERELEASEIDENTIFIERLOOSE]})*))`);Qe("BUILDIDENTIFIER","[0-9A-Za-z-]+");Qe("BUILD",`(?:\\+(${Pe[ke.BUILDIDENTIFIER]}(?:\\.${Pe[ke.BUILDIDENTIFIER]})*))`);Qe("FULLPLAIN",`v?${Pe[ke.MAINVERSION]}${Pe[ke.PRERELEASE]}?${Pe[ke.BUILD]}?`);Qe("FULL",`^${Pe[ke.FULLPLAIN]}$`);Qe("LOOSEPLAIN",`[v=\\s]*${Pe[ke.MAINVERSIONLOOSE]}${Pe[ke.PRERELEASELOOSE]}?${Pe[ke.BUILD]}?`);Qe("LOOSE",`^${Pe[ke.LOOSEPLAIN]}$`);Qe("GTLT","((?:<|>)?=?)");Qe("XRANGEIDENTIFIERLOOSE",`${Pe[ke.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Qe("XRANGEIDENTIFIER",`${Pe[ke.NUMERICIDENTIFIER]}|x|X|\\*`);Qe("XRANGEPLAIN",`[v=\\s]*(${Pe[ke.XRANGEIDENTIFIER]})(?:\\.(${Pe[ke.XRANGEIDENTIFIER]})(?:\\.(${Pe[ke.XRANGEIDENTIFIER]})(?:${Pe[ke.PRERELEASE]})?${Pe[ke.BUILD]}?)?)?`);Qe("XRANGEPLAINLOOSE",`[v=\\s]*(${Pe[ke.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Pe[ke.XRANGEIDENTIFIERLOOSE]})(?:\\.(${Pe[ke.XRANGEIDENTIFIERLOOSE]})(?:${Pe[ke.PRERELEASELOOSE]})?${Pe[ke.BUILD]}?)?)?`);Qe("XRANGE",`^${Pe[ke.GTLT]}\\s*${Pe[ke.XRANGEPLAIN]}$`);Qe("XRANGELOOSE",`^${Pe[ke.GTLT]}\\s*${Pe[ke.XRANGEPLAINLOOSE]}$`);Qe("COERCE",`(^|[^\\d])(\\d{1,${wS}})(?:\\.(\\d{1,${wS}}))?(?:\\.(\\d{1,${wS}}))?(?:$|[^\\d])`);Qe("COERCERTL",Pe[ke.COERCE],!0);Qe("LONETILDE","(?:~>?)");Qe("TILDETRIM",`(\\s*)${Pe[ke.LONETILDE]}\\s+`,!0);ta.tildeTrimReplace="$1~";Qe("TILDE",`^${Pe[ke.LONETILDE]}${Pe[ke.XRANGEPLAIN]}$`);Qe("TILDELOOSE",`^${Pe[ke.LONETILDE]}${Pe[ke.XRANGEPLAINLOOSE]}$`);Qe("LONECARET","(?:\\^)");Qe("CARETTRIM",`(\\s*)${Pe[ke.LONECARET]}\\s+`,!0);ta.caretTrimReplace="$1^";Qe("CARET",`^${Pe[ke.LONECARET]}${Pe[ke.XRANGEPLAIN]}$`);Qe("CARETLOOSE",`^${Pe[ke.LONECARET]}${Pe[ke.XRANGEPLAINLOOSE]}$`);Qe("COMPARATORLOOSE",`^${Pe[ke.GTLT]}\\s*(${Pe[ke.LOOSEPLAIN]})$|^$`);Qe("COMPARATOR",`^${Pe[ke.GTLT]}\\s*(${Pe[ke.FULLPLAIN]})$|^$`);Qe("COMPARATORTRIM",`(\\s*)${Pe[ke.GTLT]}\\s*(${Pe[ke.LOOSEPLAIN]}|${Pe[ke.XRANGEPLAIN]})`,!0);ta.comparatorTrimReplace="$1$2$3";Qe("HYPHENRANGE",`^\\s*(${Pe[ke.XRANGEPLAIN]})\\s+-\\s+(${Pe[ke.XRANGEPLAIN]})\\s*$`);Qe("HYPHENRANGELOOSE",`^\\s*(${Pe[ke.XRANGEPLAINLOOSE]})\\s+-\\s+(${Pe[ke.XRANGEPLAINLOOSE]})\\s*$`);Qe("STAR","(<|>)?=?\\s*\\*");Qe("GTE0","^\\s*>=\\s*0.0.0\\s*$");Qe("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")});var dp=I((Pke,Yq)=>{var Cne=["includePrerelease","loose","rtl"],bne=t=>t?typeof t!="object"?{loose:!0}:Cne.filter(e=>t[e]).reduce((e,r)=>(e[r]=!0,e),{}):{};Yq.exports=bne});var ay=I((kke,Xq)=>{var Jq=/^[0-9]+$/,Qq=(t,e)=>{let r=Jq.test(t),n=Jq.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Ene=(t,e)=>Qq(e,t);Xq.exports={compareIdentifiers:Qq,rcompareIdentifiers:Ene}});var Wr=I((Ike,rj)=>{var cy=fp(),{MAX_LENGTH:Zq,MAX_SAFE_INTEGER:ly}=up(),{re:ej,t:tj}=Sc(),_ne=dp(),{compareIdentifiers:pp}=ay(),ui=class{constructor(e,r){if(r=_ne(r),e instanceof ui){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>Zq)throw new TypeError(`version is longer than ${Zq} characters`);cy("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?ej[tj.LOOSE]:ej[tj.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ly||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ly||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ly||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<ly)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(cy("SemVer.compare",this.version,this.options,e),!(e instanceof ui)){if(typeof e=="string"&&e===this.version)return 0;e=new ui(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ui||(e=new ui(e,this.options)),pp(this.major,e.major)||pp(this.minor,e.minor)||pp(this.patch,e.patch)}comparePre(e){if(e instanceof ui||(e=new ui(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(cy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return pp(n,i)}while(++r)}compareBuild(e){e instanceof ui||(e=new ui(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(cy("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return pp(n,i)}while(++r)}inc(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};rj.exports=ui});var xc=I((Tke,sj)=>{var{MAX_LENGTH:Sne}=up(),{re:nj,t:ij}=Sc(),oj=Wr(),xne=dp(),Pne=(t,e)=>{if(e=xne(e),t instanceof oj)return t;if(typeof t!="string"||t.length>Sne||!(e.loose?nj[ij.LOOSE]:nj[ij.FULL]).test(t))return null;try{return new oj(t,e)}catch{return null}};sj.exports=Pne});var cj=I((Ake,aj)=>{var kne=xc(),Ine=(t,e)=>{let r=kne(t,e);return r?r.version:null};aj.exports=Ine});var uj=I((Dke,lj)=>{var Tne=xc(),Ane=(t,e)=>{let r=Tne(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};lj.exports=Ane});var dj=I((Rke,fj)=>{var Dne=Wr(),Rne=(t,e,r,n)=>{typeof r=="string"&&(n=r,r=void 0);try{return new Dne(t,r).inc(e,n).version}catch{return null}};fj.exports=Rne});var fi=I((Oke,hj)=>{var pj=Wr(),One=(t,e,r)=>new pj(t,r).compare(new pj(e,r));hj.exports=One});var uy=I((Nke,mj)=>{var Nne=fi(),Lne=(t,e,r)=>Nne(t,e,r)===0;mj.exports=Lne});var yj=I((Lke,vj)=>{var gj=xc(),Fne=uy(),Mne=(t,e)=>{if(Fne(t,e))return null;{let r=gj(t),n=gj(e),i=r.prerelease.length||n.prerelease.length,o=i?"pre":"",s=i?"prerelease":"";for(let a in r)if((a==="major"||a==="minor"||a==="patch")&&r[a]!==n[a])return o+a;return s}};vj.exports=Mne});var Cj=I((Fke,wj)=>{var qne=Wr(),jne=(t,e)=>new qne(t,e).major;wj.exports=jne});var Ej=I((Mke,bj)=>{var $ne=Wr(),Une=(t,e)=>new $ne(t,e).minor;bj.exports=Une});var Sj=I((qke,_j)=>{var Bne=Wr(),Hne=(t,e)=>new Bne(t,e).patch;_j.exports=Hne});var Pj=I((jke,xj)=>{var Vne=xc(),zne=(t,e)=>{let r=Vne(t,e);return r&&r.prerelease.length?r.prerelease:null};xj.exports=zne});var Ij=I(($ke,kj)=>{var Gne=fi(),Wne=(t,e,r)=>Gne(e,t,r);kj.exports=Wne});var Aj=I((Uke,Tj)=>{var Kne=fi(),Yne=(t,e)=>Kne(t,e,!0);Tj.exports=Yne});var fy=I((Bke,Rj)=>{var Dj=Wr(),Jne=(t,e,r)=>{let n=new Dj(t,r),i=new Dj(e,r);return n.compare(i)||n.compareBuild(i)};Rj.exports=Jne});var Nj=I((Hke,Oj)=>{var Qne=fy(),Xne=(t,e)=>t.sort((r,n)=>Qne(r,n,e));Oj.exports=Xne});var Fj=I((Vke,Lj)=>{var Zne=fy(),eie=(t,e)=>t.sort((r,n)=>Zne(n,r,e));Lj.exports=eie});var hp=I((zke,Mj)=>{var tie=fi(),rie=(t,e,r)=>tie(t,e,r)>0;Mj.exports=rie});var dy=I((Gke,qj)=>{var nie=fi(),iie=(t,e,r)=>nie(t,e,r)<0;qj.exports=iie});var CS=I((Wke,jj)=>{var oie=fi(),sie=(t,e,r)=>oie(t,e,r)!==0;jj.exports=sie});var py=I((Kke,$j)=>{var aie=fi(),cie=(t,e,r)=>aie(t,e,r)>=0;$j.exports=cie});var hy=I((Yke,Uj)=>{var lie=fi(),uie=(t,e,r)=>lie(t,e,r)<=0;Uj.exports=uie});var bS=I((Jke,Bj)=>{var fie=uy(),die=CS(),pie=hp(),hie=py(),mie=dy(),gie=hy(),vie=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return fie(t,r,n);case"!=":return die(t,r,n);case">":return pie(t,r,n);case">=":return hie(t,r,n);case"<":return mie(t,r,n);case"<=":return gie(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};Bj.exports=vie});var Vj=I((Qke,Hj)=>{var yie=Wr(),wie=xc(),{re:my,t:gy}=Sc(),Cie=(t,e)=>{if(t instanceof yie)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(my[gy.COERCE]);else{let n;for(;(n=my[gy.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),my[gy.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;my[gy.COERCERTL].lastIndex=-1}return r===null?null:wie(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};Hj.exports=Cie});var Qj=I((Xke,Jj)=>{"use strict";var bie=ad(),Pc=Symbol("max"),ts=Symbol("length"),xu=Symbol("lengthCalculator"),mp=Symbol("allowStale"),kc=Symbol("maxAge"),rs=Symbol("dispose"),zj=Symbol("noDisposeOnSet"),Er=Symbol("lruList"),Mi=Symbol("cache"),Gj=Symbol("updateAgeOnGet"),ES=()=>1,Wj=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let r=this[Pc]=e.max||1/0,n=e.length||ES;if(this[xu]=typeof n!="function"?ES:n,this[mp]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[kc]=e.maxAge||0,this[rs]=e.dispose,this[zj]=e.noDisposeOnSet||!1,this[Gj]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Pc]=e||1/0,gp(this)}get max(){return this[Pc]}set allowStale(e){this[mp]=!!e}get allowStale(){return this[mp]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[kc]=e,gp(this)}get maxAge(){return this[kc]}set lengthCalculator(e){typeof e!="function"&&(e=ES),e!==this[xu]&&(this[xu]=e,this[ts]=0,this[Er].forEach(r=>{r.length=this[xu](r.value,r.key),this[ts]+=r.length})),gp(this)}get lengthCalculator(){return this[xu]}get length(){return this[ts]}get itemCount(){return this[Er].length}rforEach(e,r){r=r||this;for(let n=this[Er].tail;n!==null;){let i=n.prev;Yj(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[Er].head;n!==null;){let i=n.next;Yj(this,e,n,r),n=i}}keys(){return this[Er].toArray().map(e=>e.key)}values(){return this[Er].toArray().map(e=>e.value)}reset(){this[rs]&&this[Er]&&this[Er].length&&this[Er].forEach(e=>this[rs](e.key,e.value)),this[Mi]=new Map,this[Er]=new bie,this[ts]=0}dump(){return this[Er].map(e=>vy(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[Er]}set(e,r,n){if(n=n||this[kc],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let i=n?Date.now():0,o=this[xu](r,e);if(this[Mi].has(e)){if(o>this[Pc])return Pu(this,this[Mi].get(e)),!1;let c=this[Mi].get(e).value;return this[rs]&&(this[zj]||this[rs](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[ts]+=o-c.length,c.length=o,this.get(e),gp(this),!0}let s=new Kj(e,r,o,i,n);return s.length>this[Pc]?(this[rs]&&this[rs](e,r),!1):(this[ts]+=s.length,this[Er].unshift(s),this[Mi].set(e,this[Er].head),gp(this),!0)}has(e){if(!this[Mi].has(e))return!1;let r=this[Mi].get(e).value;return!vy(this,r)}get(e){return _S(this,e,!0)}peek(e){return _S(this,e,!1)}pop(){let e=this[Er].tail;return e?(Pu(this,e),e.value):null}del(e){Pu(this,this[Mi].get(e))}load(e){this.reset();let r=Date.now();for(let n=e.length-1;n>=0;n--){let i=e[n],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-r;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Mi].forEach((e,r)=>_S(this,r,!1))}},_S=(t,e,r)=>{let n=t[Mi].get(e);if(n){let i=n.value;if(vy(t,i)){if(Pu(t,n),!t[mp])return}else r&&(t[Gj]&&(n.value.now=Date.now()),t[Er].unshiftNode(n));return i.value}},vy=(t,e)=>{if(!e||!e.maxAge&&!t[kc])return!1;let r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[kc]&&r>t[kc]},gp=t=>{if(t[ts]>t[Pc])for(let e=t[Er].tail;t[ts]>t[Pc]&&e!==null;){let r=e.prev;Pu(t,e),e=r}},Pu=(t,e)=>{if(e){let r=e.value;t[rs]&&t[rs](r.key,r.value),t[ts]-=r.length,t[Mi].delete(r.key),t[Er].removeNode(e)}},Kj=class{constructor(e,r,n,i,o){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=o||0}},Yj=(t,e,r,n)=>{let i=r.value;vy(t,i)&&(Pu(t,r),t[mp]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};Jj.exports=Wj});var di=I((Zke,t$)=>{var ku=class{constructor(e,r){if(r=_ie(r),e instanceof ku)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new ku(e.raw,r);if(e instanceof SS)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Zj(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Iie(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let n=`parseRange:${Object.keys(this.options).join(",")}:${e}`,i=Xj.get(n);if(i)return i;let o=this.options.loose,s=o?Kr[Ar.HYPHENRANGELOOSE]:Kr[Ar.HYPHENRANGE];e=e.replace(s,qie(this.options.includePrerelease)),er("hyphen replace",e),e=e.replace(Kr[Ar.COMPARATORTRIM],xie),er("comparator trim",e,Kr[Ar.COMPARATORTRIM]),e=e.replace(Kr[Ar.TILDETRIM],Pie),e=e.replace(Kr[Ar.CARETTRIM],kie),e=e.split(/\s+/).join(" ");let a=o?Kr[Ar.COMPARATORLOOSE]:Kr[Ar.COMPARATOR],c=e.split(" ").map(d=>Tie(d,this.options)).join(" ").split(/\s+/).map(d=>Mie(d,this.options)).filter(this.options.loose?d=>!!d.match(a):()=>!0).map(d=>new SS(d,this.options)),l=c.length,u=new Map;for(let d of c){if(Zj(d))return[d];u.set(d.value,d)}u.size>1&&u.has("")&&u.delete("");let f=[...u.values()];return Xj.set(n,f),f}intersects(e,r){if(!(e instanceof ku))throw new TypeError("a Range is required");return this.set.some(n=>e$(n,r)&&e.set.some(i=>e$(i,r)&&n.every(o=>i.every(s=>o.intersects(s,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Sie(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(jie(this.set[r],e,this.options))return!0;return!1}};t$.exports=ku;var Eie=Qj(),Xj=new Eie({max:1e3}),_ie=dp(),SS=vp(),er=fp(),Sie=Wr(),{re:Kr,t:Ar,comparatorTrimReplace:xie,tildeTrimReplace:Pie,caretTrimReplace:kie}=Sc(),Zj=t=>t.value==="<0.0.0-0",Iie=t=>t.value==="",e$=(t,e)=>{let r=!0,n=t.slice(),i=n.pop();for(;r&&n.length;)r=n.every(o=>i.intersects(o,e)),i=n.pop();return r},Tie=(t,e)=>(er("comp",t,e),t=Rie(t,e),er("caret",t),t=Aie(t,e),er("tildes",t),t=Nie(t,e),er("xrange",t),t=Fie(t,e),er("stars",t),t),Zr=t=>!t||t.toLowerCase()==="x"||t==="*",Aie=(t,e)=>t.trim().split(/\s+/).map(r=>Die(r,e)).join(" "),Die=(t,e)=>{let r=e.loose?Kr[Ar.TILDELOOSE]:Kr[Ar.TILDE];return t.replace(r,(n,i,o,s,a)=>{er("tilde",t,n,i,o,s,a);let c;return Zr(i)?c="":Zr(o)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Zr(s)?c=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(er("replaceTilde pr",a),c=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):c=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,er("tilde return",c),c})},Rie=(t,e)=>t.trim().split(/\s+/).map(r=>Oie(r,e)).join(" "),Oie=(t,e)=>{er("caret",t,e);let r=e.loose?Kr[Ar.CARETLOOSE]:Kr[Ar.CARET],n=e.includePrerelease?"-0":"";return t.replace(r,(i,o,s,a,c)=>{er("caret",t,i,o,s,a,c);let l;return Zr(o)?l="":Zr(s)?l=`>=${o}.0.0${n} <${+o+1}.0.0-0`:Zr(a)?o==="0"?l=`>=${o}.${s}.0${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.0${n} <${+o+1}.0.0-0`:c?(er("replaceCaret pr",c),o==="0"?s==="0"?l=`>=${o}.${s}.${a}-${c} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}-${c} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a}-${c} <${+o+1}.0.0-0`):(er("no pr"),o==="0"?s==="0"?l=`>=${o}.${s}.${a}${n} <${o}.${s}.${+a+1}-0`:l=`>=${o}.${s}.${a}${n} <${o}.${+s+1}.0-0`:l=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),er("caret return",l),l})},Nie=(t,e)=>(er("replaceXRanges",t,e),t.split(/\s+/).map(r=>Lie(r,e)).join(" ")),Lie=(t,e)=>{t=t.trim();let r=e.loose?Kr[Ar.XRANGELOOSE]:Kr[Ar.XRANGE];return t.replace(r,(n,i,o,s,a,c)=>{er("xRange",t,n,i,o,s,a,c);let l=Zr(o),u=l||Zr(s),f=u||Zr(a),d=f;return i==="="&&d&&(i=""),c=e.includePrerelease?"-0":"",l?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&d?(u&&(s=0),a=0,i===">"?(i=">=",u?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",u?o=+o+1:s=+s+1),i==="<"&&(c="-0"),n=`${i+o}.${s}.${a}${c}`):u?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${s}.0${c} <${o}.${+s+1}.0-0`),er("xRange return",n),n})},Fie=(t,e)=>(er("replaceStars",t,e),t.trim().replace(Kr[Ar.STAR],"")),Mie=(t,e)=>(er("replaceGTE0",t,e),t.trim().replace(Kr[e.includePrerelease?Ar.GTE0PRE:Ar.GTE0],"")),qie=t=>(e,r,n,i,o,s,a,c,l,u,f,d,p)=>(Zr(n)?r="":Zr(i)?r=`>=${n}.0.0${t?"-0":""}`:Zr(o)?r=`>=${n}.${i}.0${t?"-0":""}`:s?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Zr(l)?c="":Zr(u)?c=`<${+l+1}.0.0-0`:Zr(f)?c=`<${l}.${+u+1}.0-0`:d?c=`<=${l}.${u}.${f}-${d}`:t?c=`<${l}.${u}.${+f+1}-0`:c=`<=${c}`,`${r} ${c}`.trim()),jie=(t,e,r)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let n=0;n<t.length;n++)if(er(t[n].semver),t[n].semver!==SS.ANY&&t[n].semver.prerelease.length>0){let i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var vp=I((eIe,s$)=>{var yp=Symbol("SemVer ANY"),wp=class{static get ANY(){return yp}constructor(e,r){if(r=$ie(r),e instanceof wp){if(e.loose===!!r.loose)return e;e=e.value}PS("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===yp?this.value="":this.value=this.operator+this.semver.version,PS("comp",this)}parse(e){let r=this.options.loose?r$[n$.COMPARATORLOOSE]:r$[n$.COMPARATOR],n=e.match(r);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new i$(n[2],this.options.loose):this.semver=yp}toString(){return this.value}test(e){if(PS("Comparator.test",e,this.options.loose),this.semver===yp||e===yp)return!0;if(typeof e=="string")try{e=new i$(e,this.options)}catch{return!1}return xS(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof wp))throw new TypeError("a Comparator is required");if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new o$(e.value,r).test(this.value);if(e.operator==="")return e.value===""?!0:new o$(this.value,r).test(e.semver);let n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),o=this.semver.version===e.semver.version,s=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),a=xS(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),c=xS(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||i||o&&s||a||c}};s$.exports=wp;var $ie=dp(),{re:r$,t:n$}=Sc(),xS=bS(),PS=fp(),i$=Wr(),o$=di()});var Cp=I((tIe,a$)=>{var Uie=di(),Bie=(t,e,r)=>{try{e=new Uie(e,r)}catch{return!1}return e.test(t)};a$.exports=Bie});var l$=I((rIe,c$)=>{var Hie=di(),Vie=(t,e)=>new Hie(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));c$.exports=Vie});var f$=I((nIe,u$)=>{var zie=Wr(),Gie=di(),Wie=(t,e,r)=>{let n=null,i=null,o=null;try{o=new Gie(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===-1)&&(n=s,i=new zie(n,r))}),n};u$.exports=Wie});var p$=I((iIe,d$)=>{var Kie=Wr(),Yie=di(),Jie=(t,e,r)=>{let n=null,i=null,o=null;try{o=new Yie(e,r)}catch{return null}return t.forEach(s=>{o.test(s)&&(!n||i.compare(s)===1)&&(n=s,i=new Kie(n,r))}),n};d$.exports=Jie});var g$=I((oIe,m$)=>{var kS=Wr(),Qie=di(),h$=hp(),Xie=(t,e)=>{t=new Qie(t,e);let r=new kS("0.0.0");if(t.test(r)||(r=new kS("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){let i=t.set[n],o=null;i.forEach(s=>{let a=new kS(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||h$(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!r||h$(r,o))&&(r=o)}return r&&t.test(r)?r:null};m$.exports=Xie});var y$=I((sIe,v$)=>{var Zie=di(),eoe=(t,e)=>{try{return new Zie(t,e).range||"*"}catch{return null}};v$.exports=eoe});var yy=I((aIe,E$)=>{var toe=Wr(),w$=vp(),{ANY:roe}=w$,noe=di(),ioe=Cp(),C$=hp(),b$=dy(),ooe=hy(),soe=py(),aoe=(t,e,r,n)=>{t=new toe(t,n),e=new noe(e,n);let i,o,s,a,c;switch(r){case">":i=C$,o=ooe,s=b$,a=">",c=">=";break;case"<":i=b$,o=soe,s=C$,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ioe(t,e,n))return!1;for(let l=0;l<e.set.length;++l){let u=e.set[l],f=null,d=null;if(u.forEach(p=>{p.semver===roe&&(p=new w$(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,n)?f=p:s(p.semver,d.semver,n)&&(d=p)}),f.operator===a||f.operator===c||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===c&&s(t,d.semver))return!1}return!0};E$.exports=aoe});var S$=I((cIe,_$)=>{var coe=yy(),loe=(t,e,r)=>coe(t,e,">",r);_$.exports=loe});var P$=I((lIe,x$)=>{var uoe=yy(),foe=(t,e,r)=>uoe(t,e,"<",r);x$.exports=foe});var T$=I((uIe,I$)=>{var k$=di(),doe=(t,e,r)=>(t=new k$(t,r),e=new k$(e,r),t.intersects(e));I$.exports=doe});var D$=I((fIe,A$)=>{var poe=Cp(),hoe=fi();A$.exports=(t,e,r)=>{let n=[],i=null,o=null,s=t.sort((u,f)=>hoe(u,f,r));for(let u of s)poe(u,e,r)?(o=u,i||(i=u)):(o&&n.push([i,o]),o=null,i=null);i&&n.push([i,null]);let a=[];for(let[u,f]of n)u===f?a.push(u):!f&&u===s[0]?a.push("*"):f?u===s[0]?a.push(`<=${f}`):a.push(`${u} - ${f}`):a.push(`>=${u}`);let c=a.join(" || "),l=typeof e.raw=="string"?e.raw:String(e);return c.length<l.length?c:e}});var F$=I((dIe,L$)=>{var R$=di(),wy=vp(),{ANY:IS}=wy,bp=Cp(),TS=fi(),moe=(t,e,r={})=>{if(t===e)return!0;t=new R$(t,r),e=new R$(e,r);let n=!1;e:for(let i of t.set){for(let o of e.set){let s=goe(i,o,r);if(n=n||s!==null,s)continue e}if(n)return!1}return!0},goe=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===IS){if(e.length===1&&e[0].semver===IS)return!0;r.includePrerelease?t=[new wy(">=0.0.0-0")]:t=[new wy(">=0.0.0")]}if(e.length===1&&e[0].semver===IS){if(r.includePrerelease)return!0;e=[new wy(">=0.0.0")]}let n=new Set,i,o;for(let p of t)p.operator===">"||p.operator===">="?i=O$(i,p,r):p.operator==="<"||p.operator==="<="?o=N$(o,p,r):n.add(p.semver);if(n.size>1)return null;let s;if(i&&o){if(s=TS(i.semver,o.semver,r),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(i&&!bp(p,String(i),r)||o&&!bp(p,String(o),r))return null;for(let h of e)if(!bp(p,String(h),r))return!1;return!0}let a,c,l,u,f=o&&!r.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",l=l||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(a=O$(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!bp(i.semver,String(p),r))return!1}if(o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(c=N$(o,p,r),c===p&&c!==o)return!1}else if(o.operator==="<="&&!bp(o.semver,String(p),r))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&l&&!o&&s!==0||o&&u&&!i&&s!==0||d||f)},O$=(t,e,r)=>{if(!t)return e;let n=TS(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},N$=(t,e,r)=>{if(!t)return e;let n=TS(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};L$.exports=moe});var q$=I((pIe,M$)=>{var AS=Sc();M$.exports={re:AS.re,src:AS.src,tokens:AS.t,SEMVER_SPEC_VERSION:up().SEMVER_SPEC_VERSION,SemVer:Wr(),compareIdentifiers:ay().compareIdentifiers,rcompareIdentifiers:ay().rcompareIdentifiers,parse:xc(),valid:cj(),clean:uj(),inc:dj(),diff:yj(),major:Cj(),minor:Ej(),patch:Sj(),prerelease:Pj(),compare:fi(),rcompare:Ij(),compareLoose:Aj(),compareBuild:fy(),sort:Nj(),rsort:Fj(),gt:hp(),lt:dy(),eq:uy(),neq:CS(),gte:py(),lte:hy(),cmp:bS(),coerce:Vj(),Comparator:vp(),Range:di(),satisfies:Cp(),toComparators:l$(),maxSatisfying:f$(),minSatisfying:p$(),minVersion:g$(),validRange:y$(),outside:yy(),gtr:S$(),ltr:P$(),intersects:T$(),simplifyRange:D$(),subset:F$()}});var vi,or,sr,ar,Dp,Un,Mu,qu,Uy,ju,bo,By=je(()=>{vi="function",or="object",sr="undefined",ar="prototype",Dp="hasOwnProperty",Un=Object,Mu=Un[ar],qu=Un.assign,Uy=Un.create,ju=Un.defineProperty,bo=Mu[Dp]});function ji(t){return t===void 0&&(t=!0),(!$u||!t)&&(typeof globalThis!==sr&&globalThis&&($u=globalThis),typeof self!==sr&&self&&($u=self),typeof window!==sr&&window&&($u=window),typeof global!==sr&&global&&($u=global)),$u}function Uu(t){throw new TypeError(t)}function Eo(t){var e=Uy;if(e)return e(t);if(t==null)return{};var r=typeof t;r!==or&&r!==vi&&Uu("Object prototype may only be an Object:"+t);function n(){}return n[ar]=t,new n}var $u,tx=je(()=>{By();$u=null});function $i(t,e){typeof e!==vi&&e!==null&&Uu("Class extends value "+String(e)+" is not a constructor or null"),rx(t,e);function r(){this.constructor=t}t[ar]=e===null?Eo(e):(r[ar]=e[ar],new r)}function Vy(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t}var BDe,HDe,Yoe,Hy,rx,FU=je(()=>{By();tx();BDe=(ji()||{}).Symbol,HDe=(ji()||{}).Reflect,Yoe=function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Mu[Dp].call(e,i)&&(t[i]=e[i])}return t},Hy=qu||Yoe,rx=function(t,e){return rx=Un.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n[Dp](i)&&(r[i]=n[i])},rx(t,e)}});var MU=je(()=>{});var mn=je(()=>{By();tx();FU();MU()});var nx,qU=je(()=>{"use strict";nx=100});var vt,zy,ix,Rp,os,yi,Ui,ox,Op,Bu,Nc,Gy,Wy,jU,Lc,Fc,Hu,Vu,zu,Np,gn=je(()=>{vt="",zy="processTelemetry",ix="priority",Rp="setNextPlugin",os="isInitialized",yi="teardown",Ui="core",ox="update",Op="disabled",Bu="_doTeardown",Nc="processNext",Gy="resume",Wy="pause",jU="NotificationListener",Lc="add"+jU,Fc="remove"+jU,Hu="eventsSent",Vu="eventsDiscarded",zu="eventsSendRequest",Np="perfEvent"});function cse(t){if(t){if(Yy)return Yy(t);var e=t[Joe]||t[ar]||t[Ky];if(e)return e}return null}function Gu(t,e){return typeof t===e}function pt(t){return t===void 0||typeof t===sr}function Ge(t){return t===null||pt(t)}function ux(t){return!Ge(t)}function _o(t,e){return!!(t&&bo.call(t,e))}function Rr(t){return!!(t&&typeof t===or)}function rt(t){return!!(t&&typeof t===vi)}function Mc(t){var e=t;return e&&Wt(e)&&(e=e.replace(ose,function(r,n){return n.toUpperCase()}),e=e.replace(sse,"_"),e=e.replace(ase,function(r,n){return"_"+n})),e}function Ot(t,e){if(t)for(var r in t)bo.call(t,r)&&e.call(t,r,t[r])}function qc(t,e){var r=!1;return t&&e&&!(r=t===e)&&(r=Zoe?t[UU](e):lse(t,e)),r}function lse(t,e){var r=!1,n=e?e.length:0,i=t?t.length:0;if(n&&i&&i>=n&&!(r=t===e)){for(var o=i-1,s=n-1;s>=0;s--){if(t[o]!=e[s])return!1;o--}r=!0}return r}function Wu(t,e){var r=!1;return t&&e&&!(r=t===e)&&(r=ese?t[BU](e):use(t,e)),r}function use(t,e){var r=!1,n=e?e.length:0;if(t&&n&&t.length>=n&&!(r=t===e)){for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;r=!0}return r}function tr(t,e){return t&&e?t.indexOf(e)!==-1:!1}function Ku(t){return!!(t&&lx.call(t)==="[object Date]")}function fse(t){return!!(t&&lx.call(t)==="[object Array]")}function jc(t){return!!(t&&lx.call(t)==="[object Error]")}function Wt(t){return typeof t=="string"}function vn(t){return typeof t=="number"}function ss(t){return typeof t=="boolean"}function JU(t){var e=!1;if(t&&typeof t=="object"){var r=Yy?Yy(t):cse(t);r?(r[Ky]&&bo.call(r,Ky)&&(r=r[Ky]),e=typeof r===vi&&YU.call(r)===ise):e=!0}return e}function wi(t){if(t)return rse?t[$U]():dse(t)}function dse(t){if(t&&t.getUTCFullYear){var e=function(r){var n=String(r);return n.length===1&&(n="0"+n),n};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ce(t,e,r){var n=t.length;try{for(var i=0;i<n&&!(i in t&&e.call(r||t,t[i],i,t)===-1);i++);}catch{}}function hr(t,e,r){if(t){if(t[HU])return t[HU](e,r);var n=t.length,i=r||0;try{for(var o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;o++)if(o in t&&t[o]===e)return o}catch{}}return-1}function $c(t,e,r){var n;if(t){if(t[VU])return t[VU](e,r);var i=t.length,o=r||t;n=new Array(i);try{for(var s=0;s<i;s++)s in t&&(n[s]=e.call(o,t[s],t))}catch{}}return n}function Uc(t,e,r){var n;if(t){if(t[zU])return t[zU](e,r);var i=t.length,o=0;if(arguments.length>=3)n=arguments[2];else{for(;o<i&&!(o in t);)o++;n=t[o++]}for(;o<i;)o in t&&(n=e(n,t[o],o,t)),o++}return n}function Nt(t){return t&&(t=Xoe&&t[sx]?t[sx]():t.replace?t.replace(/^\s+|\s+$/g,""):t),t}function en(t){var e=typeof t;if(e!==vi&&(e!==or||t===null)&&Uu("objKeys called on non-object"),!QU&&KU)return KU(t);var r=[];for(var n in t)t&&bo.call(t,n)&&r.push(n);if(QU)for(var i=fx.length,o=0;o<i;o++)t&&bo.call(t,fx[o])&&r.push(fx[o]);return r}function Bn(t,e,r,n){if(WU)try{var i={enumerable:!0,configurable:!0};return r&&(i.get=r),n&&(i.set=n),WU(t,e,i),!0}catch{}return!1}function XU(t){return t}function dx(t){return ax&&Ot(t,function(e,r){(Je(r)||Rr(r))&&ax(r)}),yn(t)}function mr(){var t=Date;return t.now?t.now():new t().getTime()}function Bc(t){return jc(t)?t.name:vt}function gr(t,e,r,n,i){var o=r;return t&&(o=t[e],o!==r&&(!i||i(o))&&(!n||n(r))&&(o=r,t[e]=o)),o}function Lp(t,e,r){var n;return t?(n=t[e],!n&&Ge(n)&&(n=pt(r)?{}:r,t[e]=n)):n=pt(r)?{}:r,n}function Yu(t){return!t}function Ju(t){return!!t}function Or(t){throw new Error(t)}function ZU(t,e){var r=null,n=null;return rt(t)?r=t:n=t,function(){var i=arguments;if(r&&(n=r()),n)return n[e].apply(n,i)}}function hx(t,e,r){if(t&&e&&Rr(t)&&Rr(e)){var n=function(o){if(Wt(o)){var s=e[o];rt(s)?(!r||r(o,!0,e,t))&&(t[o]=ZU(e,o)):(!r||r(o,!1,e,t))&&(_o(t,o)&&delete t[o],Bn(t,o,function(){return e[o]},function(a){e[o]=a})||(t[o]=s))}};for(var i in e)n(i)}return t}function sa(t,e,r,n,i){t&&e&&r&&(i!==!1||pt(t[e]))&&(t[e]=ZU(r,n))}function Hc(t,e,r,n){return t&&e&&Rr(t)&&Je(r)&&Ce(r,function(i){Wt(i)&&sa(t,i,e,i,n)}),t}function as(t){return t&&qu&&(t=Un(qu({},t))),t}function Qu(t,e,r,n,i,o){var s=arguments,a=s[0]||{},c=s.length,l=!1,u=1;for(c>0&&ss(a)&&(l=a,a=s[u]||{},u++),Rr(a)||(a={});u<c;u++){var f=s[u],d=Je(f),p=Rr(f);for(var h in f){var m=d&&h in f||p&&bo.call(f,h);if(!!m){var g=f[h],v=void 0;if(l&&g&&((v=Je(g))||JU(g))){var y=a[h];v?Je(y)||(y=[]):JU(y)||(y={}),g=Qu(l,y,g)}g!==void 0&&(a[h]=g)}}}return a}var $U,UU,BU,HU,VU,zU,sx,GU,Joe,Ky,WU,ax,Qoe,KU,cx,Xoe,Zoe,ese,tse,rse,nse,lx,YU,ise,ose,sse,ase,Yy,Je,QU,fx,yn,px,rr=je(()=>{mn();gn();$U="toISOString",UU="endsWith",BU="startsWith",HU="indexOf",VU="map",zU="reduce",sx="trim",GU="toString",Joe="__proto__",Ky="constructor",WU=ju,ax=Un.freeze,Qoe=Un.seal,KU=Un.keys,cx=String[ar],Xoe=cx[sx],Zoe=cx[UU],ese=cx[BU],tse=Date[ar],rse=tse[$U],nse=Array.isArray,lx=Mu[GU],YU=bo[GU],ise=YU.call(Un),ose=/-([a-z])/g,sse=/([^\w\d_$])/g,ase=/^(\d+[\w\d_$])/,Yy=Object.getPrototypeOf;Je=nse||fse;QU=!{toString:null}.propertyIsEnumerable("toString"),fx=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];yn=ax||XU,px=Qoe||XU});function tn(t){var e={};return Ot(t,function(r,n){e[r]=n,e[n]=r}),dx(e)}var Jy=je(()=>{rr()});var Bi,e2=je(()=>{Jy();Bi=tn({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function ls(t,e){return t&&tw[cs].hasOwnProperty.call(t,e)}function a2(t){return t&&(t===tw[cs]||t===Array[cs])}function wx(t){return a2(t)||t===Function[cs]}function Vc(t){var e;if(t){if(Mp)return Mp(t);var r=t[n2]||t[cs]||(t[Qy]?t[Qy][cs]:null);e=t[ew]||r,ls(t,ew)||(delete t[vx],e=t[ew]=t[vx]||t[ew],t[vx]=r)}return e}function rw(t,e){var r=[];if(o2)r=o2(t);else for(var n in t)typeof n=="string"&&ls(t,n)&&r.push(n);if(r&&r.length>0)for(var i=0;i<r.length;i++)e(r[i])}function Cx(t,e,r){return e!==Qy&&typeof t[e]===Xy&&(r||ls(t,e))}function nw(t){throw new TypeError("DynamicProto: "+t)}function hse(t){var e={};return rw(t,function(r){!e[r]&&Cx(t,r,!1)&&(e[r]=t[r])}),e}function bx(t,e){for(var r=t.length-1;r>=0;r--)if(t[r]===e)return!0;return!1}function mse(t,e,r,n){function i(c,l,u){var f=l[u];if(f[mx]&&n){var d=c[Zy]||{};d[Fp]!==!1&&(f=(d[l[Xu]]||{})[u]||f)}return function(){return f.apply(c,arguments)}}var o={};rw(r,function(c){o[c]=i(e,r,c)});for(var s=Vc(t),a=[];s&&!wx(s)&&!bx(a,s);)rw(s,function(c){!o[c]&&Cx(s,c,!Mp)&&(o[c]=i(e,s,c))}),a.push(s),s=Vc(s);return o}function gse(t,e,r,n){var i=null;if(t&&ls(r,Xu)){var o=t[Zy]||{};if(i=(o[r[Xu]]||{})[e],i||nw("Missing ["+e+"] "+Xy),!i[gx]&&o[Fp]!==!1){for(var s=!ls(t,e),a=Vc(t),c=[];s&&a&&!wx(a)&&!bx(c,a);){var l=a[e];if(l){s=l===n;break}c.push(a),a=Vc(a)}try{s&&(t[e]=i),i[gx]=1}catch{o[Fp]=!1}}}return i}function vse(t,e,r){var n=e[t];return n===r&&(n=Vc(e)[t]),typeof n!==Xy&&nw("["+t+"] is not a "+Xy),n}function yse(t,e,r,n,i){function o(c,l){var u=function(){var f=gse(this,l,c,u)||vse(l,c,u);return f.apply(this,arguments)};return u[mx]=1,u}if(!a2(t)){var s=r[Zy]=r[Zy]||{},a=s[e]=s[e]||{};s[Fp]!==!1&&(s[Fp]=!!i),rw(r,function(c){Cx(r,c,!1)&&r[c]!==n[c]&&(a[c]=r[c],delete r[c],(!ls(t,c)||t[c]&&!t[c][mx])&&(t[c]=o(t,c)))})}}function wse(t,e){if(Mp){for(var r=[],n=Vc(e);n&&!wx(n)&&!bx(r,n);){if(n===t)return!0;r.push(n),n=Vc(n)}return!1}return!0}function Ex(t,e){return ls(t,cs)?t.name||e||r2:((t||{})[Qy]||{}).name||e||r2}function ft(t,e,r,n){ls(t,cs)||nw("theClass is an invalid class definition.");var i=t[cs];wse(i,e)||nw("["+Ex(t)+"] is not in class hierarchy of ["+Ex(e)+"]");var o=null;ls(i,Xu)?o=i[Xu]:(o=pse+Ex(t,"_")+"$"+s2,s2++,i[Xu]=o);var s=ft[t2],a=!!s[yx];a&&n&&n[yx]!==void 0&&(a=!!n[yx]);var c=hse(e),l=mse(i,e,c,a);r(e,l);var u=!!Mp&&!!s[i2];u&&n&&(u=!!n[i2]),yse(i,o,e,c,u!==!1)}var Qy,cs,Xy,Zy,mx,Xu,pse,gx,Fp,t2,r2,n2,ew,vx,yx,i2,tw,Mp,o2,s2,Cse,Nr=je(()=>{Qy="constructor",cs="prototype",Xy="function",Zy="_dynInstFuncs",mx="_isDynProxy",Xu="_dynClass",pse="_dynCls$",gx="_dynInstChk",Fp=gx,t2="_dfOpts",r2="_unknown_",n2="__proto__",ew="_dyn"+n2,vx="_dynInstProto",yx="useBaseInst",i2="setInstFuncs",tw=Object,Mp=tw.getPrototypeOf,o2=tw.getOwnPropertyNames,s2=0;Cse={setInstFuncs:!0,useBaseInst:!0};ft[t2]=Cse});function d2(t,e){var r=!1;if(t){try{if(r=e in t,!r){var n=t[ar];n&&(r=e in n)}}catch{}if(!r)try{var i=new t;r=!pt(i[e])}catch{}}return r}function Ix(t){f2=t}function Kt(t){var e=ji();return e&&e[t]?e[t]:t===c2&&qp()?window:null}function qp(){return Boolean(typeof window===or&&window)}function So(){return qp()?window:Kt(c2)}function iw(){return Boolean(typeof document===or&&document)}function wn(){return iw()?document:Kt(bse)}function jp(){return Boolean(typeof navigator===or&&navigator)}function Hn(){return jp()?navigator:Kt(_se)}function ow(){return Boolean(typeof history===or&&history)}function Tx(){return ow()?history:Kt(Sse)}function zc(t){if(t&&f2){var e=Kt("__mockLocation");if(e)return e}return typeof location===or&&location?location:Kt(xse)}function $p(){return typeof console!==sr?console:Kt(Pse)}function ef(){return Kt(kse)}function Gc(){return Boolean(typeof JSON===or&&JSON||Kt(l2)!==null)}function tf(){return Gc()?JSON||Kt(l2):null}function Up(){return Kt(Ise)}function Bp(){return Kt(Tse)}function us(){var t=Hn();return t&&t.product?t.product===Ase:!1}function Hi(){var t=Hn();if(t&&(t.userAgent!==Px||xx===null)){Px=t.userAgent;var e=(Px||vt).toLowerCase();xx=tr(e,_x)||tr(e,Sx)}return xx}function Ax(t){if(t===void 0&&(t=null),!t){var e=Hn()||{};t=e?(e.userAgent||vt).toLowerCase():vt}var r=(t||vt).toLowerCase();if(tr(r,_x)){var n=wn()||{};return Math.max(parseInt(r.split(_x)[1]),n[Ese]||0)}else if(tr(r,Sx)){var i=parseInt(r.split(Sx)[1]);if(i)return i+4}return null}function Bt(t){var e=Object[ar].toString.call(t),r=vt;return e==="[object Error]"?r="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":Gc()&&(r=tf().stringify(t)),e+r}function aa(){return kx===null&&(kx=jp()&&Boolean(Hn().sendBeacon)),kx}function Hp(t){var e=!1;try{e=!!Kt("fetch");var r=Kt("Request");e&&t&&r&&(e=d2(r,"keepalive"))}catch{}return e}function Wc(){return Zu===null&&(Zu=typeof XDomainRequest!==sr,Zu&&rf()&&(Zu=Zu&&!d2(Kt(u2),"withCredentials"))),Zu}function rf(){var t=!1;try{var e=Kt(u2);t=!!e}catch{}return t}function p2(t,e){if(t)for(var r=0;r<t.length;r++){var n=t[r];if(n.name&&n.name===e)return n}return{}}function Dx(t){var e=wn();return e&&t?p2(e.querySelectorAll("meta"),t).content:null}function Rx(t){var e,r=ef();if(r){var n=r.getEntriesByType("navigation")||[];e=p2((n.length>0?n[0]:{}).serverTiming,t).description}return e}var c2,bse,Ese,_se,Sse,xse,Pse,kse,l2,Ise,Tse,Ase,_x,Sx,u2,xx,Px,f2,Zu,kx,Ci=je(()=>{mn();gn();rr();"use strict";c2="window",bse="document",Ese="documentMode",_se="navigator",Sse="history",xse="location",Pse="console",kse="performance",l2="JSON",Ise="crypto",Tse="msCrypto",Ase="ReactNative",_x="msie",Sx="trident/",u2="XMLHttpRequest",xx=null,Px=null,f2=!1,Zu=null,kx=null});function Dse(t,e){return function(){var r=arguments,n=Nx(e);if(n){var i=n.listener;i&&i[t]&&i[t].apply(i,r)}}}function Rse(){var t=Kt("Microsoft");return t&&(sw=t.ApplicationInsights),sw}function Nx(t){var e=sw;return!e&&t.disableDbgExt!==!0&&(e=sw||Rse()),e?e.ChromeDbgExt:null}function h2(t){if(!aw){aw={};for(var e=0;e<Ox.length;e++)aw[Ox[e]]=Dse(Ox[e],t)}return aw}var Ox,sw,aw,Lx=je(()=>{Ci();Ox=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],sw=null});function m2(t){return t?'"'+t.replace(/\"/g,vt)+'"':vt}function g2(t,e){var r=$p();if(r){var n="log";r[t]&&(n=t),rt(r[n])&&r[n](e)}}function Vp(t,e){return(t||{}).logger||new bi(e)}function qse(t){return t||new bi}function Yt(t,e,r,n,i,o){o===void 0&&(o=!1),(t||new bi).throwInternal(e,r,n,i,o)}function Fx(t,e){qse(t).warnToConsole(e)}var Ose,Nse,Lse,Fse,Mse,Kc,bi,ca=je(()=>{Ci();Nr();rr();Lx();gn();"use strict";Ose="AI (Internal): ",Nse="AI: ",Lse="AITR_",Fse="errorToConsole",Mse="warnToConsole";Kc=function(){function t(e,r,n,i){n===void 0&&(n=!1);var o=this;o.messageId=e,o.message=(n?Nse:Ose)+e;var s=vt;Gc()&&(s=tf().stringify(i));var a=(r?" message:"+m2(r):vt)+(i?" props:"+m2(s):vt);o.message+=a}return t.dataType="MessageData",t}();bi=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};ft(t,this,function(i){Ge(e)&&(e={}),i.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},i.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},i.throwInternal=function(c,l,u,f,d){d===void 0&&(d=!1);var p=new Kc(l,u,d,f);if(i.enableDebugExceptions())throw Bt(p);var h=c===1?Fse:Mse;if(pt(p.message))a("throw"+(c===1?"Critical":"Warning"),p);else{var m=i.consoleLoggingLevel();if(d){var g=+p.messageId;!n[g]&&m>=c&&(i[h](p.message),n[g]=!0)}else m>=c&&i[h](p.message);i.logInternalMessage(c,p)}},i.warnToConsole=function(c){g2("warn",c),a("warning",c)},i.errorToConsole=function(c){g2("error",c),a("error",c)},i.resetInternalMessageCount=function(){r=0,n={}},i.logInternalMessage=function(c,l){if(!s()){var u=!0,f=Lse+l.messageId;if(n[f]?u=!1:n[f]=!0,u&&(c<=i.telemetryLoggingLevel()&&(i.queue.push(l),r++,a(c===1?"error":"warn",l)),r===i.maxInternalMessageLimit())){var d="Internal events throttle limit per PageView reached for this app.",p=new Kc(23,d,!1);i.queue.push(p),c===1?i.errorToConsole(d):i.warnToConsole(d)}}};function o(c,l){var u=e[c];return Ge(u)?l:u}function s(){return r>=i.maxInternalMessageLimit()}function a(c,l){var u=Nx(e);u&&u.diagLog&&u.diagLog(c,l)}})}return t}()});function Xt(t,e,r,n,i){if(t){var o=t;if(rt(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx(Mx);try{if(s=o.create(e(),n,i),s){if(a&&s.setCtx&&(s.setCtx(Yc.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(Yc.ChildrenContextKey);c||(c=[],a.setCtx(Yc.ChildrenContextKey,c)),c.push(s)}return o.setCtx(Mx,s),r(s)}}catch(l){s&&s.setCtx&&s.setCtx("exception",l)}finally{s&&o.fire(s),o.setCtx(Mx,a)}}}return r()}function qx(){return jse}var nf,jse,Yc,zp,Mx,Gp=je(()=>{Nr();rr();nf="ctx",jse=null,Yc=function(){function t(e,r,n){var i=this,o=!1;if(i.start=mr(),i.name=e,i.isAsync=n,i.isChildEvt=function(){return!1},rt(r)){var s;o=Bn(i,"payload",function(){return!s&&rt(r)&&(s=r(),r=null),s})}i.getCtx=function(a){return a?a===t.ParentContextKey||a===t.ChildrenContextKey?i[a]:(i[nf]||{})[a]:null},i.setCtx=function(a,c){if(a)if(a===t.ParentContextKey)i[a]||(i.isChildEvt=function(){return!0}),i[a]=c;else if(a===t.ChildrenContextKey)i[a]=c;else{var l=i[nf]=i[nf]||{};l[a]=c}},i.complete=function(){var a=0,c=i.getCtx(t.ChildrenContextKey);if(Je(c))for(var l=0;l<c.length;l++){var u=c[l];u&&(a+=u.time)}i.time=mr()-i.start,i.exTime=i.time-a,i.complete=function(){},!o&&rt(r)&&(i.payload=r())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),zp=function(){function t(e){this.ctx={},ft(t,this,function(r){r.create=function(n,i,o){return new Yc(n,i,o)},r.fire=function(n){n&&(n.complete(),e&&rt(e.perfEvent)&&e.perfEvent(n))},r.setCtx=function(n,i){if(n){var o=r[nf]=r[nf]||{};o[n]=i}},r.getCtx=function(n){return(r[nf]||{})[n]}})}return t}(),Mx="CoreUtils.doPerf"});function w2(t){t<0&&(t>>>=0),Wp=123456789+t&la,Kp=987654321-t&la,y2=!0}function C2(){try{var t=mr()&2147483647;w2((Math.random()*v2^t)+t)}catch{}}function Jc(t){return t>0?Math.floor(Vi()/la*(t+1))>>>0:0}function Vi(t){var e=0,r=Up()||Bp();return r&&r.getRandomValues&&(e=r.getRandomValues(new Uint32Array(1))[0]&la),e===0&&Hi()&&(y2||C2(),e=Yp()&la),e===0&&(e=Math.floor(v2*Math.random()|0)),t||(e>>>=0),e}function cw(t){t?w2(t):C2()}function Yp(t){Kp=36969*(Kp&65535)+(Kp>>16)&la,Wp=18e3*(Wp&65535)+(Wp>>16)&la;var e=(Kp<<16)+(Wp&65535)>>>0&la|0;return t||(e>>>=0),e}function ua(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=Vi()>>>0,n=0,i=vt;i.length<t;)n++,i+=e.charAt(r&63),r>>>=6,n===5&&(r=(Vi()<<2&4294967295|r&3)>>>0,n=0);return i}var v2,la,y2,Wp,Kp,lw=je(()=>{Ci();rr();gn();v2=4294967296,la=4294967295,y2=!1,Wp=123456789,Kp=987654321});function Bse(t,e,r){if(b2)try{return b2(t,e,{value:r,enumerable:!1,configurable:!0}),!0}catch{}return!1}function _2(t){return t.nodeType===1||t.nodeType===9||!+t.nodeType}function Hse(t,e){var r=e[t.id];if(!r){r={};try{_2(e)&&(Bse(e,t.id,r)||(e[t.id]=r))}catch{}}return r}function zi(t,e){return e===void 0&&(e=!1),Mc(t+Use+++(e?"."+E2:"")+$se)}function uw(t){var e={id:zi("_aiData-"+(t||"")+"."+E2),accept:function(r){return _2(r)},get:function(r,n,i,o){var s=r[e.id];return s?s[Mc(n)]:(o&&(s=Hse(e,r),s[Mc(n)]=i),i)},kill:function(r,n){if(r&&r[n])try{delete r[n]}catch{}}};return e}var b2,E2,$se,Use,Jp=je(()=>{mn();rr();lw();b2=ju,E2="2.8.4",$se="."+ua(6),Use=0});function Vse(t,e){var r=fs[fa]||dw[fa];return r||(r=fs[fa]=fs(t,e),dw[fa]=r),r}function pw(t){return t?t.isEnabled():!0}function zse(t){var e=t.cookieCfg=t.cookieCfg||{};if(gr(e,"domain",t.cookieDomain,ux,Ge),gr(e,"path",t.cookiePath||"/",null,Ge),Ge(e[Ux])){var r=void 0;pt(t[P2])||(r=!t[P2]),pt(t[k2])||(r=!t[k2]),e[Ux]=r}return e}function da(t,e){var r;if(t)r=t.getCookieMgr();else if(e){var n=e.cookieCfg;n[fa]?r=n[fa]:r=fs(e)}return r||(r=Vse(e,(t||{}).logger)),r}function fs(t,e){var r=zse(t||dw),n=r.path||"/",i=r.domain,o=r[Ux]!==!1,s={isEnabled:function(){var a=o&&Gi(e),c=dw[fa];return a&&c&&s!==c&&(a=pw(c)),a},setEnabled:function(a){o=a!==!1},set:function(a,c,l,u,f){var d=!1;if(pw(s)){var p={},h=Nt(c||vt),m=h.indexOf(";");if(m!==-1&&(h=Nt(c.substring(0,m)),p=A2(c.substring(m+1))),gr(p,"domain",u||i,Ju,pt),!Ge(l)){var g=Hi();if(pt(p[$x])){var v=mr(),y=v+l*1e3;if(y>0){var C=new Date;C.setTime(y),gr(p,$x,D2(C,g?S2:x2)||D2(C,g?S2:x2)||vt,Ju)}}g||gr(p,"max-age",vt+l,null,pt)}var b=zc();b&&b.protocol==="https:"&&(gr(p,"secure",null,null,pt),Bx===null&&(Bx=!of((Hn()||{}).userAgent)),Bx&&gr(p,"SameSite","None",null,pt)),gr(p,"path",f||n,null,pt);var _=r.setCookie||O2;_(a,R2(h,p)),d=!0}return d},get:function(a){var c=vt;return pw(s)&&(c=(r.getCookie||Gse)(a)),c},del:function(a,c){var l=!1;return pw(s)&&(l=s.purge(a,c)),l},purge:function(a,c){var l,u=!1;if(Gi(e)){var f=(l={},l.path=c||"/",l[$x]="Thu, 01 Jan 1970 00:00:01 GMT",l);Hi()||(f["max-age"]="0");var d=r.delCookie||O2;d(a,R2(vt,f)),u=!0}return u}};return s[fa]=s,s}function Gi(t){if(fw===null){fw=!1;try{var e=Qp||{};fw=e[jx]!==void 0}catch(r){Yt(t,2,68,"Cannot access document.cookie - "+Bc(r),{exception:Bt(r)})}}return fw}function A2(t){var e={};if(t&&t.length){var r=Nt(t).split(";");Ce(r,function(n){if(n=Nt(n||vt),n){var i=n.indexOf("=");i===-1?e[n]=null:e[Nt(n.substring(0,i))]=Nt(n.substring(i+1))}})}return e}function D2(t,e){return rt(t[e])?t[e]():null}function R2(t,e){var r=t||vt;return Ot(e,function(n,i){r+="; "+n+(Ge(i)?vt:"="+i)}),r}function Gse(t){var e=vt;if(Qp){var r=Qp[jx]||vt;I2!==r&&(T2=A2(r),I2=r),e=Nt(T2[t]||vt)}return e}function O2(t,e){Qp&&(Qp[jx]=t+"="+e)}function of(t){return Wt(t)?!!(tr(t,"CPU iPhone OS 12")||tr(t,"iPad; CPU OS 12")||tr(t,"Macintosh; Intel Mac OS X 10_14")&&tr(t,"Version/")&&tr(t,"Safari")||tr(t,"Macintosh; Intel Mac OS X 10_14")&&qc(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||tr(t,"Chrome/5")||tr(t,"Chrome/6")||tr(t,"UnrealEngine")&&!tr(t,"Chrome")||tr(t,"UCBrowser/12")||tr(t,"UCBrowser/11")):!1}var S2,x2,jx,$x,Ux,P2,k2,fa,fw,Bx,I2,Qp,T2,dw,Hx=je(()=>{Ci();rr();gn();ca();S2="toGMTString",x2="toUTCString",jx="cookie",$x="expires",Ux="enabled",P2="isCookieUseDisabled",k2="disableCookiesUsage",fa="_ckMgr",fw=null,Bx=null,I2=null,Qp=wn(),T2={},dw={}});function V2(t){return t&&t.replace?t.replace(/^\s*\.*|\.*\s*$/g,""):t}function gw(t,e){if(e){var r="";Je(e)?(r="",Ce(e,function(i){i=V2(i),i&&(i[0]!=="."&&(i="."+i),r+=i)})):r=V2(e),r&&(r[0]!=="."&&(r="."+r),t=(t||"")+r)}var n=Jse.exec(t||"")||[];return{type:n[1],ns:(n[2]||"").replace(Wse,".").replace(Kse,"").split(".").sort().join(".")}}function Vx(t,e,r){var n=[],i=Zp.get(t,hw,{},!1),o=gw(e,r);return Ot(i,function(s,a){Ce(a,function(c){(!o.type||o.type===c.evtName.type)&&(!o.ns||o.ns===o.ns)&&n.push({name:c.evtName.type+(c.evtName.ns?"."+c.evtName.ns:""),handler:c.handler})})}),n}function z2(t,e,r){r===void 0&&(r=!0);var n=Zp.get(t,hw,{},r),i=n[e];return i||(i=n[e]=[]),i}function G2(t,e,r,n){t&&e&&e.type&&(t[q2]?t[q2](e.type,r,n):t[M2]&&t[M2](N2+e.type,r))}function Qse(t,e,r,n){var i=!1;return t&&e&&e.type&&r&&(t[F2]?(t[F2](e.type,r,n),i=!0):t[L2]&&(t[L2](N2+e.type,r),i=!0)),i}function W2(t,e,r,n){for(var i=e.length;i--;){var o=e[i];o&&(!r.ns||r.ns===o.evtName.ns)&&(!n||n(o))&&(G2(t,o.evtName,o.handler,o.capture),e.splice(i,1))}}function Xse(t,e,r){if(e.type)W2(t,z2(t,e.type),e,r);else{var n=Zp.get(t,hw,{});Ot(n,function(i,o){W2(t,o,e,r)}),en(n).length===0&&Zp.kill(t,hw)}}function ds(t,e){var r;return e?(Je(e)?r=[t].concat(e):r=[t,e],r=gw("xx",r).ns.split(".")):r=t,r}function Qc(t,e,r,n,i){i===void 0&&(i=!1);var o=!1;if(t)try{var s=gw(e,n);if(o=Qse(t,s,r,i),o&&Zp.accept(t)){var a={guid:Yse++,evtName:s,handler:r,capture:i};z2(t,s.type).push(a)}}catch{}return o}function Xc(t,e,r,n,i){if(i===void 0&&(i=!1),t)try{var o=gw(e,n),s=!1;Xse(t,o,function(a){return o.ns&&!r||a.handler===r?(s=!0,!0):!1}),s||G2(t,o,r,i)}catch{}}function sf(t,e,r,n){return n===void 0&&(n=!1),Qc(t,e,r,null,n)}function af(t,e,r,n){n===void 0&&(n=!1),Xc(t,e,r,null,n)}function pa(t,e,r){var n=!1,i=So();i&&(n=Qc(i,t,e,r),n=Qc(i.body,t,e,r)||n);var o=wn();return o&&(n=Qc(o,t,e,r)||n),n}function vw(t,e,r){var n=So();n&&(Xc(n,t,e,r),Xc(n.body,t,e,r));var i=wn();i&&Xc(i,t,e,r)}function cf(t,e,r,n){var i=!1;return e&&t&&t.length>0&&Ce(t,function(o){o&&(!r||hr(r,o)===-1)&&(i=pa(o,e,n)||i)}),i}function yw(t,e,r,n){var i=!1;return e&&t&&Je(t)&&(i=cf(t,e,r,n),!i&&r&&r.length>0&&(i=cf(t,e,null,n))),i}function ha(t,e,r){t&&Je(t)&&Ce(t,function(n){n&&vw(n,e,r)})}function Zc(t,e,r){return yw([U2,$2,mw],t,e,r)}function eh(t,e){ha([U2,$2,mw],t,e)}function lf(t,e,r){function n(s){var a=wn();t&&a&&a.visibilityState==="hidden"&&t(s)}var i=ds(B2,r),o=cf([mw],t,e,i);return(!e||hr(e,Xp)===-1)&&(o=cf([Xp],n,e,i)||o),!o&&e&&(o=lf(t,null,r)),o}function th(t,e){var r=ds(B2,e);ha([mw],t,r),ha([Xp],null,r)}function uf(t,e,r){function n(s){var a=wn();t&&a&&a.visibilityState==="visible"&&t(s)}var i=ds(H2,r),o=cf([j2],t,e,i);return o=cf([Xp],n,e,i)||o,!o&&e&&(o=uf(t,null,r)),o}function rh(t,e){var r=ds(H2,e);ha([j2],t,r),ha([Xp],null,r)}var N2,L2,F2,M2,q2,hw,Xp,mw,j2,$2,U2,B2,H2,Wse,Kse,Yse,Zp,Jse,zx=je(()=>{Jp();Ci();rr();N2="on",L2="attachEvent",F2="addEventListener",M2="detachEvent",q2="removeEventListener",hw="events",Xp="visibilitychange",mw="pagehide",j2="pageshow",$2="unload",U2="beforeunload",B2=zi("aiEvtPageHide"),H2=zi("aiEvtPageShow"),Wse=/\.[\.]+/g,Kse=/[\.]+$/,Yse=1,Zp=uw("events"),Jse=/^([^.]*)(?:\.(.+)|)/});function ff(){function t(){return Jc(15)}return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Zse,function(e){var r=t()|0,n=e==="x"?r:r&3|8;return n.toString(16)})}function df(){var t=ef();return t&&t.now?t.now():mr()}function ma(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=vt,r,n=0;n<4;n++)r=Vi(),e+=t[r&15]+t[r>>4&15]+t[r>>8&15]+t[r>>12&15]+t[r>>16&15]+t[r>>20&15]+t[r>>24&15]+t[r>>28&15];var i=t[8+(Vi()&3)|0];return e.substr(0,8)+e.substr(9,4)+"4"+e.substr(13,3)+i+e.substr(16,3)+e.substr(19,12)}var Zse,Gx,Wx=je(()=>{Ci();rr();zx();lw();gn();"use strict";Zse=/[xy]/g,Gx={Attach:sf,AttachEvent:sf,Detach:af,DetachEvent:af}});function ps(t,e,r){return t&&t.length===e&&t!==r?!!t.match(/^[\da-f]*$/):!1}function Y2(t,e,r){return ps(t,e)?t:r}function J2(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e.length<2;)e="0"+e;return e}function Jx(t,e,r,n){return{version:ps(n,2,Yx)?n:Kx,traceId:pf(t)?t:ma(),spanId:hf(e)?e:ma().substr(0,16),traceFlags:r>=0&&r<=255?r:1}}function nh(t){if(!t||(Je(t)&&(t=t[0]||""),!t||!Wt(t)||t.length>8192))return null;var e=eae.exec(Nt(t));return!e||e[1]===Yx||e[2]===ww||e[3]===Cw?null:{version:e[1],traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}function pf(t){return ps(t,32,ww)}function hf(t){return ps(t,16,Cw)}function bw(t){return!(!t||!ps(t.version,2,Yx)||!ps(t.traceId,32,ww)||!ps(t.spanId,16,Cw)||!ps(J2(t.traceFlags),2))}function Qx(t){return bw(t)?(t.traceFlags&K2)===K2:!1}function Xx(t){if(t){var e=J2(t.traceFlags);ps(e,2)||(e="01");var r=t.version||Kx;return r!=="00"&&r!=="ff"&&(r=Kx),"".concat(r,"-").concat(Y2(t.traceId,32,ww),"-").concat(Y2(t.spanId,16,Cw),"-").concat(e)}return""}function Zx(){var t="traceparent",e=nh(Dx(t));return e||(e=nh(Rx(t))),e}var eae,Kx,Yx,ww,Cw,K2,eP=je(()=>{Wx();Ci();rr();eae=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,Kx="00",Yx="ff",ww="00000000000000000000000000000000",Cw="0000000000000000",K2=1});function hs(t){return tae.get(t,"state",{},!0)}function Ew(t,e){for(var r=[],n=null,i=t.getNext(),o;i;){var s=i.getPlugin();if(s){n&&rt(n[Rp])&&rt(s[zy])&&n[Rp](s);var a=!1;rt(s[os])?a=s[os]():(o=hs(s),a=o[os]),a||r.push(s),n=s,i=i.getNext()}}Ce(r,function(c){var l=t.core();c.initialize(t.getCfg(),l,e,t.getNext()),o=hs(c),!c[Ui]&&!o[Ui]&&(o[Ui]=l),o[os]=!0,delete o[yi]})}function _w(t){return t.sort(function(e,r){var n=0;if(r){var i=rt(r[zy]);rt(e[zy])?n=i?e[ix]-r[ix]:1:i&&(n=-1)}else n=e?1:-1;return n})}function Q2(t){var e={};return{getName:function(){return e.name},setName:function(r){t&&t.setName(r),e.name=r},getTraceId:function(){return e.traceId},setTraceId:function(r){t&&t.setTraceId(r),pf(r)&&(e.traceId=r)},getSpanId:function(){return e.spanId},setSpanId:function(r){t&&t.setSpanId(r),hf(r)&&(e.spanId=r)},getTraceFlags:function(){return e.traceFlags},setTraceFlags:function(r){t&&t.setTraceFlags(r),e.traceFlags=r}}}var tae,Sw=je(()=>{rr();gn();Jp();eP();"use strict";tae=uw("plugin")});function nae(t,e,r){for(;t;){if(t.getPlugin()===r)return t;t=t.getNext()}return xo([r],e.config||{},e)}function tP(t,e,r,n){var i=null,o=[];n!==null&&(i=n?nae(t,r,n):t);var s={_next:c,ctx:{core:function(){return r},diagLog:function(){return Vp(r,e)},getCfg:function(){return e},getExtCfg:l,getConfig:u,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:a}};function a(d,p){for(var h=[],m=2;m<arguments.length;m++)h[m-2]=arguments[m];d&&o.push({func:d,self:pt(p)?s.ctx:p,args:h})}function c(){var d=i;if(i=d?d.getNext():null,!d){var p=o;p&&p.length>0&&(Ce(p,function(h){try{h.func.call(h.self,h.args)}catch(m){Yt(r.logger,2,73,"Unexpected Exception during onComplete - "+Bt(m))}}),o=[])}return d}function l(d,p,h){p===void 0&&(p={}),h===void 0&&(h=0);var m;if(e){var g=e.extensionConfig;g&&d&&(m=g[d])}if(!m)m=p;else if(Rr(p)&&h!==0){var v=Qu(!0,p,m);e&&h===2&&Ot(p,function(y){if(Ge(v[y])){var C=e[y];Ge(C)||(v[y]=C)}}),m=v}return m}function u(d,p,h){h===void 0&&(h=!1);var m,g=l(d,null);return g&&!Ge(g[p])?m=g[p]:e&&!Ge(e[p])&&(m=e[p]),Ge(m)?h:m}function f(d){for(var p;p=s._next();){var h=p.getPlugin();h&&d(h)}}return s}function Cn(t,e,r,n){var i=tP(t,e,r,n),o=i.ctx;function s(c){var l=i._next();return l&&l.processTelemetry(c,o),!l}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=xo(c,e,r,l)),Cn(c||o.getNext(),e,r,l)}return o.processNext=s,o.createNew=a,o}function mf(t,e,r){var n=e.config||{},i=tP(t,n,e,r),o=i.ctx;function s(c){var l=i._next();return l&&l.unload(o,c),!l}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=xo(c,n,e,l)),mf(c||o.getNext(),e,l)}return o.processNext=s,o.createNew=a,o}function ih(t,e,r){var n=e.config||{},i=tP(t,n,e,r),o=i.ctx;function s(c){return o.iterate(function(l){rt(l.update)&&l.update(o,c)})}function a(c,l){return c===void 0&&(c=null),Je(c)&&(c=xo(c,n,e,l)),ih(c||o.getNext(),e,l)}return o.processNext=s,o.createNew=a,o}function xo(t,e,r,n){var i=null,o=!n;if(Je(t)&&t.length>0){var s=null;Ce(t,function(a){if(!o&&n===a&&(o=!0),o&&a&&rt(a.processTelemetry)){var c=iae(a,e,r);i||(i=c),s&&s._setNext(c),s=c}})}return n&&!i?xo([n],e,r):i}function iae(t,e,r){var n=null,i=rt(t.processTelemetry),o=rt(t.setNextPlugin),s;t?s=t.identifier+"-"+t.priority+"-"+eB++:s="Unknown-0-"+eB++;var a={getPlugin:function(){return t},getNext:function(){return n},processTelemetry:u,unload:f,update:d,_id:s,_setNext:function(p){n=p}};function c(){var p;return t&&rt(t[Z2])&&(p=t[Z2]()),p||(p=Cn(a,e,r)),p}function l(p,h,m,g,v){var y=!1,C=t?t.identifier:rae,b=p[X2];return b||(b=p[X2]={}),p.setNext(n),t&&Xt(p[Ui](),function(){return C+":"+m},function(){b[s]=!0;try{var _=n?n._id:vt;_&&(b[_]=!1),y=h(p)}catch(S){var P=n?b[n._id]:!0;P&&(y=!0),(!n||!P)&&Yt(p.diagLog(),1,73,"Plugin ["+C+"] failed during "+m+" - "+Bt(S)+", run flags: "+Bt(b))}},g,v),y}function u(p,h){h=h||c();function m(g){if(!t||!i)return!1;var v=hs(t);return v.teardown||v[Op]?!1:(o&&t.setNextPlugin(n),t.processTelemetry(p,g),!0)}l(h,m,"processTelemetry",function(){return{item:p}},!p.sync)||h.processNext(p)}function f(p,h){function m(){var g=!1;if(t){var v=hs(t),y=t[Ui]||v.core;t&&(!y||y===p[Ui]())&&!v[yi]&&(v[Ui]=null,v[yi]=!0,v[os]=!1,t[yi]&&t[yi](p,h)===!0&&(g=!0))}return g}l(p,m,"unload",function(){},h.isAsync)||p.processNext(h)}function d(p,h){function m(){var g=!1;if(t){var v=hs(t),y=t[Ui]||v.core;t&&(!y||y===p[Ui]())&&!v[yi]&&t[ox]&&t[ox](p,h)===!0&&(g=!0)}return g}l(p,m,"update",function(){},!1)||p.processNext(h)}return yn(a)}var rae,X2,Z2,eB,rP,oh=je(()=>{ca();rr();Gp();Ci();gn();Sw();"use strict";rae="TelemetryPluginChain",X2="_hasRun",Z2="_getTelCtx",eB=0;rP=function(){function t(e,r,n,i){var o=this,s=Cn(e,r,n,i);Hc(o,s,en(s))}return t}()});var tB,xw,nP=je(()=>{tB="iKey",xw="extensionConfig"});function rB(t,e,r,n){e&&Je(e)&&e.length>0&&(e=e.sort(function(i,o){return i.priority-o.priority}),Ce(e,function(i){i.priority<sh&&Or(oae+i.identifier)}),t.push({queue:yn(e),chain:xo(e,r,n)}))}function nB(t,e){var r;function n(){return Cn(null,e.config,e,null)}function i(u,f,d,p){var h=u?u.length+1:1;function m(){h--,h===0&&(p&&p(),p=null)}h>0&&Ce(u,function(g){if(g&&g.queue.length>0){var v=g.chain,y=f.createNew(v);y.onComplete(m),d(y)}else h--}),m()}function o(u,f){var d=f||{reason:0};return i(t,u,function(p){p[Nc](d)},function(){u[Nc](d)}),!0}function s(u,f){var d=f||{reason:0,isAsync:!1};return i(t,u,function(p){p[Nc](d)},function(){u[Nc](d),c=!1}),!0}function a(u){var f=null;return t&&t.length>0&&Ce(t,function(d){if(d&&d.queue.length>0&&(Ce(d.queue,function(p){if(p.identifier===u)return f=p,-1}),f))return-1}),f}var c=!1,l=(r={identifier:"ChannelControllerPlugin",priority:sh,initialize:function(u,f,d,p){c=!0,Ce(t,function(h){h&&h.queue.length>0&&Ew(Cn(h.chain,u,f),d)})},isInitialized:function(){return c},processTelemetry:function(u,f){i(t,f||n(),function(d){d[Nc](u)},function(){f[Nc](u)})},update:o},r[Wy]=function(){i(t,n(),function(u){u.iterate(function(f){f[Wy]&&f[Wy]()})},null)},r[Gy]=function(){i(t,n(),function(u){u.iterate(function(f){f[Gy]&&f[Gy]()})},null)},r[yi]=s,r.getChannel=a,r.flush=function(u,f,d,p){var h=1,m=!1,g=null;p=p||5e3;function v(){h--,m&&h===0&&(g&&(clearTimeout(g),g=null),f&&f(m),f=null)}return i(t,n(),function(y){y.iterate(function(C){if(C.flush){h++;var b=!1;C.flush(u,function(){b=!0,v()},d)||b||(u&&g==null?g=setTimeout(function(){g=null,v()},p):v())}})},function(){m=!0,v()}),!0},r._setQueue=function(u){t=u},r);return l}function iB(t,e,r,n){var i=[];if(t&&Ce(t,function(s){return rB(i,s,r,n)}),e){var o=[];Ce(e,function(s){s.priority>sh&&o.push(s)}),rB(i,o,r,n)}return i}var sh,oae,oB=je(()=>{rr();gn();oh();Sw();sh=500,oae="Channel has invalid priority - "});function el(){var t=[];function e(n){n&&t.push(n)}function r(n,i){Ce(t,function(o){try{o(n,i)}catch(s){Yt(n.diagLog(),2,73,"Unexpected error calling unload handler - "+Bt(s))}}),t=[]}return{add:e,run:r}}var Pw=je(()=>{ca();Ci();rr()});var ga,tl,iP=je(()=>{Nr();oh();rr();nP();Pw();gn();"use strict";ga="getPlugin",tl=function(){function t(){var e=this,r,n,i,o,s;l(),ft(t,e,function(u){u.initialize=function(f,d,p,h){c(f,d,h),r=!0},u.teardown=function(f,d){var p=u.core;if(!p||f&&p!==f.core())return;var h,m=!1,g=f||mf(null,p,i&&i[ga]?i[ga]():i),v=d||{reason:0,isAsync:!1};function y(){m||(m=!0,o.run(g,d),Ce(s,function(C){C.rm()}),s=[],h===!0&&g.processNext(v),l())}return!u[Bu]||u[Bu](g,v,y)!==!0?y():h=!0,h},u.update=function(f,d){var p=u.core;if(!p||f&&p!==f.core())return;var h,m=!1,g=f||ih(null,p,i&&i[ga]?i[ga]():i),v=d||{reason:0};function y(){m||(m=!0,c(g.getCfg(),g.core(),g.getNext()))}return!u._doUpdate||u._doUpdate(g,v,y)!==!0?y():h=!0,h},u._addHook=function(f){f&&(Je(f)?s=s.concat(f):s.push(f))},sa(u,"_addUnloadCb",function(){return o},"add")}),e.diagLog=function(u){return a(u).diagLog()},e[os]=function(){return r},e.setInitialized=function(u){r=u},e[Rp]=function(u){i=u},e.processNext=function(u,f){f?f.processNext(u):i&&rt(i.processTelemetry)&&i.processTelemetry(u,null)},e._getTelCtx=a;function a(u){u===void 0&&(u=null);var f=u;if(!f){var d=n||Cn(null,{},e.core);i&&i[ga]?f=d.createNew(null,i[ga]):f=d.createNew(null,i)}return f}function c(u,f,d){u&&gr(u,xw,[],null,Ge),!d&&f&&(d=f.getProcessTelContext().getNext());var p=i;i&&i[ga]&&(p=i[ga]()),e.core=f,n=Cn(d,u,f,p)}function l(){r=!1,e.core=null,n=null,i=null,s=[],o=el()}}return t}()});var sB,aB=je(()=>{mn();Nr();iP();ca();Ci();rr();gn();sB=function(t){$i(e,t);function e(){var r=t.call(this)||this;r.identifier="TelemetryInitializerPlugin",r.priority=199;var n,i;o(),ft(e,r,function(s,a){s.addTelemetryInitializer=function(c){var l={id:n++,fn:c};i.push(l);var u={remove:function(){Ce(i,function(f,d){if(f.id===l.id)return i.splice(d,1),-1})}};return u},s.processTelemetry=function(c,l){for(var u=!1,f=i.length,d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn.apply(null,[c])===!1){u=!0;break}}catch(h){Yt(l.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Bc(h),{exception:Bt(h)},!0)}}u||s.processNext(c,l)},s[Bu]=function(){o()}});function o(){n=0,i=[]}return r}return e}(tl)});function cae(t,e){return new zp(e)}function lae(t,e,r){var n=[],i={};return Ce(r,function(o){(Ge(o)||Ge(o.initialize))&&Or(cB);var s=o.priority,a=o.identifier;o&&s&&(Ge(i[s])?i[s]=a:Fx(t,"Two extensions have same priority #"+s+" - "+i[s]+", "+a)),(!s||s<e)&&n.push(o)}),{all:r,core:n}}function fB(t,e){var r=!1;return Ce(e,function(n){if(n===t)return r=!0,-1}),r}function uae(){var t;return Eo((t={},t[Lc]=function(e){},t[Fc]=function(e){},t[Hu]=function(e){},t[Vu]=function(e,r){},t[zu]=function(e,r){},t))}var cB,lB,uB,sae,aae,rl,oP=je(()=>{mn();mn();Nr();oh();Sw();Gp();Hx();rr();nP();ca();Lx();oB();aB();Jp();Pw();gn();"use strict";cB="Plugins must provide initialize method",lB="_notificationManager",uB="SDK is still unloading...",sae="SDK is not initialized",aae={loggingLevelConsole:1};rl=function(){function t(){var e,r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b=0;ft(t,this,function(_){P(),_.isInitialized=function(){return e},_.initialize=function(D,$,K,X){p&&Or(uB),_.isInitialized()&&Or("Core should not be initialized more than once"),(!D||Ge(D.instrumentationKey))&&Or("Please provide instrumentation key"),n=X,_[lB]=X,_.config=D||{},Y(D),ee(D),D.extensions=Ge(D.extensions)?[]:D.extensions,re(D),K&&(_.logger=K),c=[],c.push.apply(c,Vy(Vy([],$,!1),D.extensions,!1)),f=(D||{}).channels,x(D,null),(!d||d.length===0)&&Or("No channels available"),e=!0,_.releaseQueue()},_.getTransmissionControls=function(){var D=[];return d&&Ce(d,function($){D.push($.queue)}),yn(D)},_.track=function(D){gr(D,tB,_.config.instrumentationKey,null,Yu),gr(D,"time",wi(new Date),null,Yu),gr(D,"ver","4.0",null,Ge),!p&&_.isInitialized()?S().processNext(D):r.push(D)},_.getProcessTelContext=S,_.getNotifyMgr=function(){return n||(n=uae(),_[lB]=n),n},_[Lc]=function(D){n&&n[Lc](D)},_[Fc]=function(D){n&&n[Fc](D)},_.getCookieMgr=function(){return s||(s=fs(_.config,_.logger)),s},_.setCookieMgr=function(D){s=D},_.getPerfMgr=function(){return!i&&!o&&_.config&&_.config.enablePerfMgr&&rt(_.config.createPerfMgr)&&(o=_.config.createPerfMgr(_,_.getNotifyMgr())),i||o||qx()},_.setPerfMgr=function(D){i=D},_.eventCnt=function(){return r.length},_.releaseQueue=function(){if(e&&r.length>0){var D=r;r=[],Ce(D,function($){S().processNext($)})}},_.pollInternalLogs=function(D){m=D||null;var $=_.config.diagnosticLogInterval;return(!$||!($>0))&&($=1e4),b&&clearInterval(b),b=setInterval(function(){q()},$),b},_.stopPollingInternalLogs=function(){b&&(clearInterval(b),b=0,q())},Hc(_,function(){return h},["addTelemetryInitializer"]),_.unload=function(D,$,K){D===void 0&&(D=!0),e||Or(sae),p&&Or(uB);var X={reason:50,isAsync:D,flushComplete:!1},Q=mf(A(),_);Q.onComplete(function(){P(),$&&$(X)},_);function ve(Te){X.flushComplete=Te,p=!0,v.run(Q,X),_.stopPollingInternalLogs(),Q.processNext(X)}J(D,ve,6,K)||ve(!1)},_.getPlugin=T,_.addPlugin=function(D,$,K,X){if(!D){X&&X(!1),F(cB);return}var Q=T(D.identifier);if(Q&&!$){X&&X(!1),F("Plugin ["+D.identifier+"] is already loaded!");return}var ve={reason:16};function Te(Ee){c.push(D),ve.added=[D],x(_.config,ve),X&&X(!0)}if(Q){var Se=[Q.plugin],Re={reason:2,isAsync:!!K};N(Se,Re,function(Ee){Ee?(ve.removed=Se,ve.reason|=32,Te(!0)):X&&X(!1)})}else Te(!1)},_.evtNamespace=function(){return g},_.flush=J,_.getTraceCtx=function(D){return C||(C=Q2()),C},_.setTraceCtx=function(D){C=D||null},sa(_,"addUnloadCb",function(){return v},"add");function P(){e=!1,_.config=Qu(!0,{},aae),_.logger=new bi(_.config),_._extensions=[],h=new sB,r=[],n=null,i=null,o=null,s=null,a=null,l=null,c=[],u=null,f=null,d=null,p=!1,m=null,g=zi("AIBaseCore",!0),v=el(),C=null}function S(){return Cn(A(),_.config,_)}function x(D,$){var K=lae(_.logger,sh,c);l=K.core,a=null;var X=K.all;if(d=yn(iB(f,X,D,_)),u){var Q=hr(X,u);Q!==-1&&X.splice(Q,1),Q=hr(l,u),Q!==-1&&l.splice(Q,1),u._setQueue(d)}else u=nB(d,_);X.push(u),l.push(u),_._extensions=_w(X),u.initialize(D,_,X),Ew(S(),X),_._extensions=yn(_w(l||[])).slice(),$&&j($)}function T(D){var $=null,K=null;return Ce(_._extensions,function(X){if(X.identifier===D&&X!==u&&X!==h)return K=X,-1}),!K&&u&&(K=u.getChannel(D)),K&&($={plugin:K,setEnabled:function(X){hs(K)[Op]=!X},isEnabled:function(){var X=hs(K);return!X[yi]&&!X[Op]},remove:function(X,Q){X===void 0&&(X=!0);var ve=[K],Te={reason:1,isAsync:X};N(ve,Te,function(Se){Se&&x(_.config,{reason:32,removed:ve}),Q&&Q(Se)})}}),$}function A(){if(!a){var D=(l||[]).slice();hr(D,h)===-1&&D.push(h),a=xo(_w(D),_.config,_)}return a}function N(D,$,K){if(D&&D.length>0){var X=xo(D,_.config,_),Q=mf(X,_);Q.onComplete(function(){var ve=!1,Te=[];Ce(c,function(Re,Ee){fB(Re,D)?ve=!0:Te.push(Re)}),c=Te;var Se=[];f&&(Ce(f,function(Re,Ee){var _t=[];Ce(Re,function(kt){fB(kt,D)?ve=!0:_t.push(kt)}),Se.push(_t)}),f=Se),K&&K(ve)}),Q.processNext($)}else K(!1)}function q(){var D=_.logger?_.logger.queue:[];D&&(Ce(D,function($){var K={name:m||"InternalMessageId: "+$.messageId,iKey:_.config.instrumentationKey,time:wi(new Date),baseType:Kc.dataType,baseData:{message:$.message}};_.track(K)}),D.length=0)}function J(D,$,K,X){return u?u.flush(D,$,K||6,X):($&&$(!1),!0)}function Y(D){D.disableDbgExt===!0&&y&&(n[Fc](y),y=null),n&&!y&&D.disableDbgExt!==!0&&(y=h2(D),n[Lc](y))}function ee(D){!D.enablePerfMgr&&o&&(o=null),D.enablePerfMgr&&gr(_.config,"createPerfMgr",cae)}function re(D){var $=Lp(D,xw);$.NotificationManager=n}function j(D){var $=ih(A(),_);(!_._updateHook||_._updateHook($,D)!==!0)&&$.processNext(D)}function F(D){var $=_.logger;$?Yt($,2,73,D):Or(D)}})}return t}()});function kw(t,e,r,n){Ce(t,function(i){if(i&&i[e])if(r)setTimeout(function(){return n(i)},0);else try{n(i)}catch{}})}var ah,sP=je(()=>{Nr();rr();gn();ah=function(){function t(e){this.listeners=[];var r=!!(e||{}).perfEvtsSendAll;ft(t,this,function(n){n[Lc]=function(i){n.listeners.push(i)},n[Fc]=function(i){for(var o=hr(n.listeners,i);o>-1;)n.listeners.splice(o,1),o=hr(n.listeners,i)},n[Hu]=function(i){kw(n.listeners,Hu,!0,function(o){o[Hu](i)})},n[Vu]=function(i,o){kw(n.listeners,Vu,!0,function(s){s[Vu](i,o)})},n[zu]=function(i,o){kw(n.listeners,zu,o,function(s){s[zu](i,o)})},n[Np]=function(i){i&&(r||!i.isChildEvt())&&kw(n.listeners,Np,!1,function(o){i.isAsync?setTimeout(function(){return o[Np](i)},0):o[Np](i)})}})}return t}()});var ch,dB=je(()=>{mn();oP();sP();Gp();ca();Nr();rr();ch=function(t){$i(e,t);function e(){var r=t.call(this)||this;return ft(e,r,function(n,i){n.initialize=function(a,c,l,u){i.initialize(a,c,l||new bi(a),u||new ah(a))},n.track=function(a){Xt(n.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Or("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){Ge(a.name)&&(s(a),Or("telemetry name required"))}function s(a){var c=n.getNotifyMgr();c&&c.eventsDiscarded([a],2)}}),r}return e}(rl)});var aP,lh,pB=je(()=>{Jy();aP=tn({CRITICAL:1,WARNING:2}),lh=tn({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106})});var ms=je(()=>{qU();e2();dB();oP();iP();lw();Wx();rr();Jy();zx();Ci();mn();sP();Gp();ca();oh();pB();Hx();Jp();Pw();eP()});var hB,mB,gB,vB,yB,wB,CB=je(()=>{mn();ms();hB=tn({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),mB=tn({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),gB=tn({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),vB=tn({Normal:1,Critical:2}),yB=tn({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),wB=yn(Hy(Hy({},lh),tn({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});function cr(t){return!(t===""||Ge(t))}function fh(t){if(t){var e=t.indexOf("-");if(e>-1)return t.substring(0,e)}return""}function uP(){return cP===null&&(cP=!pt(Uint8Array)&&!mae()&&!us()),cP}function dh(t){return!!(t&&vn(t)&&t>=1&&t<=4)}function ph(t,e,r){if(!e&&!cr(e)||typeof t!="string")return null;var n=typeof e;if(n==="string"||n==="number"||n==="boolean"||Je(e))e={value:e};else if(n==="object"&&!e.hasOwnProperty("value"))e={value:r?JSON.stringify(e):e};else if(Ge(e.value)||e.value===""||!Wt(e.value)&&!vn(e.value)&&!ss(e.value)&&!Je(e.value))return null;if(Je(e.value)&&!Tw(e.value))return null;if(!Ge(e.kind)){if(Je(e.value)||!gf(e.kind))return null;e.value=e.value.toString()}return e}function hh(t,e,r){var n=-1;if(!pt(t))if(e>0&&(e===32?n=1<<13:e<=13&&(n=e<<5)),hae(r))n===-1&&(n=0),n|=r;else{var i=pae[Wi(t)]||-1;n!==-1&&i!==-1?n|=i:i===6&&(n=i)}return n}function fP(){da(null).setEnabled(!1)}function dP(t,e,r){Gi(null)&&da(null).set(t,e,r*86400,null,"/")}function pP(t){Gi(null)&&da(null).del(t)}function hP(t){return Gi(null)?mP(da(null),t):""}function mP(t,e,r){r===void 0&&(r=!0);var n;return t&&(n=t.get(e),r&&n&&decodeURIComponent&&(n=decodeURIComponent(n))),n||""}function gP(t){t===void 0&&(t="D");var e=ff();return t==="B"?e="{"+e+"}":t==="P"?e="("+e+")":t==="N"&&(e=e.replace(/-/g,"")),e}function va(t,e,r,n,i){var o={},s=!1,a=0,c=arguments.length,l=Object[ar],u=arguments;for(l.toString.call(u[0])==="[object Boolean]"&&(s=u[0],a++);a<c;a++){var t=u[a];Ot(t,function(d,p){s&&p&&Rr(p)?Je(p)?(o[d]=o[d]||[],Ce(p,function(h,m){h&&Rr(h)?o[d][m]=va(!0,o[d][m],h):o[d][m]=h})):o[d]=va(!0,o[d],p):o[d]=p})}return o}function gf(t){return t===0||t>0&&t<=13||t===32}function hae(t){return t>=0&&t<=9}function mae(){var t=Hn();if(!pt(t)&&t.userAgent){var e=t.userAgent.toLowerCase();if((e.indexOf("safari")>=0||e.indexOf("firefox")>=0)&&e.indexOf("chrome")<0)return!0}return!1}function Tw(t){return t.length>0}function vf(t,e){var r=t;r.timings=r.timings||{},r.timings.processTelemetryStart=r.timings.processTelemetryStart||{},r.timings.processTelemetryStart[e]=rn()}function Wi(t){var e=0;if(t!=null){var r=typeof t;r==="string"?e=1:r==="number"?e=2:r==="boolean"?e=3:r===or&&(e=4,Je(t)?(e=4096,t.length>0&&(e|=Wi(t[0]))):_o(t,"value")&&(e=8192|Wi(t.value)))}return e}function Aw(){return!!Kt("chrome")}function Dw(t,e,r,n,i,o){n===void 0&&(n=!1),i===void 0&&(i=!1);function s(c,l,u){try{c[l]=u}catch{}}var a=new XMLHttpRequest;return n&&s(a,fae,n),r&&s(a,bB,r),a.open(t,e,!i),r&&s(a,bB,r),!i&&o&&s(a,dae,o),a}var gs,Iw,vs,fae,bB,dae,pae,cP,uh,lP,rn,EB,_B,mh=je(()=>{mn();ms();Iw="3.2.3",vs="1DS-Web-JS-"+Iw,fae="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",bB="withCredentials",dae="timeout",pae=(gs={},gs[0]=0,gs[2]=6,gs[1]=1,gs[3]=7,gs[4096|2]=6,gs[4096|1]=1,gs[4096|3]=7,gs),cP=null,uh=Boolean(wn()),lP=Boolean(So());rn=df;EB={Version:Iw,FullVersionString:vs,strUndefined:sr,strObject:or,Undefined:sr,arrForEach:Ce,arrIndexOf:hr,arrMap:$c,arrReduce:Uc,objKeys:en,toISOString:wi,isReactNative:us,isString:Wt,isNumber:vn,isBoolean:ss,isFunction:rt,isArray:Je,isObject:Rr,strTrim:Nt,isDocumentObjectAvailable:uh,isWindowObjectAvailable:lP,isValueAssigned:cr,getTenantId:fh,isBeaconsSupported:aa,isUint8ArrayAvailable:uP,isLatency:dh,sanitizeProperty:ph,getISOString:wi,useXDomainRequest:Wc,getCommonSchemaMetaData:hh,cookieAvailable:Gi,disallowsSameSiteNone:of,setCookie:dP,deleteCookie:pP,getCookie:hP,createGuid:gP,extend:va,getTime:rn,isValueKind:gf,isArrayValid:Tw,objDefineAccessors:Bn,addPageUnloadEventListener:Zc,setProcessTelemetryTimings:vf,addEventHandler:pa,getFieldValueType:Wi,strEndsWith:qc,objForEachKey:Ot},_B={_canUseCookies:void 0,isTypeof:Gu,isUndefined:pt,isNullOrUndefined:Ge,hasOwnProperty:_o,isFunction:rt,isObject:Rr,isDate:Ku,isArray:Je,isError:jc,isString:Wt,isNumber:vn,isBoolean:ss,toISOString:wi,arrForEach:Ce,arrIndexOf:hr,arrMap:$c,arrReduce:Uc,strTrim:Nt,objCreate:Eo,objKeys:en,objDefineAccessors:Bn,addEventHandler:pa,dateNow:mr,isIE:Hi,disableCookies:fP,newGuid:ff,perfNow:df,newId:ua,randomValue:Jc,random32:Vi,mwcRandomSeed:cw,mwcRandom32:Yp,generateW3CId:ma}});var vP,yP,gae,SB,xB=je(()=>{mn();ms();mh();Nr();vP="version",yP="properties",gae=function(t){$i(e,t);function e(){var r=t.call(this)||this;return r.pluginVersionStringArr=[],r.pluginVersionString="",ft(e,r,function(n,i){(!n.logger||!n.logger.queue)&&(n.logger=new bi({loggingLevelConsole:1})),n.initialize=function(o,s,a,c){Xt(n,function(){return"AppInsightsCore.initialize"},function(){if(o){o.endpointUrl||(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var l=o.propertyStorageOverride;if(l&&(!l.getProperty||!l.setProperty))throw new Error("Invalid property storage override passed.");o.channels&&Ce(o.channels,function(d){d&&Ce(d,function(p){if(p.identifier&&p.version){var h=p.identifier+"="+p.version;n.pluginVersionStringArr.push(h)}})})}n.getWParam=function(){return typeof document!="undefined"?0:-1},s&&Ce(s,function(d){if(d&&d.identifier&&d.version){var p=d.identifier+"="+d.version;n.pluginVersionStringArr.push(p)}}),n.pluginVersionString=n.pluginVersionStringArr.join(";");try{i.initialize(o,s,a,c),n.pollInternalLogs("InternalLog")}catch(d){var u=n.logger,f=Bt(d);f.indexOf("channels")!==-1&&(f+=`
 - Channels must be provided through config.channels only!`),u.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+f)}},function(){return{config:o,extensions:s,logger:a,notificationManager:c}})},n.track=function(o){Xt(n,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=rn(),dh(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=vs;var c=s.baseData=s.baseData||{};c[yP]||(c[yP]={});var l=c[yP];l[vP]||(l[vP]=""),n.pluginVersionString!==""&&(l[vP]=n.pluginVersionString)}i.track(s)},function(){return{item:o}},!o.sync)}}),r}return e}(ch),SB=gae});var vae,PB,kB=je(()=>{mn();Nr();ms();mh();vae=function(t){$i(e,t);function e(){var r=t.call(this)||this;return ft(e,r,function(n,i){n.initialize=function(o,s,a,c){o&&!o.endpointUrl&&(o.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),n.getWParam=function(){return uh?0:-1};try{i.initialize(o,s,a,c)}catch(l){Yt(n.logger,1,514,"Initialization Failed: "+Bt(l)+`
 - Note: Channels must be provided through config.channels only`)}},n.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=vs}i.track(s)}}),r}return e}(rl),PB=vae});function yae(t,e,r){return function(n){t[e]=n,r()}}var nl,wae,ya,wP=je(()=>{ms();Nr();nl=rt;wae=function(){function t(e){var r=0,n=null,i=[];ft(t,this,function(l){l.then=function(u,f){return new t(function(d,p){o(u,f,d,p)})},l.catch=function(u){return l.then(null,u)}});function o(l,u,f,d){i.push(function(){var p;try{r===1?p=nl(l)?l(n):n:p=nl(u)?u(n):n,p instanceof t?p.then(f,d):r===2&&!nl(u)?d(p):f(p)}catch(h){d(h);return}}),r!==0&&s()}function s(){if(i.length>0){var l=i.slice();i=[],setTimeout(function(){for(var u=0,f=l.length;u<f;++u)try{l[u]()}catch{}},0)}}function a(l){r===0&&(n=l,r=1,s())}function c(l){r===0&&(n=l,r=2,s())}(function(){if(!nl(e))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{e(a,c)}catch(u){c(u)}})()}return t.resolve=function(e){return e instanceof t?e:e&&nl(e.then)?new t(function(r,n){try{e.then(r,n)}catch(i){n(i)}}):new t(function(r){r(e)})},t.reject=function(e){return new t(function(r,n){n(e)})},t.all=function(e){if(!(!e||!e.length))return new t(function(r,n){try{for(var i=[],o=0,s=0;s<e.length;s++){var a=e[s];a&&nl(a.then)?(o++,a.then(yae(i,s,function(){--o==0&&r(i)}),n)):i[s]=a}o===0&&setTimeout(function(){r(i)},0)}catch(c){n(c)}})},t.race=function(e){return new t(function(r,n){if(!(!e||!e.length))try{for(var i=function(s){var a=e[s];a&&nl(a.then)?a.then(r,n):setTimeout(function(){r(a)},0)},o=0;o<e.length;o++)i(o)}catch(s){n(s)}})},t}(),ya=wae});function yf(){return new Date().getTime()}var Cae,IB,gh,il,CP,bae,TB,AB=je(()=>{wP();ms();Nr();Cae=6e5,IB=0,gh=[],il=[],CP=[];bae=function(){function t(e,r){var n=0,i=(e||"<unnamed>")+"."+IB;IB++,ft(t,this,function(a){var c=null,l=0;a.scheduleEvent=function(f,d,p){var h=i+"."+l;l++,d&&(h+="-("+d+")");var m=h+"{"+n+"}";n++;var g={evt:null,tm:yf(),id:m,isRunning:!1,isAborted:!1};return c?g.evt=S(g,c):g.evt=P(g),c=g,c.evt._schId=m,g.evt;function v(x){for(var T=yf(),A=T-Cae,N=x.length,q=0;q<N;){var J=x[q];if(J&&J.tm<A){var Y=null;J.abort?(Y="Aborting ["+J.id+"] due to Excessive runtime ("+(T-J.tm)+" ms)",J.abort(Y)):Y="Removing ["+J.id+"] due to Excessive runtime ("+(T-J.tm)+" ms)",s(Y),x.splice(q,1),N--}else q++}}function y(x,T){var A=!1,N=u(gh,x);if(N||(N=u(CP,x),A=!0),N){N.to&&(clearTimeout(N.to),N.to=null);var q=yf()-N.tm;T?A?s("Timed out event ["+x+"] finally complete -- "+q+" ms"):o("Promise ["+x+"] Complete -- "+q+" ms"):(CP.push(N),s("Event ["+x+"] Timed out and removed -- "+q+" ms"))}else o("Failed to remove ["+x+"] from running queue");c&&c.id===x&&(c=null),v(gh),v(il),v(CP)}function C(x,T){return function(A){return y(x,!0),T&&T(A),A}}function b(x,T,A,N){T.then(function(q){return q instanceof ya?(o("Event ["+x+"] returned a promise -- waiting"),b(x,q,A,N),q):C(x,A)(q)},C(x,N))}function _(x,T){var A=x.id;return new ya(function(N,q){o("Event ["+A+"] Starting -- waited for "+(x.wTm||"--")+" ms"),x.isRunning=!0,x.abort=function(Y){x.abort=null,x.isAborted=!0,y(A,!1),q(new Error(Y))};var J=T(A);J instanceof ya?(p&&(x.to=setTimeout(function(){y(A,!1),q(new Error("Timed out after ["+p+"] ms"))},p)),b(A,J,function(Y){o("Event ["+A+"] Resolving after "+(yf()-x.tm)+" ms"),N(Y)},q)):(o("Promise ["+A+"] Auto completed as the start action did not return a promise"),N())})}function P(x){var T=yf();return x.wTm=T-x.tm,x.tm=T,x.isAborted?ya.reject(new Error("["+h+"] was aborted")):(gh.push(x),_(x,f))}function S(x,T){var A=new ya(function(N,q){var J=yf()-T.tm,Y=T.id;o("["+h+"] is waiting for ["+Y+":"+J+" ms] to complete before starting -- ["+il.length+"] waiting and ["+gh.length+"] running"),x.abort=function(ee){x.abort=null,u(il,h),x.isAborted=!0,q(new Error(ee))},T.evt.then(function(ee){u(il,h),P(x).then(N,q)},function(ee){u(il,h),P(x).then(N,q)})});return il.push(x),A}};function u(f,d){for(var p=0;p<f.length;p++)if(f[p].id===d)return f.splice(p,1)[0];return null}});function o(a){var c=ji();c&&c.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){r&&r.warnToConsole("ESPromiseScheduler["+i+"] "+a)}}return t.incomplete=function(){return gh},t.waitingToStart=function(){return il},t}(),TB=bae});var DB,RB=je(()=>{ms();mh();DB=function(){function t(e){var r=this,n={},i=[],o=[];e&&o.push(e);function s(u,f){var d,p=n[u];if(p&&(d=p[f]),!d&&d!==null){if(Wt(u)&&Wt(f))if(o.length>0){for(var h=0;h<o.length;h++)if(o[h].handleField(u,f)){d={canHandle:!0,fieldHandler:o[h]};break}}else i.length===0&&(d={canHandle:!0});if(!d&&d!==null){d=null;for(var h=0;h<i.length;h++)if(i[h].handleField(u,f)){d={canHandle:!0,handler:i[h],fieldHandler:null};break}}p||(p=n[u]={}),p[f]=d}return d}r.addSanitizer=function(u){u&&(i.push(u),n={})},r.addFieldSanitizer=function(u){u&&(o.push(u),n={})},r.handleField=function(u,f){var d=s(u,f);return d?d.canHandle:!1},r.value=function(u,f,d,p){var h=s(u,f);if(h&&h.canHandle){if(!h||!h.canHandle)return null;if(h.handler)return h.handler.value(u,f,d,p);if(!Wt(f)||Ge(d)||d==="")return null;var m=null,g=Wi(d);if((g&8192)==8192){var v=g&~8192;if(m=d,!cr(m.value)||v!==1&&v!==2&&v!==3&&(v&4096)!=4096)return null}else g===1||g===2||g===3||(g&4096)==4096?m=c(u,f,d):g===4&&(m=c(u,f,p?JSON.stringify(d):d));if(m)return a(h,u,f,g,m,p)}return null},r.property=function(u,f,d,p){var h=s(u,f);if(!h||!h.canHandle||!Wt(f)||Ge(d)||!cr(d.value))return null;var m=Wi(d.value);return m===0?null:a(h,u,f,m,d,p)};function a(u,f,d,p,h,m){if(u.handler)return u.handler.property(f,d,h,m);if(!Ge(h.kind)){if((p&4096)==4096||!gf(h.kind))return null;h.value=h.value.toString()}return l(u.fieldHandler,f,d,p,h)}function c(u,f,d){return cr(d)?{value:d}:null}function l(u,f,d,p,h){if(h&&u){var m=u.getSanitizer(f,d,p,h.kind,h.propertyType);if(m)if(p===4){var g={},v=h.value;Ot(v,function(C,b){var _=f+"."+d;if(cr(b)){var P=c(_,C,b);P=l(u,_,C,Wi(b),P),P&&(g[C]=P.value)}}),h.value=g}else{var y={path:f,name:d,type:p,prop:h,sanitizer:r};h=m.call(r,y)}}return h}}return t.getFieldType=Wi,t}()});var OB={};rb(OB,{AppInsightsCore:()=>SB,BaseCore:()=>PB,BaseTelemetryPlugin:()=>tl,CoreUtils:()=>_B,DiagnosticLogger:()=>bi,ESPromise:()=>ya,ESPromiseScheduler:()=>TB,EventHelper:()=>Gx,EventLatency:()=>mB,EventPersistence:()=>vB,EventPropertyType:()=>gB,EventsDiscardedReason:()=>Bi,FullVersionString:()=>vs,InternalAppInsightsCore:()=>ch,InternalBaseCore:()=>rl,LoggingSeverity:()=>aP,MinChannelPriorty:()=>nx,NotificationManager:()=>ah,PerfEvent:()=>Yc,PerfManager:()=>zp,ProcessTelemetryContext:()=>rP,TraceLevel:()=>yB,Undefined:()=>sr,Utils:()=>EB,ValueKind:()=>hB,ValueSanitizer:()=>DB,Version:()=>Iw,_ExtendedInternalMessageId:()=>wB,_InternalLogMessage:()=>Kc,_InternalMessageId:()=>lh,__getRegisteredEvents:()=>Vx,_throwInternal:()=>Yt,addEventHandler:()=>pa,addEventListeners:()=>yw,addPageHideEventListener:()=>lf,addPageShowEventListener:()=>uf,addPageUnloadEventListener:()=>Zc,areCookiesSupported:()=>Gi,arrForEach:()=>Ce,arrIndexOf:()=>hr,arrMap:()=>$c,arrReduce:()=>Uc,attachEvent:()=>sf,cookieAvailable:()=>Gi,createCookieMgr:()=>fs,createEnumStyle:()=>tn,createGuid:()=>gP,createProcessTelemetryContext:()=>Cn,createTraceParent:()=>Jx,createUniqueNamespace:()=>zi,createUnloadHandlerContainer:()=>el,dateNow:()=>mr,deleteCookie:()=>pP,detachEvent:()=>af,disableCookies:()=>fP,disallowsSameSiteNone:()=>of,doPerf:()=>Xt,dumpObj:()=>Bt,eventOff:()=>Xc,eventOn:()=>Qc,extend:()=>va,findW3cTraceParent:()=>Zx,formatTraceParent:()=>Xx,generateW3CId:()=>ma,getCommonSchemaMetaData:()=>hh,getConsole:()=>$p,getCookie:()=>hP,getCookieValue:()=>mP,getCrypto:()=>Up,getDocument:()=>wn,getExceptionName:()=>Bc,getFieldValueType:()=>Wi,getGlobal:()=>ji,getGlobalInst:()=>Kt,getHistory:()=>Tx,getIEVersion:()=>Ax,getISOString:()=>wi,getJSON:()=>tf,getLocation:()=>zc,getMsCrypto:()=>Bp,getNavigator:()=>Hn,getPerformance:()=>ef,getSetValue:()=>Lp,getTenantId:()=>fh,getTime:()=>rn,getWindow:()=>So,hasDocument:()=>iw,hasHistory:()=>ow,hasJSON:()=>Gc,hasNavigator:()=>jp,hasOwnProperty:()=>_o,hasWindow:()=>qp,isArray:()=>Je,isArrayValid:()=>Tw,isBeaconsSupported:()=>aa,isBoolean:()=>ss,isChromium:()=>Aw,isDate:()=>Ku,isDocumentObjectAvailable:()=>uh,isError:()=>jc,isFetchSupported:()=>Hp,isFunction:()=>rt,isIE:()=>Hi,isLatency:()=>dh,isNotTruthy:()=>Yu,isNullOrUndefined:()=>Ge,isNumber:()=>vn,isObject:()=>Rr,isReactNative:()=>us,isSampledFlag:()=>Qx,isString:()=>Wt,isTruthy:()=>Ju,isTypeof:()=>Gu,isUint8ArrayAvailable:()=>uP,isUndefined:()=>pt,isValidSpanId:()=>hf,isValidTraceId:()=>pf,isValidTraceParent:()=>bw,isValueAssigned:()=>cr,isValueKind:()=>gf,isWindowObjectAvailable:()=>lP,isXhrSupported:()=>rf,mergeEvtNamespace:()=>ds,newGuid:()=>ff,newId:()=>ua,normalizeJsName:()=>Mc,objCreate:()=>Eo,objDefineAccessors:()=>Bn,objForEachKey:()=>Ot,objFreeze:()=>yn,objKeys:()=>en,objSeal:()=>px,openXhr:()=>Dw,optimizeObject:()=>as,parseTraceParent:()=>nh,perfNow:()=>df,proxyAssign:()=>hx,proxyFunctionAs:()=>sa,proxyFunctions:()=>Hc,random32:()=>Vi,randomValue:()=>Jc,removeEventHandler:()=>vw,removeEventListeners:()=>ha,removePageHideEventListener:()=>th,removePageShowEventListener:()=>rh,removePageUnloadEventListener:()=>eh,safeGetCookieMgr:()=>da,safeGetLogger:()=>Vp,sanitizeProperty:()=>ph,setCookie:()=>dP,setEnableEnvMocks:()=>Ix,setProcessTelemetryTimings:()=>vf,setValue:()=>gr,strContains:()=>tr,strEndsWith:()=>qc,strFunction:()=>vi,strObject:()=>or,strPrototype:()=>ar,strStartsWith:()=>Wu,strTrim:()=>Nt,strUndefined:()=>sr,throwError:()=>Or,toISOString:()=>wi,useXDomainRequest:()=>Wc});var ol=je(()=>{CB();xB();kB();wP();AB();RB();ms();mh()});var sl,Rw,Ow,bP=je(()=>{sl="REAL_TIME",Rw="NEAR_REAL_TIME",Ow="BEST_EFFORT"});var Nw,NB,Lw,LB,EP,FB,MB,qB,_P,SP,Fw,jB,xP,$B,PP,Mw,kP,qw,jw,$w,vh,IP,UB,wf,Uw=je(()=>{Nw="POST",NB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Lw="drop",LB="send",EP="requeue",FB="rspFail",MB="oth",qB="no-cache, no-store",_P="application/x-json-stream",SP="cache-control",Fw="content-type",jB="kill-tokens",xP="kill-duration",$B="kill-duration-seconds",PP="time-delta-millis",Mw="client-version",kP="client-id",qw="time-delta-to-apply-millis",jw="upload-time",$w="apikey",vh="AuthMsaDeviceTicket",IP="AuthXToken",UB="NoResponseBody",wf="msfpc"});function BB(t){var e=(t.ext||{}).intweb;return e&&cr(e[wf])?e[wf]:null}function HB(t){for(var e=null,r=0;e===null&&r<t.length;r++)e=BB(t[r]);return e}var Cf,TP=je(()=>{ol();Uw();Cf=function(){function t(e,r){var n=r?[].concat(r):[],i=this,o=HB(n);i.iKey=function(){return e},i.Msfpc=function(){return o||""},i.count=function(){return n.length},i.events=function(){return n},i.addEvent=function(s){return s?(n.push(s),o||(o=BB(s)),!0):!1},i.split=function(s,a){var c;if(s<n.length){var l=n.length-s;Ge(a)||(l=a<l?a:l),c=n.splice(s,l),o=HB(n)}return new t(e,c)}}return t.create=function(e,r){return new t(e,r)},t}()});function KB(t,e,r,n){if(n&&t){var i=hh(n.value,n.kind,n.propertyType);if(i>-1){var o=t[GB];o||(o=t[GB]={f:{}});var s=o[Bw];if(s||(s=o[Bw]={}),e)for(var a=0;a<e.length;a++){var c=e[a];s[c]||(s[c]={f:{}});var l=s[c][Bw];l||(l=s[c][Bw]={}),s=l}s=s[r]={},Je(n.value)?s.a={t:i}:s.t=i}}}var Eae,_ae,VB,zB,Sae,GB,Bw,xae,WB,YB=je(()=>{ol();TP();Nr();Eae=20,_ae=3984588,VB=65e3,zB=2e6,Sae=Math.min(zB,VB),GB="metadata",Bw="f",xae=/\./,WB=function(){function t(e,r,n,i){var o="data",s="baseData",a="ext",c=!!i,l=!0,u=r,f={};ft(t,this,function(d){d.createPayload=function(m,g,v,y,C,b){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:m,isTeardown:g,isSync:v,isBeacon:y,sendType:b,sendReason:C}},d.appendPayload=function(m,g,v){var y=m&&g&&!m.overflow;return y&&Xt(e,function(){return"Serializer:appendPayload"},function(){for(var C=g.events(),b=m.payloadBlob,_=m.numEvents,P=!1,S=[],x=[],T=m.isBeacon,A=T?VB:_ae,N=T?Sae:zB,q=0,J=0;q<C.length;){var Y=C[q];if(Y){if(_>=v){m.overflow=g.split(q);break}var ee=d.getEventBlob(Y);if(ee&&ee.length<=N){var re=ee.length,j=b.length;if(j+re>A){m.overflow=g.split(q);break}b&&(b+=`
`),b+=ee,J++,J>Eae&&(b.substr(0,1),J=0),P=!0,_++}else ee?S.push(Y):x.push(Y),C.splice(q,1),q--}q++}if(S&&S.length>0&&m.sizeExceed.push(Cf.create(g.iKey(),S)),x&&x.length>0&&m.failedEvts.push(Cf.create(g.iKey(),x)),P){m.batches.push(g),m.payloadBlob=b,m.numEvents=_;var F=g.iKey();hr(m.apiKeys,F)===-1&&m.apiKeys.push(F)}},function(){return{payload:m,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),y},d.getEventBlob=function(m){try{return Xt(e,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=m.name,g.time=m.time,g.ver=m.ver,g.iKey="o:"+fh(m.iKey);var v={},y=m[a];y&&(g[a]=v,Ot(y,function(_,P){var S=v[_]={};h(P,S,"ext."+_,!0,null,null,!0)}));var C=g[o]={};C.baseType=m.baseType;var b=C[s]={};return h(m.baseData,b,s,!1,[s],function(_,P,S){KB(v,_,P,S)},l),h(m.data,C,o,!1,[],function(_,P,S){KB(v,_,P,S)},l),JSON.stringify(g)},function(){return{item:m}})}catch{return null}};function p(m,g){var v=f[m];return v===void 0&&(m.length>=7&&(v=Wu(m,"ext.metadata")||Wu(m,"ext.web")),f[m]=v),v}function h(m,g,v,y,C,b,_){Ot(m,function(P,S){var x=null;if(S||cr(S)){var T=v,A=P,N=C,q=g;if(c&&!y&&xae.test(P)){var J=P.split("."),Y=J.length;if(Y>1){N&&(N=N.slice());for(var ee=0;ee<Y-1;ee++){var re=J[ee];q=q[re]=q[re]||{},T+="."+re,N&&N.push(re)}A=J[Y-1]}}var j=y&&p(T,A);if(!j&&u&&u.handleField(T,A)?x=u.value(T,A,S,n):x=ph(A,S,n),x){var F=x.value;if(q[A]=F,b&&b(N,A,x),_&&typeof F=="object"&&!Je(F)){var D=N;D&&(D=D.slice(),D.push(A)),h(S,F,T+"."+A,y,D,b,_)}}}})}})}return t}()});function QB(t){return!(t>=300&&t<500&&t!=408&&t!=429||t==501||t==505)}function Hw(t){var e=0,r=JB*Pae,n=JB*kae,i=Math.floor(Math.random()*(n-r))+r;return e=Math.pow(2,t)*i,Math.min(e,Iae)}var Pae,kae,JB,Iae,AP=je(()=>{Pae=.8,kae=1.2,JB=3e3,Iae=6e5});var Tae,Aae,XB,ZB=je(()=>{Nr();ol();Tae=1e3,Aae=function(){function t(){var e={};function r(n){var i=[];return n&&Ce(n,function(o){i.push(Nt(o))}),i}ft(t,this,function(n){n.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=r(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*Tae,c=0;c<s.length;++c)e[s[c]]=mr()+a}catch{return[]}return[]},n.isTenantKilled=function(i){var o=e,s=Nt(i);return o[s]!==void 0&&o[s]>mr()?!0:(delete o[s],!1)}})}return t}(),XB=Aae});var Dae,eH,tH=je(()=>{Nr();Dae=function(){function t(){var e=!0,r=!0,n=!0,i="use-collector-delta",o=!1;ft(t,this,function(s){s.allowRequestSending=function(){return e},s.firstRequestSent=function(){n&&(n=!1,o||(e=!1))},s.shouldAddClockSkewHeaders=function(){return r},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,r=!0,o=!0):r=!1,e=!0)}})}return t}(),eH=Dae});function cl(t,e,r){RP[t]=e,r!==!1&&(OP[e]=t)}function nH(t){try{return t.responseText}catch{}return""}function iH(t,e){var r=!1;if(t&&e){var n=en(t);if(n&&n.length>0)for(var i=e.toLowerCase(),o=0;o<n.length;o++){var s=n[o];if(s&&_o(e,s)&&s.toLowerCase()===i){r=!0;break}}}return r}function bf(t,e,r,n){e&&r&&r.length>0&&(n&&RP[e]?(t.hdrs[RP[e]]=r,t.useHdrs=!0):t.url+="&"+e+"="+r)}var al,DP,rH,Rae,RP,OP,oH,sH=je(()=>{ol();YB();AP();ZB();tH();Nr();Uw();DP="sendAttempt",rH="&"+UB+"=true",Rae=(al={},al[1]=EP,al[100]=EP,al[200]="sent",al[8004]=Lw,al[8003]=Lw,al),RP={},OP={};cl(vh,vh,!1);cl(Mw,Mw);cl(kP,"Client-Id");cl($w,$w);cl(qw,qw);cl(jw,jw);cl(IP,IP);oH=function(){function t(e,r,n,i,o){this._responseHandlers=[];var s="?cors=true&"+Fw.toLowerCase()+"="+_P,a=new XB,c=!1,l=new eH,u=!1,f=0,d,p,h,m=!0,g=[],v={},y=[],C=null,b=!1,_,P=!1,S=!1,x,T;ft(t,this,function(A){var N=!0;A.initialize=function(V,ae,ne,fe,me){var Be;me||(me={}),s=V+s,S=pt(me.avoidOptions)?!0:!me.avoidOptions,h=ae,_=ae.getCookieMgr(),b=!h.config.disableEventTimings;var Me=!!h.config.enableCompoundKey;d=ne;var we=me.valueSanitizer,qe=me.stringifyObjects;pt(me.enableCompoundKey)||(Me=!!me.enableCompoundKey),x=me.xhrTimeout,T=me.disableXhrSync,u=!us(),C=new WB(h,we,qe,Me);var _e=fe,G=me.alwaysUseXhrOverride?fe:null,oe=me.alwaysUseXhrOverride?fe:null;if(!fe){m=!1;var se=zc();se&&se.protocol&&se.protocol.toLowerCase()==="file:"&&(N=!1);var de=[];us()?de=[2,1]:de=[1,2,3];var be=me.transports;be&&(vn(be)?de=[be].concat(de):Je(be)&&(de=be.concat(de))),fe=q(de,!1),_e=q(de,!0),fe||d.diagLog().warnToConsole("No available transport to send events")}p=(Be={},Be[0]=fe,Be[1]=_e||q([1,2,3],!0),Be[2]=G||q([3,2],!0)||_e||q([1],!0),Be[3]=oe||q([2,3],!0)||_e||q([1],!0),Be)};function q(V,ae){for(var ne=0,fe=null,me=0;fe==null&&me<V.length;)ne=V[me],ne===1?Wc()?fe=J:rf()&&(fe=ee):ne===2&&Hp(ae)?fe=Y:u&&ne===3&&aa()&&(fe=j),me++;return fe?{_transport:ne,_isSync:ae,sendPOST:fe}:null}A._getDbgPlgTargets=function(){return[p[0],a,C,p]};function J(V,ae,ne){var fe=new XDomainRequest;fe.open(Nw,V.urlString),V.timeout&&(fe.timeout=V.timeout),fe.onload=function(){var me=nH(fe);re(ae,200,{},me),an(me)},fe.onerror=function(){re(ae,400,{})},fe.ontimeout=function(){re(ae,500,{})},fe.onprogress=function(){},ne?fe.send(V.data):o.set(function(){fe.send(V.data)},0)}function Y(V,ae,ne){var fe,me=V.urlString,Be=!1,Me=!1,we=(fe={body:V.data,method:Nw},fe[NB]=!0,fe);ne&&(we.keepalive=!0,V._sendReason===2&&(Be=!0,me+=rH)),N&&(we.credentials="include"),V.headers&&en(V.headers).length>0&&(we.headers=V.headers),fetch(me,we).then(function(qe){var _e={},G="";qe.headers&&qe.headers.forEach(function(oe,se){_e[se]=oe}),qe.body&&qe.text().then(function(oe){G=oe}),Me||(Me=!0,re(ae,qe.status,_e,G),an(G))}).catch(function(qe){Me||(Me=!0,re(ae,0,{}))}),Be&&!Me&&(Me=!0,re(ae,200,{})),!Me&&V.timeout>0&&o.set(function(){Me||(Me=!0,re(ae,500,{}))},V.timeout)}function ee(V,ae,ne){var fe=V.urlString;function me(qe,_e,G){if(!qe[G]&&_e&&_e.getResponseHeader){var oe=_e.getResponseHeader(G);oe&&(qe[G]=Nt(oe))}return qe}function Be(qe){var _e={};return qe.getAllResponseHeaders?_e=Xe(qe.getAllResponseHeaders()):(_e=me(_e,qe,PP),_e=me(_e,qe,xP),_e=me(_e,qe,$B)),_e}function Me(qe,_e){re(ae,qe.status,Be(qe),_e)}ne&&V.disableXhrSync&&(ne=!1);var we=Dw(Nw,fe,N,!0,ne,V.timeout);Ot(V.headers,function(qe,_e){we.setRequestHeader(qe,_e)}),we.onload=function(){var qe=nH(we);Me(we,qe),an(qe)},we.onerror=function(){Me(we)},we.ontimeout=function(){Me(we)},we.send(V.data)}function re(V,ae,ne,fe){try{V(ae,ne,fe)}catch(me){Yt(d.diagLog(),2,518,Bt(me))}}function j(V,ae,ne){var fe=V,me=200,Be=fe._thePayload,Me=V.urlString+rH;try{var we=Hn();if(!we.sendBeacon(Me,V.data))if(Be){var qe=[];Ce(Be.batches,function(_e){if(qe&&_e&&_e.count()>0){for(var G=_e.events(),oe=0;oe<G.length;oe++)if(!we.sendBeacon(Me,C.getEventBlob(G[oe]))){qe.push(_e.split(oe));break}}else qe.push(_e.split(0))}),ie(qe,8003,Be.sendType,!0)}else me=0}catch(_e){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+Bt(_e)),me=0}finally{re(ae,me,{},"")}}function F(V){return V===2||V===3}function D(V){return P&&F(V)&&(V=2),V}A.addQueryStringParameter=function(V,ae){for(var ne=0;ne<g.length;ne++)if(g[ne].name===V){g[ne].value=ae;return}g.push({name:V,value:ae})},A.addHeader=function(V,ae){v[V]=ae},A.canSendRequest=function(){return $()&&l.allowRequestSending()},A.sendQueuedRequests=function(V,ae){pt(V)&&(V=0),P&&(V=D(V),ae=2),X(y,V,0)&&ve(K(),0,!1,V,ae||0)},A.isCompletelyIdle=function(){return!c&&f===0&&y.length===0},A.setUnloading=function(V){P=V},A.addBatch=function(V){if(V&&V.count()>0){if(a.isTenantKilled(V.iKey()))return!1;y.push(V)}return!0},A.teardown=function(){y.length>0&&ve(K(),0,!0,2,2)},A.pause=function(){c=!0},A.resume=function(){c=!1,A.sendQueuedRequests(0,4)},A.sendSynchronousBatch=function(V,ae,ne){V&&V.count()>0&&(Ge(ae)&&(ae=1),P&&(ae=D(ae),ne=2),ve([V],0,!1,ae,ne||0))};function $(){return!c&&f<r}function K(){var V=y;return y=[],V}function X(V,ae,ne){var fe=!1;return V&&V.length>0&&!c&&p[ae]&&C&&(fe=ae!==0||$()&&(ne>0||l.allowRequestSending())),fe}function Q(V){var ae={};return V&&Ce(V,function(ne,fe){ae[fe]={iKey:ne.iKey(),evts:ne.events()}}),ae}function ve(V,ae,ne,fe,me){if(!(!V||V.length===0)){if(c){ie(V,1,fe);return}fe=D(fe);try{var Be=V,Me=fe!==0;Xt(h,function(){return"HttpManager:_sendBatches"},function(we){we&&(V=V.slice(0));for(var qe=[],_e=null,G=rn(),oe=p[fe]||(Me?p[1]:p[0]),se=(P||F(fe)||oe&&oe._transport===3)&&Se();X(V,fe,ae);){var de=V.shift();de&&de.count()>0&&(a.isTenantKilled(de.iKey())?qe.push(de):(_e=_e||C.createPayload(ae,ne,Me,se,me,fe),C.appendPayload(_e,de,e)?_e.overflow!==null&&(V=[_e.overflow].concat(V),_e.overflow=null,Ee(_e,G,rn(),me),G=rn(),_e=null):(Ee(_e,G,rn(),me),G=rn(),V=[de].concat(V),_e=null)))}_e&&Ee(_e,G,rn(),me),V.length>0&&(y=V.concat(y)),ie(qe,8004,fe)},function(){return{batches:Q(Be),retryCount:ae,isTeardown:ne,isSynchronous:Me,sendReason:me,useSendBeacon:F(fe),sendType:fe}},!Me)}catch(we){Yt(d.diagLog(),2,48,"Unexpected Exception sending batch: "+Bt(we))}}}function Te(V,ae){var ne={url:s,hdrs:{},useHdrs:!1};ae?(ne.hdrs=va(ne.hdrs,v),ne.useHdrs=en(ne.hdrs).length>0):Ot(v,function(we,qe){OP[we]?bf(ne,OP[we],qe,!1):(ne.hdrs[we]=qe,ne.useHdrs=!0)}),bf(ne,kP,"NO_AUTH",ae),bf(ne,Mw,vs,ae);var fe="";Ce(V.apiKeys,function(we){fe.length>0&&(fe+=","),fe+=we}),bf(ne,$w,fe,ae),bf(ne,jw,mr().toString(),ae);var me=Gn(V);if(cr(me)&&(ne.url+="&ext.intweb.msfpc="+me),l.shouldAddClockSkewHeaders()&&bf(ne,qw,l.getClockSkewHeaderValue(),ae),h.getWParam){var Be=h.getWParam();Be>=0&&(ne.url+="&w="+Be)}for(var Me=0;Me<g.length;Me++)ne.url+="&"+g[Me].name+"="+g[Me].value;return ne}function Se(){return!m&&u&&aa()}function Re(V,ae,ne){V[ae]=V[ae]||{},V[ae][d.identifier]=ne}function Ee(V,ae,ne,fe){if(V&&V.payloadBlob&&V.payloadBlob.length>0){var me=!!A.sendHook,Be=p[V.sendType];!F(V.sendType)&&V.isBeacon&&V.sendReason===2&&(Be=p[2]||p[3]||Be);var Me=S;(V.isBeacon||Be._transport===3)&&(Me=!1);var we=Te(V,Me);Me=Me||we.useHdrs;var qe=rn();Xt(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var _e=0;_e<V.batches.length;_e++)for(var G=V.batches[_e],oe=G.events(),se=0;se<oe.length;se++){var de=oe[se];if(b){var be=de.timings=de.timings||{};Re(be,"sendEventStart",qe),Re(be,"serializationStart",ae),Re(be,"serializationCompleted",ne)}de[DP]>0?de[DP]++:de[DP]=1}ie(V.batches,1e3+(fe||0),V.sendType,!0);var Ae={data:V.payloadBlob,urlString:we.url,headers:we.hdrs,_thePayload:V,_sendReason:fe,timeout:x};pt(T)||(Ae.disableXhrSync=!!T),Me&&(iH(Ae.headers,SP)||(Ae.headers[SP]=qB),iH(Ae.headers,Fw)||(Ae.headers[Fw]=_P));var nt=null;Be&&(nt=function(Ze){l.firstRequestSent();var ct=function(qt,ye){kt(qt,ye,V,fe)},Ue=V.isTeardown||V.isSync;try{Be.sendPOST(Ze,ct,Ue),A.sendListener&&A.sendListener(Ae,Ze,Ue,V.isBeacon)}catch(qt){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+Bt(qt)),re(ct,0,{})}}),Xt(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(nt)if(V.sendType===0&&f++,me&&!V.isBeacon&&Be._transport!==3){var Ze={data:Ae.data,urlString:Ae.urlString,headers:va({},Ae.headers),timeout:Ae.timeout,disableXhrSync:Ae.disableXhrSync},ct=!1;Xt(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{A.sendHook(Ze,function(Ue){ct=!0,!m&&!Ue._thePayload&&(Ue._thePayload=Ue._thePayload||Ae._thePayload,Ue._sendReason=Ue._sendReason||Ae._sendReason),nt(Ue)},V.isSync||V.isTeardown)}catch{ct||nt(Ae)}})}else nt(Ae)})},function(){return{thePayload:V,serializationStart:ae,serializationCompleted:ne,sendReason:fe}},V.isSync)}V.sizeExceed&&V.sizeExceed.length>0&&ie(V.sizeExceed,8003,V.sendType),V.failedEvts&&V.failedEvts.length>0&&ie(V.failedEvts,8002,V.sendType)}function _t(V,ae){b&&Ce(V,function(ne){var fe=ne.timings=ne.timings||{};Re(fe,"sendEventCompleted",ae)})}function kt(V,ae,ne,fe){var me=9e3,Be=null,Me=!1,we=!1;try{var qe=!0;if(typeof V!==sr){if(ae){l.setClockSkew(ae[PP]);var _e=ae[xP]||ae["kill-duration-seconds"];Ce(a.setKillSwitchTenants(ae[jB],_e),function(oe){Ce(ne.batches,function(se){if(se.iKey()===oe){Be=Be||[];var de=se.split(0);ne.numEvents-=de.count(),Be.push(de)}})})}if(V==200||V==204){me=200;return}(!QB(V)||ne.numEvents<=0)&&(qe=!1),me=9e3+V%1e3}if(qe){me=100;var G=ne.retryCnt;ne.sendType===0&&(G<n?(Me=!0,Fe(function(){ne.sendType===0&&f--,ve(ne.batches,G+1,ne.isTeardown,P?2:ne.sendType,5)},P,Hw(G))):(we=!0,P&&(me=8001)))}}finally{Me||(l.setClockSkew(),De(ne,me,fe,we)),ie(Be,8004,ne.sendType)}}function De(V,ae,ne,fe){try{fe&&d._backOffTransmission(),ae===200&&(!fe&&!V.isSync&&d._clearBackOff(),Ie(V.batches)),ie(V.batches,ae,V.sendType,!0)}finally{V.sendType===0&&(f--,ne!==5&&A.sendQueuedRequests(V.sendType,ne))}}function Ie(V){if(b){var ae=rn();Ce(V,function(ne){ne&&ne.count()>0&&_t(ne.events(),ae)})}}function Fe(V,ae,ne){ae?V():o.set(V,ne)}function Xe(V){var ae={};if(Wt(V)){var ne=Nt(V).split(/[\r\n]+/);Ce(ne,function(fe){if(fe){var me=fe.indexOf(": ");if(me!==-1){var Be=Nt(fe.substring(0,me)).toLowerCase(),Me=Nt(fe.substring(me+1));ae[Be]=Me}else ae[Nt(fe)]=1}})}return ae}function Gn(V){for(var ae=0;ae<V.batches.length;ae++){var ne=V.batches[ae].Msfpc();if(ne)return encodeURIComponent(ne)}return""}function an(V){var ae=A._responseHandlers;try{for(var ne=0;ne<ae.length;ne++)try{ae[ne](V)}catch(me){Yt(d.diagLog(),1,519,"Response handler failed: "+me)}if(V){var fe=JSON.parse(V);cr(fe.webResult)&&cr(fe.webResult[wf])&&_.set("MSFPC",fe.webResult[wf],365*86400)}}catch{}}function ie(V,ae,ne,fe){if(V&&V.length>0&&i){var me=i[Wn(ae)];if(me){var Be=ne!==0;Xt(h,function(){return"HttpManager:_sendBatchesNotification"},function(){Fe(function(){try{me.call(i,V,ae,Be,ne)}catch(Me){Yt(d.diagLog(),1,74,"send request notification failed: "+Me)}},fe||Be,0)},function(){return{batches:Q(V),reason:ae,isSync:Be,sendSync:fe,sendType:ne}},!Be)}}}function Wn(V){var ae=Rae[V];return cr(ae)||(ae=MB,V>=9e3&&V<=9999?ae=FB:V>=8e3&&V<=8999?ae=Lw:V>=1e3&&V<=1999&&(ae=LB)),ae}})}return t}()});function Oae(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout(t,e,r)}function Nae(t){clearTimeout(t)}function yh(t,e){return{set:t||Oae,clear:e||Nae}}var aH=je(()=>{});var Lae,cH,Fae,lH,uH,Mae,fH,qae,ll,Vw,dH,pH,jae,$ae,hH,mH=je(()=>{mn();Nr();ol();bP();TP();sH();AP();Uw();aH();Lae=.25,cH=500,Fae=20,lH=6,uH=2,Mae=4,fH=2,qae=1,ll="eventsDiscarded",Vw="overrideInstrumentationKey",dH="maxEventRetryAttempts",pH="maxUnloadEventRetryAttempts",jae="addUnloadCb",$ae=function(t){$i(e,t);function e(){var r=t.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var n,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,f=1e4,d={},p=sl,h=null,m=null,g=0,v=0,y,C,b={},_,P,S=-1,x,T=!0,A=!1,N=lH,q=uH,J,Y;return ft(e,r,function(ee,re){ve(),ee._getDbgPlgTargets=function(){return[C]},ee.initialize=function(G,oe,se){Xt(oe,function(){return"PostChannel:initialize"},function(){var de=oe;re.initialize(G,oe,se);try{var be=!!oe[jae];J=ds(zi(ee.identifier),oe.evtNamespace&&oe.evtNamespace());var Ae=ee._getTelCtx();G.extensionConfig[ee.identifier]=G.extensionConfig[ee.identifier]||{},n=Ae.getExtCfg(ee.identifier),Y=yh(n.setTimeoutOverride,n.clearTimeoutOverride),T=!n.disableOptimizeObj&&Aw(),j(de),n.eventsLimitInMem>0&&(f=n.eventsLimitInMem),n.immediateEventLimit>0&&(l=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(_=n.autoFlushEventsLimit),vn(n[dH])&&(N=n[dH]),vn(n[pH])&&(q=n[pH]),_e(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(y=n.httpXHROverride),cr(G.anonCookieName)&&C.addQueryStringParameter("anoncknm",G.anonCookieName),C.sendHook=n.payloadPreprocessor,C.sendListener=n.payloadListener;var nt=n.overrideEndpointUrl?n.overrideEndpointUrl:G.endpointUrl;ee._notificationManager=G.extensionConfig.NotificationManager,C.initialize(nt,ee.core,ee,y,n);var Ze=G.disablePageUnloadEvents||[];Zc(F,Ze,J),lf(F,Ze,J),uf(D,G.disablePageShowEvents,J)}catch(ct){throw ee.setInitialized(!1),ct}},function(){return{coreConfig:G,core:oe,extensions:se}})},ee.processTelemetry=function(G,oe){vf(G,ee.identifier),oe=ee._getTelCtx(oe);var se=oe.getExtCfg(ee.identifier),de=!!n.disableTelemetry;se&&(de=de||!!se.disableTelemetry);var be=G;!de&&!i&&(n[Vw]&&(be.iKey=n[Vw]),se&&se[Vw]&&(be.iKey=se[Vw]),$(be,!0),A?Re(2,2):Q()),ee.processNext(be,oe)},ee._doTeardown=function(G,oe){Re(2,2),i=!0,C.teardown(),eh(null,J),th(null,J),rh(null,J),ve()};function j(G){var oe=G.getWParam;G.getWParam=function(){var se=0;return n.ignoreMc1Ms0CookieProcessing&&(se=se|2),se|oe()}}function F(G){var oe=G||So().event;oe.type!=="beforeunload"&&(A=!0,C.setUnloading(A)),Re(2,2)}function D(G){A=!1,C.setUnloading(A)}function $(G,oe){if(G.sendAttempt||(G.sendAttempt=0),G.latency||(G.latency=1),G.ext&&G.ext.trace&&delete G.ext.trace,G.ext&&G.ext.user&&G.ext.user.id&&delete G.ext.user.id,T&&(G.ext=as(G.ext),G.baseData&&(G.baseData=as(G.baseData)),G.data&&(G.data=as(G.data))),G.sync){if(g||a)G.latency=3,G.sync=!1;else if(C){T&&(G=as(G)),C.sendSynchronousBatch(Cf.create(G.iKey,[G]),G.sync===!0?1:G.sync,3);return}}var se=G.latency,de=u,be=f;se===4&&(de=c,be=l);var Ae=!1;if(de<be)Ae=!De(G,oe);else{var nt=1,Ze=Fae;se===4&&(nt=4,Ze=1),Ae=!0,Ie(G.iKey,G.latency,nt,Ze)&&(Ae=!De(G,oe))}Ae&&ne(ll,[G],Bi.QueueFull)}ee.setEventQueueLimits=function(G,oe){f=G>0?G:1e4,_=oe>0?oe:0,_e();var se=u>G;if(!se&&P>0)for(var de=1;!se&&de<=3;de++){var be=b[de];be&&be.batches&&Ce(be.batches,function(Ae){Ae&&Ae.count()>=P&&(se=!0)})}kt(!0,se)},ee.pause=function(){Se(),a=!0,C.pause()},ee.resume=function(){a=!1,C.resume(),Q()},ee.addResponseHandler=function(G){C._responseHandlers.push(G)},ee._loadTransmitProfiles=function(G){ie(),Ot(G,function(oe,se){var de=se.length;if(de>=2){var be=de>2?se[2]:0;if(se.splice(0,de-2),se[1]<0&&(se[0]=-1),se[1]>0&&se[0]>0){var Ae=se[0]/se[1];se[0]=Math.ceil(Ae)*se[1]}be>=0&&se[1]>=0&&be>se[1]&&(be=se[1]),se.push(be),d[oe]=se}})},ee.flush=function(G,oe,se){if(G===void 0&&(G=!0),!a)if(se=se||1,G)s==null?(Se(),Xe(1,0,se),s=Te(function(){s=null,Gn(oe,se)},0)):o.push(oe);else{var de=Se();K(1,1,se),oe!=null&&oe(),de&&Q()}},ee.setMsaAuthTicket=function(G){C.addHeader(vh,G)},ee.hasEvents=X,ee._setTransmitProfile=function(G){p!==G&&d[G]!==void 0&&(Se(),p=G,Q())};function K(G,oe,se){var de=Xe(G,oe,se);return C.sendQueuedRequests(oe,se),de}function X(){return u>0}function Q(){if(S>=0&&Xe(S,0,x)&&C.sendQueuedRequests(0,x),c>0&&!m&&!a){var G=d[p][2];G>=0&&(m=Te(function(){m=null,K(4,0,1),Q()},G))}var oe=d[p][1];!h&&!s&&oe>=0&&!a&&(X()?h=Te(function(){h=null,K(v===0?3:1,0,1),v++,v%=2,Q()},oe):v=0)}ee._backOffTransmission=function(){g<Mae&&(g++,Se(),Q())},ee._clearBackOff=function(){g&&(g=0,Se(),Q())};function ve(){n=null,i=!1,o=[],s=null,a=!1,c=0,l=500,u=0,f=1e4,d={},p=sl,h=null,m=null,g=0,v=0,y=null,b={},_=void 0,P=0,S=-1,x=null,T=!0,A=!1,N=lH,q=uH,J=null,Y=yh(),C=new oH(cH,fH,qae,{requeue:V,send:me,sent:Be,drop:Me,rspFail:we,oth:qe},Y),Wn(),Ee(),_e()}function Te(G,oe){oe===0&&g&&(oe=1);var se=1e3;return g&&(se=Hw(g-1)),Y.set(G,oe*se)}function Se(){return h!==null?(Y.clear(h),h=null,v=0,!0):!1}function Re(G,oe){Se(),s&&(Y.clear(s),s=null),a||K(1,G,oe)}function Ee(){b[4]={batches:[],iKeyMap:{}},b[3]={batches:[],iKeyMap:{}},b[2]={batches:[],iKeyMap:{}},b[1]={batches:[],iKeyMap:{}}}function _t(G,oe,se){var de=b[oe];de||(oe=1,de=b[oe]);var be=de.iKeyMap[G];return!be&&se&&(be=Cf.create(G),de.batches.push(be),de.iKeyMap[G]=be),be}function kt(G,oe){C.canSendRequest()&&!g&&(_>0&&u>_&&(oe=!0),oe&&s==null&&ee.flush(G,null,20))}function De(G,oe){T&&(G=as(G));var se=G.latency,de=_t(G.iKey,se,!0);return de.addEvent(G)?(se!==4?(u++,oe&&G.sendAttempt===0&&kt(!G.sync,P>0&&de.count()>=P)):c++,!0):!1}function Ie(G,oe,se,de){for(;se<=oe;){var be=_t(G,oe,!0);if(be&&be.count()>0){var Ae=be.split(0,de),nt=Ae.count();if(nt>0)return se===4?c-=nt:u-=nt,fe(ll,[Ae],Bi.QueueFull),!0}se++}return Fe(),!1}function Fe(){for(var G=0,oe=0,se=function(be){var Ae=b[be];Ae&&Ae.batches&&Ce(Ae.batches,function(nt){be===4?G+=nt.count():oe+=nt.count()})},de=1;de<=4;de++)se(de);u=oe,c=G}function Xe(G,oe,se){var de=!1,be=oe===0;return!be||C.canSendRequest()?Xt(ee.core,function(){return"PostChannel._queueBatches"},function(){for(var Ae=[],nt=4;nt>=G;){var Ze=b[nt];Ze&&Ze.batches&&Ze.batches.length>0&&(Ce(Ze.batches,function(ct){C.addBatch(ct)?de=de||ct&&ct.count()>0:Ae=Ae.concat(ct.events()),nt===4?c-=ct.count():u-=ct.count()}),Ze.batches=[],Ze.iKeyMap={}),nt--}Ae.length>0&&ne(ll,Ae,Bi.KillSwitch),de&&S>=G&&(S=-1,x=0)},function(){return{latency:G,sendType:oe,sendReason:se}},!be):(S=S>=0?Math.min(S,G):G,x=Math.max(x,se)),de}function Gn(G,oe){K(1,0,oe),Fe(),an(function(){G&&G(),o.length>0?s=Te(function(){s=null,Gn(o.shift(),oe)},0):(s=null,Q())})}function an(G){C.isCompletelyIdle()?G():s=Te(function(){s=null,an(G)},Lae)}function ie(){Se(),Wn(),p=sl,Q()}function Wn(){d={},d[sl]=[2,1,0],d[Rw]=[6,3,0],d[Ow]=[18,9,0]}function V(G,oe){var se=[],de=N;A&&(de=q),Ce(G,function(be){be&&be.count()>0&&Ce(be.events(),function(Ae){Ae&&(Ae.sync&&(Ae.latency=4,Ae.sync=!1),Ae.sendAttempt<de?(vf(Ae,ee.identifier),$(Ae,!1)):se.push(Ae))})}),se.length>0&&ne(ll,se,Bi.NonRetryableStatus),A&&Re(2,2)}function ae(G,oe){var se=ee._notificationManager||{},de=se[G];if(de)try{de.apply(se,oe)}catch(be){Yt(ee.diagLog(),1,74,G+" notification failed: "+be)}}function ne(G,oe){for(var se=[],de=2;de<arguments.length;de++)se[de-2]=arguments[de];oe&&oe.length>0&&ae(G,[oe].concat(se))}function fe(G,oe){for(var se=[],de=2;de<arguments.length;de++)se[de-2]=arguments[de];oe&&oe.length>0&&Ce(oe,function(be){be&&be.count()>0&&ae(G,[be.events()].concat(se))})}function me(G,oe,se){G&&G.length>0&&ae("eventsSendRequest",[oe>=1e3&&oe<=1999?oe-1e3:0,se!==!0])}function Be(G,oe){fe("eventsSent",G,oe),Q()}function Me(G,oe){fe(ll,G,oe>=8e3&&oe<=8999?oe-8e3:Bi.Unknown)}function we(G){fe(ll,G,Bi.NonRetryableStatus),Q()}function qe(G,oe){fe(ll,G,Bi.Unknown),Q()}function _e(){!n||!n.disableAutoBatchFlushLimit?P=Math.max(cH*(fH+1),f/6):P=0}Bn(ee,"_setTimeoutOverride",function(){return Y.set},function(G){Y=yh(G,Y.clear)}),Bn(ee,"_clearTimeoutOverride",function(){return Y.clear},function(G){Y=yh(Y.set,G)})}),r}return e}(tl),hH=$ae});var gH={};rb(gH,{BE_PROFILE:()=>Ow,NRT_PROFILE:()=>Rw,PostChannel:()=>hH,RT_PROFILE:()=>sl});var vH=je(()=>{mH();bP()});var fV=I((_Le,uV)=>{var Uae=Object.create,wh=Object.defineProperty,Bae=Object.defineProperties,Hae=Object.getOwnPropertyDescriptor,Vae=Object.getOwnPropertyDescriptors,zae=Object.getOwnPropertyNames,yH=Object.getOwnPropertySymbols,Gae=Object.getPrototypeOf,wH=Object.prototype.hasOwnProperty,Wae=Object.prototype.propertyIsEnumerable,CH=(t,e,r)=>e in t?wh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ul=(t,e)=>{for(var r in e||(e={}))wH.call(e,r)&&CH(t,r,e[r]);if(yH)for(var r of yH(e))Wae.call(e,r)&&CH(t,r,e[r]);return t},Kae=(t,e)=>Bae(t,Vae(e)),L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Yae=(t,e)=>{for(var r in e)wh(t,r,{get:e[r],enumerable:!0})},bH=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zae(e))!wH.call(t,i)&&i!==r&&wh(t,i,{get:()=>e[i],enumerable:!(n=Hae(e,i))||n.enumerable});return t},zw=(t,e,r)=>(r=t!=null?Uae(Gae(t)):{},bH(e||!t||!t.__esModule?wh(r,"default",{value:t,enumerable:!0}):r,t)),Jae=t=>bH(wh({},"__esModule",{value:!0}),t),Lr=L((t,e)=>{"use strict";var r=function(){function n(){}return n.info=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.enableDebug&&console.info(n.TAG+i,o)},n.warn=function(i){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];n.disableWarnings||console.warn(n.TAG+i,o)},n.enableDebug=!1,n.disableWarnings=!1,n.disableErrors=!1,n.TAG="ApplicationInsights:",n}();e.exports=r}),EH=L(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScopeManager=t.OpenTelemetryScopeManagerWrapper=void 0;var r=_f(),n=require("events"),i=function(){function o(){}return o.prototype.active=function(){var s=this,a=r.CorrelationContextManager.getCurrentContext();return e(e({},a),{getValue:function(c){return s._activeSymbol?c===s._activeSymbol?a:!1:(s._activeSymbol=c,a)},setValue:function(){}})},o.prototype.with=function(s,a){var c=s.parentSpanId,l=s.name,u=o._spanToContext(s,c,l);return r.CorrelationContextManager.runWithContext(u,a)()},o.prototype.bind=function(s){return typeof s=="function"?r.CorrelationContextManager.wrapCallback(s):(s instanceof n.EventEmitter&&r.CorrelationContextManager.wrapEmitter(s),s)},o.prototype.enable=function(){return r.CorrelationContextManager.enable(),this},o.prototype.disable=function(){return r.CorrelationContextManager.disable(),this},o._spanToContext=function(s,a,c){var l=a?"|"+s.spanContext().traceId+"."+a+".":s.spanContext().traceId,u=e(e({},s.spanContext()),{traceFlags:s.spanContext().traceFlags}),f=r.CorrelationContextManager.spanToContextObject(u,l,c);return f},o}();t.OpenTelemetryScopeManagerWrapper=i,t.AsyncScopeManager=new i}),Qae=L((t,e)=>{t=e.exports=ie;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,_="v?"+a[d]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var T=c++;a[T]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var N=c++;a[N]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var q=c++;a[q]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[N]+"$";var Y=c++;a[Y]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var re=c++;a[re]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[re]+"\\s+",s[j]=new RegExp(a[j],"g");var F="$1~",D=c++;a[D]="^"+a[re]+a[N]+"$";var $=c++;a[$]="^"+a[re]+a[q]+"$";var K=c++;a[K]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[K]+"\\s+",s[X]=new RegExp(a[X],"g");var Q="$1^",ve=c++;a[ve]="^"+a[K]+a[N]+"$";var Te=c++;a[Te]="^"+a[K]+a[q]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Re=c++;a[Re]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[N]+")",s[Ee]=new RegExp(a[Ee],"g");var _t="$1$2$3",kt=c++;a[kt]="^\\s*("+a[N]+")\\s+-\\s+("+a[N]+")\\s*$";var De=c++;a[De]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var Ie=c++;for(a[Ie]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;t.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[b];if(!k.test(w))return null;try{return new ie(w,E)}catch{return null}}t.valid=Gn;function Gn(w,E){var k=Xe(w,E);return k?k.version:null}t.clean=an;function an(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}t.SemVer=ie;function ie(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ie))return new ie(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(O){if(/^[0-9]+$/.test(O)){var M=+O;if(M>=0&&M<i)return M}return O}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ie.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ie.prototype.toString=function(){return this.version},ie.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ie||(w=new ie(w,this.options)),this.compareMain(w)||this.comparePre(w)},ie.prototype.compareMain=function(w){return w instanceof ie||(w=new ie(w,this.options)),ne(this.major,w.major)||ne(this.minor,w.minor)||ne(this.patch,w.patch)},ie.prototype.comparePre=function(w){if(w instanceof ie||(w=new ie(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],O=w.prerelease[E];if(r("prerelease compare",E,k,O),k===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(k===void 0)return-1;if(k!==O)return ne(k,O)}while(++E)},ie.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},t.inc=Wn;function Wn(w,E,k,O){typeof k=="string"&&(O=k,k=void 0);try{return new ie(w,k).inc(E,O).version}catch{return null}}t.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),O=Xe(E),M="";if(k.prerelease.length||O.prerelease.length){M="pre";var U="prerelease"}for(var z in k)if((z==="major"||z==="minor"||z==="patch")&&k[z]!==O[z])return M+z;return U}t.compareIdentifiers=ne;var ae=/^[0-9]+$/;function ne(w,E){var k=ae.test(w),O=ae.test(E);return k&&O&&(w=+w,E=+E),w===E?0:k&&!O?-1:O&&!k?1:w<E?-1:1}t.rcompareIdentifiers=fe;function fe(w,E){return ne(E,w)}t.major=me;function me(w,E){return new ie(w,E).major}t.minor=Be;function Be(w,E){return new ie(w,E).minor}t.patch=Me;function Me(w,E){return new ie(w,E).patch}t.compare=we;function we(w,E,k){return new ie(w,k).compare(new ie(E,k))}t.compareLoose=qe;function qe(w,E){return we(w,E,!0)}t.rcompare=_e;function _e(w,E,k){return we(E,w,k)}t.sort=G;function G(w,E){return w.sort(function(k,O){return t.compare(k,O,E)})}t.rsort=oe;function oe(w,E){return w.sort(function(k,O){return t.rcompare(k,O,E)})}t.gt=se;function se(w,E,k){return we(w,E,k)>0}t.lt=de;function de(w,E,k){return we(w,E,k)<0}t.eq=be;function be(w,E,k){return we(w,E,k)===0}t.neq=Ae;function Ae(w,E,k){return we(w,E,k)!==0}t.gte=nt;function nt(w,E,k){return we(w,E,k)>=0}t.lte=Ze;function Ze(w,E,k){return we(w,E,k)<=0}t.cmp=ct;function ct(w,E,k,O){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,O);case"!=":return Ae(w,k,O);case">":return se(w,k,O);case">=":return nt(w,k,O);case"<":return de(w,k,O);case"<=":return Ze(w,k,O);default:throw new TypeError("Invalid operator: "+E)}}t.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===qt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var qt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Re],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ie(k[2],this.options.loose):this.semver=qt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===qt?!0:(typeof w=="string"&&(w=new ie(w,this.options)),ct(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),jr(w.semver,k,E);var O=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),M=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,z=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ct(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ct(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return O||M||U&&z||le||ce},t.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[De]:s[kt];w=w.replace(k,$a),r("hyphen replace",w),w=w.replace(s[Ee],_t),r("comparator trim",w,s[Ee]),w=w.replace(s[j],F),w=w.replace(s[X],Q),w=w.split(/\s+/).join(" ");var O=E?s[Se]:s[Re],M=w.split(" ").map(function(U){return Ii(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(M=M.filter(function(U){return!!U.match(O)})),M=M.map(function(U){return new Ue(U,this.options)},this),M},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(O){return w.set.some(function(M){return M.every(function(U){return O.intersects(U,E)})})})})},t.toComparators=xs;function xs(w,E){return new ye(w,E).set.map(function(k){return k.map(function(O){return O.value}).join(" ").trim().split(" ")})}function Ii(w,E){return r("comp",w,E),w=Fa(w,E),r("caret",w),w=Pn(w,E),r("tildes",w),w=qa(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function Pn(w,E){return w.trim().split(/\s+/).map(function(k){return La(k,E)}).join(" ")}function La(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(O,M,U,z,le){r("tilde",w,O,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0"):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Fa(w,E){return w.trim().split(/\s+/).map(function(k){return Ma(k,E)}).join(" ")}function Ma(w,E){r("caret",w,E);var k=E.loose?s[Te]:s[ve];return w.replace(k,function(O,M,U,z,le){r("caret",w,O,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?M==="0"?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+".0 <"+(+M+1)+".0.0":le?(r("replaceCaret pr",le),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+"-"+le+" <"+(+M+1)+".0.0"):(r("no pr"),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+" <"+(+M+1)+".0.0"),r("caret return",ce),ce})}function qa(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return ja(k,E)}).join(" ")}function ja(w,E){w=w.trim();var k=E.loose?s[Y]:s[J];return w.replace(k,function(O,M,U,z,le,ce){r("xRange",w,O,M,U,z,le,ce);var lt=He(U),et=lt||He(z),Ye=et||He(le),Ke=Ye;return M==="="&&Ke&&(M=""),lt?M===">"||M==="<"?O="<0.0.0":O="*":M&&Ke?(et&&(z=0),le=0,M===">"?(M=">=",et?(U=+U+1,z=0,le=0):(z=+z+1,le=0)):M==="<="&&(M="<",et?U=+U+1:z=+z+1),O=M+U+"."+z+"."+le):et?O=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(O=">="+U+"."+z+".0 <"+U+"."+(+z+1)+".0"),r("xRange return",O),O})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Ie],"")}function $a(w,E,k,O,M,U,z,le,ce,lt,et,Ye,Ke){return He(k)?E="":He(O)?E=">="+k+".0.0":He(M)?E=">="+k+"."+O+".0":E=">="+E,He(ce)?le="":He(lt)?le="<"+(+ce+1)+".0.0":He(et)?le="<"+ce+"."+(+lt+1)+".0":Ye?le="<="+ce+"."+lt+"."+et+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ie(w,this.options));for(var E=0;E<this.set.length;E++)if(Ua(this.set[E],w,this.options))return!0;return!1};function Ua(w,E,k){for(var O=0;O<w.length;O++)if(!w[O].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(O=0;O<w.length;O++)if(r(w[O].semver),w[O].semver!==qt&&w[O].semver.prerelease.length>0){var M=w[O].semver;if(M.major===E.major&&M.minor===E.minor&&M.patch===E.patch)return!0}return!1}return!0}t.satisfies=jr;function jr(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}t.maxSatisfying=Ba;function Ba(w,E,k){var O=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!O||M.compare(z)===-1)&&(O=z,M=new ie(O,k))}),O}t.minSatisfying=Ha;function Ha(w,E,k){var O=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!O||M.compare(z)===1)&&(O=z,M=new ie(O,k))}),O}t.minVersion=Kn;function Kn(w,E){w=new ye(w,E);var k=new ie("0.0.0");if(w.test(k)||(k=new ie("0.0.0-0"),w.test(k)))return k;k=null;for(var O=0;O<w.set.length;++O){var M=w.set[O];M.forEach(function(U){var z=new ie(U.semver.version);switch(U.operator){case">":z.prerelease.length===0?z.patch++:z.prerelease.push(0),z.raw=z.format();case"":case">=":(!k||se(k,z))&&(k=z);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}t.validRange=Va;function Va(w,E){try{return new ye(w,E).range||"*"}catch{return null}}t.ltr=za;function za(w,E,k){return kn(w,E,"<",k)}t.gtr=Ga;function Ga(w,E,k){return kn(w,E,">",k)}t.outside=kn;function kn(w,E,k,O){w=new ie(w,O),E=new ye(E,O);var M,U,z,le,ce;switch(k){case">":M=se,U=Ze,z=de,le=">",ce=">=";break;case"<":M=de,U=nt,z=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,O))return!1;for(var lt=0;lt<E.set.length;++lt){var et=E.set[lt],Ye=null,Ke=null;if(et.forEach(function(xt){xt.semver===qt&&(xt=new Ue(">=0.0.0")),Ye=Ye||xt,Ke=Ke||xt,M(xt.semver,Ye.semver,O)?Ye=xt:z(xt.semver,Ke.semver,O)&&(Ke=xt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&z(w,Ke.semver))return!1}return!0}t.prerelease=Wa;function Wa(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}t.intersects=Yn;function Yn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}t.coerce=Ka;function Ka(w){if(w instanceof ie)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),_H=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makePatchingRequire=void 0;var e=require("path"),r=Qae(),n=require("module"),i=Object.keys(process.binding("natives")),o=n.prototype.require;function s(a){var c={};return function(l){var u=o.apply(this,arguments);if(a[l]){var f=n._resolveFilename(l,this);if(c.hasOwnProperty(f))return c[f];var d=void 0;if(i.indexOf(l)<0)try{d=o.call(this,e.join(l,"package.json")).version}catch{return u}else d=process.version.substring(1);var p=d.indexOf("-");p>=0&&(d=d.substring(0,p));for(var h=u,m=0,g=a[l];m<g.length;m++){var v=g[m];r.satisfies(d,v.versionSpecifier)&&(h=v.patch(h,f))}return c[f]=h}return u}}t.makePatchingRequire=s}),Xae=L((t,e)=>{e.exports={name:"diagnostic-channel",version:"1.0.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}}),lr=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channel=t.makePatchingRequire=void 0;var e=_H(),r=_H();Object.defineProperty(t,"makePatchingRequire",{enumerable:!0,get:function(){return r.makePatchingRequire}});var n=function(s){return!0},i=function(){function s(){this.version=Xae().version,this.subscribers={},this.contextPreservationFunction=function(a){return a},this.knownPatches={},this.currentlyPublishing=!1}return s.prototype.shouldPublish=function(a){var c=this.subscribers[a];return c?c.some(function(l){var u=l.filter;return!u||u(!1)}):!1},s.prototype.publish=function(a,c){if(!this.currentlyPublishing){var l=this.subscribers[a];if(l){var u={timestamp:Date.now(),data:c};this.currentlyPublishing=!0,l.forEach(function(f){var d=f.listener,p=f.filter;try{p&&p(!0)&&d(u)}catch{}}),this.currentlyPublishing=!1}}},s.prototype.subscribe=function(a,c,l){l===void 0&&(l=n),this.subscribers[a]||(this.subscribers[a]=[]),this.subscribers[a].push({listener:c,filter:l})},s.prototype.unsubscribe=function(a,c,l){l===void 0&&(l=n);var u=this.subscribers[a];if(u){for(var f=0;f<u.length;++f)if(u[f].listener===c&&u[f].filter===l)return u.splice(f,1),!0}return!1},s.prototype.reset=function(){var a=this;this.subscribers={},this.contextPreservationFunction=function(c){return c},Object.getOwnPropertyNames(this.knownPatches).forEach(function(c){return delete a.knownPatches[c]})},s.prototype.bindToContext=function(a){return this.contextPreservationFunction(a)},s.prototype.addContextPreservation=function(a){var c=this.contextPreservationFunction;this.contextPreservationFunction=function(l){return a(c(l))}},s.prototype.registerMonkeyPatch=function(a,c){this.knownPatches[a]||(this.knownPatches[a]=[]),this.knownPatches[a].push(c)},s.prototype.getPatchesObject=function(){return this.knownPatches},s}();global.diagnosticsSource||(global.diagnosticsSource=new i,o=require("module"),o.prototype.require=e.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var o;t.channel=global.diagnosticsSource}),Zae=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),ece=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis=typeof globalThis=="object"?globalThis:global}),tce=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(ece(),t)}),rce=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(tce(),t)}),SH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.0.3"}),nce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;var e=SH(),r=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function n(i){var o=new Set([i]),s=new Set,a=i.match(r);if(!a)return function(){return!1};var c={major:+a[1],minor:+a[2],patch:+a[3],prerelease:a[4]};if(c.prerelease!=null)return function(f){return f===i};function l(f){return s.add(f),!1}function u(f){return o.add(f),!0}return function(f){if(o.has(f))return!0;if(s.has(f))return!1;var d=f.match(r);if(!d)return l(f);var p={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return p.prerelease!=null||c.major!==p.major?l(f):c.major===0?c.minor===p.minor&&c.patch<=p.patch?u(f):l(f):c.minor<=p.minor?u(f):l(f)}}t._makeCompatibilityCheck=n,t.isCompatible=n(e.VERSION)}),Ch=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;var e=rce(),r=SH(),n=nce(),i=r.VERSION.split(".")[0],o=Symbol.for("opentelemetry.js.api."+i),s=e._globalThis;function a(u,f,d,p){var h;p===void 0&&(p=!1);var m=s[o]=(h=s[o])!==null&&h!==void 0?h:{version:r.VERSION};if(!p&&m[u]){var g=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+u);return d.error(g.stack||g.message),!1}if(m.version!==r.VERSION){var g=new Error("@opentelemetry/api: All API registration versions must match");return d.error(g.stack||g.message),!1}return m[u]=f,d.debug("@opentelemetry/api: Registered a global for "+u+" v"+r.VERSION+"."),!0}t.registerGlobal=a;function c(u){var f,d,p=(f=s[o])===null||f===void 0?void 0:f.version;if(!(!p||!n.isCompatible(p)))return(d=s[o])===null||d===void 0?void 0:d[u]}t.getGlobal=c;function l(u,f){f.debug("@opentelemetry/api: Unregistering a global for "+u+" v"+r.VERSION+".");var d=s[o];d&&delete d[u]}t.unregisterGlobal=l}),ice=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;var e=Ch(),r=function(){function i(o){this._namespace=o.namespace||"DiagComponentLogger"}return i.prototype.debug=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("debug",this._namespace,o)},i.prototype.error=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("error",this._namespace,o)},i.prototype.info=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("info",this._namespace,o)},i.prototype.warn=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("warn",this._namespace,o)},i.prototype.verbose=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return n("verbose",this._namespace,o)},i}();t.DiagComponentLogger=r;function n(i,o,s){var a=e.getGlobal("diag");if(a)return s.unshift(o),a[i].apply(a,s)}}),NP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.ERROR=30]="ERROR",r[r.WARN=50]="WARN",r[r.INFO=60]="INFO",r[r.DEBUG=70]="DEBUG",r[r.VERBOSE=80]="VERBOSE",r[r.ALL=9999]="ALL"})(e=t.DiagLogLevel||(t.DiagLogLevel={}))}),oce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;var e=NP();function r(n,i){n<e.DiagLogLevel.NONE?n=e.DiagLogLevel.NONE:n>e.DiagLogLevel.ALL&&(n=e.DiagLogLevel.ALL),i=i||{};function o(s,a){var c=i[s];return typeof c=="function"&&n>=a?c.bind(i):function(){}}return{error:o("error",e.DiagLogLevel.ERROR),warn:o("warn",e.DiagLogLevel.WARN),info:o("info",e.DiagLogLevel.INFO),debug:o("debug",e.DiagLogLevel.DEBUG),verbose:o("verbose",e.DiagLogLevel.VERBOSE)}}t.createLogLevelDiagLogger=r}),bh=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;var e=ice(),r=oce(),n=NP(),i=Ch(),o="diag",s=function(){function a(){function c(u){return function(){var f=i.getGlobal("diag");if(f)return f[u].apply(f,arguments)}}var l=this;l.setLogger=function(u,f){var d,p;if(f===void 0&&(f=n.DiagLogLevel.INFO),u===l){var h=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return l.error((d=h.stack)!==null&&d!==void 0?d:h.message),!1}var m=i.getGlobal("diag"),g=r.createLogLevelDiagLogger(f,u);if(m){var v=(p=new Error().stack)!==null&&p!==void 0?p:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return i.registerGlobal("diag",g,l,!0)},l.disable=function(){i.unregisterGlobal(o,l)},l.createComponentLogger=function(u){return new e.DiagComponentLogger(u)},l.verbose=c("verbose"),l.debug=c("debug"),l.info=c("info"),l.warn=c("warn"),l.error=c("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}();t.DiagAPI=s}),sce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;var e=function(){function r(n){this._entries=n?new Map(n):new Map}return r.prototype.getEntry=function(n){var i=this._entries.get(n);if(i)return Object.assign({},i)},r.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(n){var i=n[0],o=n[1];return[i,o]})},r.prototype.setEntry=function(n,i){var o=new r(this._entries);return o._entries.set(n,i),o},r.prototype.removeEntry=function(n){var i=new r(this._entries);return i._entries.delete(n),i},r.prototype.removeEntries=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=new r(this._entries),s=0,a=n;s<a.length;s++){var c=a[s];o._entries.delete(c)}return o},r.prototype.clear=function(){return new r},r}();t.BaggageImpl=e}),ace=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")}),xH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;var e=bh(),r=sce(),n=ace(),i=e.DiagAPI.instance();function o(a){return a===void 0&&(a={}),new r.BaggageImpl(new Map(Object.entries(a)))}t.createBaggage=o;function s(a){return typeof a!="string"&&(i.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:n.baggageEntryMetadataSymbol,toString:function(){return a}}}t.baggageEntryMetadataFromString=s}),cce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),lce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),uce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;var e=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],r=function(){function n(){function i(s){return function(){var a=arguments;if(console){var c=console[s];if(typeof c!="function"&&(c=console.log),typeof c=="function")return c.apply(console,a)}}}for(var o=0;o<e.length;o++)this[e[o].n]=i(e[o].c)}return n}();t.DiagConsoleLogger=r}),fce=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(uce(),t),r(NP(),t)}),PH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get:function(e,r){if(e!=null)return e[r]},keys:function(e){return e==null?[]:Object.keys(e)}},t.defaultTextMapSetter={set:function(e,r,n){e!=null&&(e[r]=n)}}}),dce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),pce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Gw=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0;function e(n){return Symbol.for(n)}t.createContextKey=e;var r=function(){function n(i){var o=this;o._currentContext=i?new Map(i):new Map,o.getValue=function(s){return o._currentContext.get(s)},o.setValue=function(s,a){var c=new n(o._currentContext);return c._currentContext.set(s,a),c},o.deleteValue=function(s){var a=new n(o._currentContext);return a._currentContext.delete(s),a}}return n}();t.ROOT_CONTEXT=new r}),hce=L(t=>{"use strict";var e=t&&t.__spreadArray||function(i,o){for(var s=0,a=o.length,c=i.length;s<a;s++,c++)i[c]=o[s];return i};Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;var r=Gw(),n=function(){function i(){}return i.prototype.active=function(){return r.ROOT_CONTEXT},i.prototype.with=function(o,s,a){for(var c=[],l=3;l<arguments.length;l++)c[l-3]=arguments[l];return s.call.apply(s,e([a],c))},i.prototype.bind=function(o,s){return s},i.prototype.enable=function(){return this},i.prototype.disable=function(){return this},i}();t.NoopContextManager=n}),kH=L(t=>{"use strict";var e=t&&t.__spreadArray||function(c,l){for(var u=0,f=l.length,d=c.length;u<f;u++,d++)c[d]=l[u];return c};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;var r=hce(),n=Ch(),i=bh(),o="context",s=new r.NoopContextManager,a=function(){function c(){}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalContextManager=function(l){return n.registerGlobal(o,l,i.DiagAPI.instance())},c.prototype.active=function(){return this._getContextManager().active()},c.prototype.with=function(l,u,f){for(var d,p=[],h=3;h<arguments.length;h++)p[h-3]=arguments[h];return(d=this._getContextManager()).with.apply(d,e([l,u,f],p))},c.prototype.bind=function(l,u){return this._getContextManager().bind(l,u)},c.prototype._getContextManager=function(){return n.getGlobal(o)||s},c.prototype.disable=function(){this._getContextManager().disable(),n.unregisterGlobal(o,i.DiagAPI.instance())},c}();t.ContextAPI=a}),IH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0;var e;(function(r){r[r.NONE=0]="NONE",r[r.SAMPLED=1]="SAMPLED"})(e=t.TraceFlags||(t.TraceFlags={}))}),LP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;var e=IH();t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:e.TraceFlags.NONE}}),FP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;var e=LP(),r=function(){function n(i){i===void 0&&(i=e.INVALID_SPAN_CONTEXT),this._spanContext=i}return n.prototype.spanContext=function(){return this._spanContext},n.prototype.setAttribute=function(i,o){return this},n.prototype.setAttributes=function(i){return this},n.prototype.addEvent=function(i,o){return this},n.prototype.setStatus=function(i){return this},n.prototype.updateName=function(i){return this},n.prototype.end=function(i){},n.prototype.isRecording=function(){return!1},n.prototype.recordException=function(i,o){},n}();t.NonRecordingSpan=r}),TH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getSpan=void 0;var e=Gw(),r=FP(),n=e.createContextKey("OpenTelemetry Context Key SPAN");function i(l){return l.getValue(n)||void 0}t.getSpan=i;function o(l,u){return l.setValue(n,u)}t.setSpan=o;function s(l){return l.deleteValue(n)}t.deleteSpan=s;function a(l,u){return o(l,new r.NonRecordingSpan(u))}t.setSpanContext=a;function c(l){var u;return(u=i(l))===null||u===void 0?void 0:u.spanContext()}t.getSpanContext=c}),MP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;var e=LP(),r=FP(),n=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function o(l){return n.test(l)&&l!==e.INVALID_TRACEID}t.isValidTraceId=o;function s(l){return i.test(l)&&l!==e.INVALID_SPANID}t.isValidSpanId=s;function a(l){return o(l.traceId)&&s(l.spanId)}t.isSpanContextValid=a;function c(l){return new r.NonRecordingSpan(l)}t.wrapSpanContext=c}),AH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;var e=kH(),r=TH(),n=FP(),i=MP(),o=e.ContextAPI.getInstance(),s=function(){function c(){}return c.prototype.startSpan=function(l,u,f){var d=Boolean(u==null?void 0:u.root);if(d)return new n.NonRecordingSpan;var p=f&&r.getSpanContext(f);return a(p)&&i.isSpanContextValid(p)?new n.NonRecordingSpan(p):new n.NonRecordingSpan},c.prototype.startActiveSpan=function(l,u,f,d){var p,h,m;if(!(arguments.length<2)){arguments.length===2?m=u:arguments.length===3?(p=u,m=f):(p=u,h=f,m=d);var g=h!=null?h:o.active(),v=this.startSpan(l,p,g),y=r.setSpan(g,v);return o.with(y,m,void 0,v)}},c}();t.NoopTracer=s;function a(c){return typeof c=="object"&&typeof c.spanId=="string"&&typeof c.traceId=="string"&&typeof c.traceFlags=="number"}}),DH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;var e=AH(),r=new e.NoopTracer,n=function(){function i(o,s,a){this._provider=o,this.name=s,this.version=a}return i.prototype.startSpan=function(o,s,a){return this._getTracer().startSpan(o,s,a)},i.prototype.startActiveSpan=function(o,s,a,c){var l=this._getTracer();return Reflect.apply(l.startActiveSpan,l,arguments)},i.prototype._getTracer=function(){if(this._delegate)return this._delegate;var o=this._provider.getDelegateTracer(this.name,this.version);return o?(this._delegate=o,this._delegate):r},i}();t.ProxyTracer=n}),mce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;var e=AH(),r=function(){function n(){}return n.prototype.getTracer=function(i,o){return new e.NoopTracer},n}();t.NoopTracerProvider=r}),RH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;var e=DH(),r=mce(),n=new r.NoopTracerProvider,i=function(){function o(){}return o.prototype.getTracer=function(s,a){var c;return(c=this.getDelegateTracer(s,a))!==null&&c!==void 0?c:new e.ProxyTracer(this,s,a)},o.prototype.getDelegate=function(){var s;return(s=this._delegate)!==null&&s!==void 0?s:n},o.prototype.setDelegate=function(s){this._delegate=s},o.prototype.getDelegateTracer=function(s,a){var c;return(c=this._delegate)===null||c===void 0?void 0:c.getTracer(s,a)},o}();t.ProxyTracerProvider=i}),gce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0;var e;(function(r){r[r.NOT_RECORD=0]="NOT_RECORD",r[r.RECORD=1]="RECORD",r[r.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(e=t.SamplingDecision||(t.SamplingDecision={}))}),yce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),wce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0;var e;(function(r){r[r.INTERNAL=0]="INTERNAL",r[r.SERVER=1]="SERVER",r[r.CLIENT=2]="CLIENT",r[r.PRODUCER=3]="PRODUCER",r[r.CONSUMER=4]="CONSUMER"})(e=t.SpanKind||(t.SpanKind={}))}),Cce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),bce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Ece=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0;var e;(function(r){r[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR"})(e=t.SpanStatusCode||(t.SpanStatusCode={}))}),_ce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Sce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),xce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Pce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),kce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;var e=Ch(),r=RH(),n=MP(),i=TH(),o=bh(),s="trace",a=function(){function c(){this._proxyTracerProvider=new r.ProxyTracerProvider,this.wrapSpanContext=n.wrapSpanContext,this.isSpanContextValid=n.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}return c.getInstance=function(){return this._instance||(this._instance=new c),this._instance},c.prototype.setGlobalTracerProvider=function(l){var u=e.registerGlobal(s,this._proxyTracerProvider,o.DiagAPI.instance());return u&&this._proxyTracerProvider.setDelegate(l),u},c.prototype.getTracerProvider=function(){return e.getGlobal(s)||this._proxyTracerProvider},c.prototype.getTracer=function(l,u){return this.getTracerProvider().getTracer(l,u)},c.prototype.disable=function(){e.unregisterGlobal(s,o.DiagAPI.instance()),this._proxyTracerProvider=new r.ProxyTracerProvider},c}();t.TraceAPI=a}),Ice=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;var e=function(){function r(){}return r.prototype.inject=function(n,i){},r.prototype.extract=function(n,i){return n},r.prototype.fields=function(){return[]},r}();t.NoopTextMapPropagator=e}),Tce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getBaggage=void 0;var e=Gw(),r=e.createContextKey("OpenTelemetry Baggage Key");function n(s){return s.getValue(r)||void 0}t.getBaggage=n;function i(s,a){return s.setValue(r,a)}t.setBaggage=i;function o(s){return s.deleteValue(r)}t.deleteBaggage=o}),Ace=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;var e=Ch(),r=Ice(),n=PH(),i=Tce(),o=xH(),s=bh(),a="propagation",c=new r.NoopTextMapPropagator,l=function(){function u(){this.createBaggage=o.createBaggage,this.getBaggage=i.getBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}return u.getInstance=function(){return this._instance||(this._instance=new u),this._instance},u.prototype.setGlobalPropagator=function(f){return e.registerGlobal(a,f,s.DiagAPI.instance())},u.prototype.inject=function(f,d,p){return p===void 0&&(p=n.defaultTextMapSetter),this._getGlobalPropagator().inject(f,d,p)},u.prototype.extract=function(f,d,p){return p===void 0&&(p=n.defaultTextMapGetter),this._getGlobalPropagator().extract(f,d,p)},u.prototype.fields=function(){return this._getGlobalPropagator().fields()},u.prototype.disable=function(){e.unregisterGlobal(a,s.DiagAPI.instance())},u.prototype._getGlobalPropagator=function(){return e.getGlobal(a)||c},u}();t.PropagationAPI=l}),Ht=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(u,f,d,p){p===void 0&&(p=d),Object.defineProperty(u,p,{enumerable:!0,get:function(){return f[d]}})}:function(u,f,d,p){p===void 0&&(p=d),u[p]=f[d]}),r=t&&t.__exportStar||function(u,f){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(f,d)&&e(f,u,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.diag=t.propagation=t.trace=t.context=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.isValidSpanId=t.isValidTraceId=t.isSpanContextValid=t.baggageEntryMetadataFromString=void 0,r(Zae(),t);var n=xH();Object.defineProperty(t,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return n.baggageEntryMetadataFromString}}),r(cce(),t),r(lce(),t),r(fce(),t),r(PH(),t),r(dce(),t),r(pce(),t),r(DH(),t),r(RH(),t),r(gce(),t),r(vce(),t),r(yce(),t),r(wce(),t),r(Cce(),t),r(bce(),t),r(Ece(),t),r(IH(),t),r(_ce(),t),r(Sce(),t),r(xce(),t);var i=MP();Object.defineProperty(t,"isSpanContextValid",{enumerable:!0,get:function(){return i.isSpanContextValid}}),Object.defineProperty(t,"isValidTraceId",{enumerable:!0,get:function(){return i.isValidTraceId}}),Object.defineProperty(t,"isValidSpanId",{enumerable:!0,get:function(){return i.isValidSpanId}});var o=LP();Object.defineProperty(t,"INVALID_SPANID",{enumerable:!0,get:function(){return o.INVALID_SPANID}}),Object.defineProperty(t,"INVALID_TRACEID",{enumerable:!0,get:function(){return o.INVALID_TRACEID}}),Object.defineProperty(t,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return o.INVALID_SPAN_CONTEXT}}),r(Gw(),t),r(Pce(),t);var s=kH();t.context=s.ContextAPI.getInstance();var a=kce();t.trace=a.TraceAPI.getInstance();var c=Ace();t.propagation=c.PropagationAPI.getInstance();var l=bh();t.diag=l.DiagAPI.instance(),t.default={trace:t.trace,context:t.context,propagation:t.propagation,diag:t.diag}}),qP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingSuppressed=t.unsuppressTracing=t.suppressTracing=void 0;var e=Ht(),r=e.createContextKey("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function n(s){return s.setValue(r,!0)}t.suppressTracing=n;function i(s){return s.deleteValue(r)}t.unsuppressTracing=i;function o(s){return s.getValue(r)===!0}t.isTracingSuppressed=o}),OH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BAGGAGE_MAX_TOTAL_LENGTH=t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=t.BAGGAGE_MAX_NAME_VALUE_PAIRS=t.BAGGAGE_HEADER=t.BAGGAGE_ITEMS_SEPARATOR=t.BAGGAGE_PROPERTIES_SEPARATOR=t.BAGGAGE_KEY_PAIR_SEPARATOR=void 0,t.BAGGAGE_KEY_PAIR_SEPARATOR="=",t.BAGGAGE_PROPERTIES_SEPARATOR=";",t.BAGGAGE_ITEMS_SEPARATOR=",",t.BAGGAGE_HEADER="baggage",t.BAGGAGE_MAX_NAME_VALUE_PAIRS=180,t.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096,t.BAGGAGE_MAX_TOTAL_LENGTH=8192}),NH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKeyPairsIntoRecord=t.parsePairKeyValue=t.getKeyPairs=t.serializeKeyPairs=void 0;var e=Ht(),r=OH(),n=a=>a.reduce((c,l)=>{let u=`${c}${c!==""?r.BAGGAGE_ITEMS_SEPARATOR:""}${l}`;return u.length>r.BAGGAGE_MAX_TOTAL_LENGTH?c:u},"");t.serializeKeyPairs=n;var i=a=>a.getAllEntries().map(([c,l])=>`${encodeURIComponent(c)}=${encodeURIComponent(l.value)}`);t.getKeyPairs=i;var o=a=>{let c=a.split(r.BAGGAGE_PROPERTIES_SEPARATOR);if(c.length<=0)return;let l=c.shift();if(!l)return;let u=l.split(r.BAGGAGE_KEY_PAIR_SEPARATOR);if(u.length!==2)return;let f=decodeURIComponent(u[0].trim()),d=decodeURIComponent(u[1].trim()),p;return c.length>0&&(p=e.baggageEntryMetadataFromString(c.join(r.BAGGAGE_PROPERTIES_SEPARATOR))),{key:f,value:d,metadata:p}};t.parsePairKeyValue=o;var s=a=>typeof a!="string"||a.length===0?{}:a.split(r.BAGGAGE_ITEMS_SEPARATOR).map(c=>t.parsePairKeyValue(c)).filter(c=>c!==void 0&&c.value.length>0).reduce((c,l)=>(c[l.key]=l.value,c),{});t.parseKeyPairsIntoRecord=s}),Dce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpBaggagePropagator=void 0;var e=Ht(),r=qP(),n=OH(),i=NH(),o=class{inject(s,a,c){let l=e.propagation.getBaggage(s);if(!l||r.isTracingSuppressed(s))return;let u=i.getKeyPairs(l).filter(d=>d.length<=n.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,n.BAGGAGE_MAX_NAME_VALUE_PAIRS),f=i.serializeKeyPairs(u);f.length>0&&c.set(a,n.BAGGAGE_HEADER,f)}extract(s,a,c){let l=c.get(a,n.BAGGAGE_HEADER);if(!l)return s;let u={};return l.length===0||(l.split(n.BAGGAGE_ITEMS_SEPARATOR).forEach(f=>{let d=i.parsePairKeyValue(f);if(d){let p={value:d.value};d.metadata&&(p.metadata=d.metadata),u[d.key]=p}}),Object.entries(u).length===0)?s:e.propagation.setBaggage(s,e.propagation.createBaggage(u))}fields(){return[n.BAGGAGE_HEADER]}};t.HttpBaggagePropagator=o}),Rce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAttributeValue=t.sanitizeAttributes=void 0;function e(o){let s={};if(o==null||typeof o!="object")return s;for(let[a,c]of Object.entries(o))r(c)&&(Array.isArray(c)?s[a]=c.slice():s[a]=c);return s}t.sanitizeAttributes=e;function r(o){return o==null?!0:Array.isArray(o)?n(o):i(o)}t.isAttributeValue=r;function n(o){let s;for(let a of o)if(a!=null){if(!s){if(i(a)){s=typeof a;continue}return!1}if(typeof a!==s)return!1}return!0}function i(o){switch(typeof o){case"number":return!0;case"boolean":return!0;case"string":return!0}return!1}}),LH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loggingErrorHandler=void 0;var e=Ht();function r(){return o=>{e.diag.error(n(o))}}t.loggingErrorHandler=r;function n(o){return typeof o=="string"?o:JSON.stringify(i(o))}function i(o){let s={},a=o;for(;a!==null;)Object.getOwnPropertyNames(a).forEach(c=>{if(s[c])return;let l=a[c];l&&(s[c]=String(l))}),a=Object.getPrototypeOf(a);return s}}),FH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalErrorHandler=t.setGlobalErrorHandler=void 0;var e=LH(),r=e.loggingErrorHandler();function n(o){r=o}t.setGlobalErrorHandler=n;var i=o=>{try{r(o)}catch{}};t.globalErrorHandler=i}),MH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TracesSamplerValues=void 0;var e;(function(r){r.AlwaysOff="always_off",r.AlwaysOn="always_on",r.ParentBasedAlwaysOff="parentbased_always_off",r.ParentBasedAlwaysOn="parentbased_always_on",r.ParentBasedTraceIdRatio="parentbased_traceidratio",r.TraceIdRatio="traceidratio"})(e=t.TracesSamplerValues||(t.TracesSamplerValues={}))}),qH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnvironment=t.DEFAULT_ENVIRONMENT=void 0;var e=Ht(),r=MH(),n=",",i=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT"];function o(p){return i.indexOf(p)>-1}var s=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function a(p){return s.indexOf(p)>-1}t.DEFAULT_ENVIRONMENT={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:e.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:128,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"none",OTEL_TRACES_SAMPLER:r.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:""};function c(p,h,m,g=-1/0,v=1/0){if(typeof m[p]<"u"){let y=Number(m[p]);isNaN(y)||(y<g?h[p]=g:y>v?h[p]=v:h[p]=y)}}function l(p,h,m,g=n){let v=m[p];typeof v=="string"&&(h[p]=v.split(g).map(y=>y.trim()))}var u={ALL:e.DiagLogLevel.ALL,VERBOSE:e.DiagLogLevel.VERBOSE,DEBUG:e.DiagLogLevel.DEBUG,INFO:e.DiagLogLevel.INFO,WARN:e.DiagLogLevel.WARN,ERROR:e.DiagLogLevel.ERROR,NONE:e.DiagLogLevel.NONE};function f(p,h,m){let g=m[p];if(typeof g=="string"){let v=u[g.toUpperCase()];v!=null&&(h[p]=v)}}function d(p){let h={};for(let m in t.DEFAULT_ENVIRONMENT){let g=m;switch(g){case"OTEL_LOG_LEVEL":f(g,h,p);break;default:if(o(g))c(g,h,p);else if(a(g))l(g,h,p);else{let v=p[g];typeof v<"u"&&v!==null&&(h[g]=String(v))}}}return h}t.parseEnvironment=d}),Oce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEnv=void 0;var e=require("os"),r=qH();function n(){let i=r.parseEnvironment(process.env);return Object.assign({HOSTNAME:e.hostname()},r.DEFAULT_ENVIRONMENT,i)}t.getEnv=n}),Nce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToBase64=void 0;function e(r){let n=r.length,i="";for(let o=0;o<n;o+=2){let s=r.substring(o,o+2),a=parseInt(s,16);i+=String.fromCharCode(a)}return Buffer.from(i,"ascii").toString("base64")}t.hexToBase64=e}),Lce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RandomIdGenerator=void 0;var e=8,r=16,n=class{constructor(){this.generateTraceId=o(r),this.generateSpanId=o(e)}};t.RandomIdGenerator=n;var i=Buffer.allocUnsafe(r);function o(s){return function(){for(let a=0;a<s/4;a++)i.writeUInt32BE(Math.random()*2**32>>>0,a*4);for(let a=0;a<s&&!(i[a]>0);a++)a===s-1&&(i[s-1]=1);return i.toString("hex",0,s)}}}),Fce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.otperformance=void 0;var e=require("perf_hooks");t.otperformance=e.performance}),jP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="0.23.0"}),Mce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RpcGrpcStatusCodeValues=t.MessagingOperationValues=t.MessagingDestinationKindValues=t.HttpFlavorValues=t.NetTransportValues=t.FaasInvokedProviderValues=t.FaasDocumentOperationValues=t.FaasTriggerValues=t.DbCassandraConsistencyLevelValues=t.DbSystemValues=t.SemanticAttributes=void 0,t.SemanticAttributes={DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_METHOD:"rpc.jsonrpc.method",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message"};var e;(function(f){f.OTHER_SQL="other_sql",f.MSSQL="mssql",f.MYSQL="mysql",f.ORACLE="oracle",f.DB2="db2",f.POSTGRESQL="postgresql",f.REDSHIFT="redshift",f.HIVE="hive",f.CLOUDSCAPE="cloudscape",f.HSQLDB="hsqldb",f.PROGRESS="progress",f.MAXDB="maxdb",f.HANADB="hanadb",f.INGRES="ingres",f.FIRSTSQL="firstsql",f.EDB="edb",f.CACHE="cache",f.ADABAS="adabas",f.FIREBIRD="firebird",f.DERBY="derby",f.FILEMAKER="filemaker",f.INFORMIX="informix",f.INSTANTDB="instantdb",f.INTERBASE="interbase",f.MARIADB="mariadb",f.NETEZZA="netezza",f.PERVASIVE="pervasive",f.POINTBASE="pointbase",f.SQLITE="sqlite",f.SYBASE="sybase",f.TERADATA="teradata",f.VERTICA="vertica",f.H2="h2",f.COLDFUSION="coldfusion",f.CASSANDRA="cassandra",f.HBASE="hbase",f.MONGODB="mongodb",f.REDIS="redis",f.COUCHBASE="couchbase",f.COUCHDB="couchdb",f.COSMOSDB="cosmosdb",f.DYNAMODB="dynamodb",f.NEO4J="neo4j",f.GEODE="geode",f.ELASTICSEARCH="elasticsearch",f.MEMCACHED="memcached",f.COCKROACHDB="cockroachdb"})(e=t.DbSystemValues||(t.DbSystemValues={}));var r;(function(f){f.ALL="all",f.EACH_QUORUM="each_quorum",f.QUORUM="quorum",f.LOCAL_QUORUM="local_quorum",f.ONE="one",f.TWO="two",f.THREE="three",f.LOCAL_ONE="local_one",f.ANY="any",f.SERIAL="serial",f.LOCAL_SERIAL="local_serial"})(r=t.DbCassandraConsistencyLevelValues||(t.DbCassandraConsistencyLevelValues={}));var n;(function(f){f.DATASOURCE="datasource",f.HTTP="http",f.PUBSUB="pubsub",f.TIMER="timer",f.OTHER="other"})(n=t.FaasTriggerValues||(t.FaasTriggerValues={}));var i;(function(f){f.INSERT="insert",f.EDIT="edit",f.DELETE="delete"})(i=t.FaasDocumentOperationValues||(t.FaasDocumentOperationValues={}));var o;(function(f){f.AWS="aws",f.AZURE="azure",f.GCP="gcp"})(o=t.FaasInvokedProviderValues||(t.FaasInvokedProviderValues={}));var s;(function(f){f.IP_TCP="ip_tcp",f.IP_UDP="ip_udp",f.IP="ip",f.UNIX="unix",f.PIPE="pipe",f.INPROC="inproc",f.OTHER="other"})(s=t.NetTransportValues||(t.NetTransportValues={}));var a;(function(f){f.HTTP_1_0="1.0",f.HTTP_1_1="1.1",f.HTTP_2_0="2.0",f.SPDY="SPDY",f.QUIC="QUIC"})(a=t.HttpFlavorValues||(t.HttpFlavorValues={}));var c;(function(f){f.QUEUE="queue",f.TOPIC="topic"})(c=t.MessagingDestinationKindValues||(t.MessagingDestinationKindValues={}));var l;(function(f){f.RECEIVE="receive",f.PROCESS="process"})(l=t.MessagingOperationValues||(t.MessagingOperationValues={}));var u;(function(f){f[f.OK=0]="OK",f[f.CANCELLED=1]="CANCELLED",f[f.UNKNOWN=2]="UNKNOWN",f[f.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",f[f.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",f[f.NOT_FOUND=5]="NOT_FOUND",f[f.ALREADY_EXISTS=6]="ALREADY_EXISTS",f[f.PERMISSION_DENIED=7]="PERMISSION_DENIED",f[f.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",f[f.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",f[f.ABORTED=10]="ABORTED",f[f.OUT_OF_RANGE=11]="OUT_OF_RANGE",f[f.UNIMPLEMENTED=12]="UNIMPLEMENTED",f[f.INTERNAL=13]="INTERNAL",f[f.UNAVAILABLE=14]="UNAVAILABLE",f[f.DATA_LOSS=15]="DATA_LOSS",f[f.UNAUTHENTICATED=16]="UNAUTHENTICATED"})(u=t.RpcGrpcStatusCodeValues||(t.RpcGrpcStatusCodeValues={}))}),qce=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Mce(),t)}),jce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetrySdkLanguageValues=t.OsTypeValues=t.HostArchValues=t.AwsEcsLaunchtypeValues=t.CloudPlatformValues=t.CloudProviderValues=t.ResourceAttributes=void 0,t.ResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};var e;(function(a){a.AWS="aws",a.AZURE="azure",a.GCP="gcp"})(e=t.CloudProviderValues||(t.CloudProviderValues={}));var r;(function(a){a.AWS_EC2="aws_ec2",a.AWS_ECS="aws_ecs",a.AWS_EKS="aws_eks",a.AWS_LAMBDA="aws_lambda",a.AWS_ELASTIC_BEANSTALK="aws_elastic_beanstalk",a.AZURE_VM="azure_vm",a.AZURE_CONTAINER_INSTANCES="azure_container_instances",a.AZURE_AKS="azure_aks",a.AZURE_FUNCTIONS="azure_functions",a.AZURE_APP_SERVICE="azure_app_service",a.GCP_COMPUTE_ENGINE="gcp_compute_engine",a.GCP_CLOUD_RUN="gcp_cloud_run",a.GCP_KUBERNETES_ENGINE="gcp_kubernetes_engine",a.GCP_CLOUD_FUNCTIONS="gcp_cloud_functions",a.GCP_APP_ENGINE="gcp_app_engine"})(r=t.CloudPlatformValues||(t.CloudPlatformValues={}));var n;(function(a){a.EC2="ec2",a.FARGATE="fargate"})(n=t.AwsEcsLaunchtypeValues||(t.AwsEcsLaunchtypeValues={}));var i;(function(a){a.AMD64="amd64",a.ARM32="arm32",a.ARM64="arm64",a.IA64="ia64",a.PPC32="ppc32",a.PPC64="ppc64",a.X86="x86"})(i=t.HostArchValues||(t.HostArchValues={}));var o;(function(a){a.WINDOWS="windows",a.LINUX="linux",a.DARWIN="darwin",a.FREEBSD="freebsd",a.NETBSD="netbsd",a.OPENBSD="openbsd",a.DRAGONFLYBSD="dragonflybsd",a.HPUX="hpux",a.AIX="aix",a.SOLARIS="solaris",a.Z_OS="z_os"})(o=t.OsTypeValues||(t.OsTypeValues={}));var s;(function(a){a.CPP="cpp",a.DOTNET="dotnet",a.ERLANG="erlang",a.GO="go",a.JAVA="java",a.NODEJS="nodejs",a.PHP="php",a.PYTHON="python",a.RUBY="ruby",a.WEBJS="webjs"})(s=t.TelemetrySdkLanguageValues||(t.TelemetrySdkLanguageValues={}))}),$ce=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(jce(),t)}),Eh=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(qce(),t),r($ce(),t)}),Uce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SDK_INFO=void 0;var e=jP(),r=Eh();t.SDK_INFO={[r.ResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[r.ResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[r.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.TelemetrySdkLanguageValues.NODEJS,[r.ResourceAttributes.TELEMETRY_SDK_VERSION]:e.VERSION}}),Bce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unrefTimer=void 0;function e(r){r.unref()}t.unrefTimer=e}),Hce=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Oce(),t),r(Nce(),t),r(Lce(),t),r(Fce(),t),r(Uce(),t),r(Bce(),t)}),jH=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Hce(),t)}),Vce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTimeInput=t.isTimeInputHrTime=t.hrTimeToMicroseconds=t.hrTimeToMilliseconds=t.hrTimeToNanoseconds=t.hrTimeToTimeStamp=t.hrTimeDuration=t.timeInputToHrTime=t.hrTime=void 0;var e=jH(),r=9,n=Math.pow(10,r);function i(m){let g=m/1e3,v=Math.trunc(g),y=Number((g-v).toFixed(r))*n;return[v,y]}function o(){let m=e.otperformance.timeOrigin;if(typeof m!="number"){let g=e.otperformance;m=g.timing&&g.timing.fetchStart}return m}function s(m){let g=i(o()),v=i(typeof m=="number"?m:e.otperformance.now()),y=g[0]+v[0],C=g[1]+v[1];return C>n&&(C-=n,y+=1),[y,C]}t.hrTime=s;function a(m){if(p(m))return m;if(typeof m=="number")return m<o()?s(m):i(m);if(m instanceof Date)return i(m.getTime());throw TypeError("Invalid input type")}t.timeInputToHrTime=a;function c(m,g){let v=g[0]-m[0],y=g[1]-m[1];return y<0&&(v-=1,y+=n),[v,y]}t.hrTimeDuration=c;function l(m){let g=r,v=`${"0".repeat(g)}${m[1]}Z`,y=v.substr(v.length-g-1);return new Date(m[0]*1e3).toISOString().replace("000Z",y)}t.hrTimeToTimeStamp=l;function u(m){return m[0]*n+m[1]}t.hrTimeToNanoseconds=u;function f(m){return Math.round(m[0]*1e3+m[1]/1e6)}t.hrTimeToMilliseconds=f;function d(m){return Math.round(m[0]*1e6+m[1]/1e3)}t.hrTimeToMicroseconds=d;function p(m){return Array.isArray(m)&&m.length===2&&typeof m[0]=="number"&&typeof m[1]=="number"}t.isTimeInputHrTime=p;function h(m){return p(m)||typeof m=="number"||m instanceof Date}t.isTimeInput=h}),zce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Gce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExportResultCode=void 0;var e;(function(r){r[r.SUCCESS=0]="SUCCESS",r[r.FAILED=1]="FAILED"})(e=t.ExportResultCode||(t.ExportResultCode={}))}),Wce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompositePropagator=void 0;var e=Ht(),r=class{constructor(n={}){var i;this._propagators=(i=n.propagators)!==null&&i!==void 0?i:[],this._fields=Array.from(new Set(this._propagators.map(o=>typeof o.fields=="function"?o.fields():[]).reduce((o,s)=>o.concat(s),[])))}inject(n,i,o){for(let s of this._propagators)try{s.inject(n,i,o)}catch(a){e.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(n,i,o){return this._propagators.reduce((s,a)=>{try{return a.extract(s,i,o)}catch(c){e.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${c.message}`)}return s},n)}fields(){return this._fields.slice()}};t.CompositePropagator=r}),Kce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;var e="[_0-9a-z-*/]",r=`[a-z]${e}{0,255}`,n=`[a-z0-9]${e}{0,240}@[a-z]${e}{0,13}`,i=new RegExp(`^(?:${r}|${n})$`),o=/^[ -~]{0,255}[!-~]$/,s=/,|=/;function a(l){return i.test(l)}t.validateKey=a;function c(l){return o.test(l)&&!s.test(l)}t.validateValue=c}),$H=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceState=void 0;var e=Kce(),r=32,n=512,i=",",o="=",s=class{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,c){let l=this._clone();return l._internalState.has(a)&&l._internalState.delete(a),l._internalState.set(a,c),l}unset(a){let c=this._clone();return c._internalState.delete(a),c}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,c)=>(a.push(c+o+this.get(c)),a),[]).join(i)}_parse(a){a.length>n||(this._internalState=a.split(i).reverse().reduce((c,l)=>{let u=l.trim(),f=u.indexOf(o);if(f!==-1){let d=u.slice(0,f),p=u.slice(f+1,l.length);e.validateKey(d)&&e.validateValue(p)&&c.set(d,p)}return c},new Map),this._internalState.size>r&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,r))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new s;return a._internalState=new Map(this._internalState),a}};t.TraceState=s}),Yce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpTraceContextPropagator=t.parseTraceParent=t.TRACE_STATE_HEADER=t.TRACE_PARENT_HEADER=void 0;var e=Ht(),r=qP(),n=$H();t.TRACE_PARENT_HEADER="traceparent",t.TRACE_STATE_HEADER="tracestate";var i="00",o="(?!ff)[\\da-f]{2}",s="(?![0]{32})[\\da-f]{32}",a="(?![0]{16})[\\da-f]{16}",c="[\\da-f]{2}",l=new RegExp(`^\\s?(${o})-(${s})-(${a})-(${c})(-.*)?\\s?$`);function u(d){let p=l.exec(d);return!p||p[1]==="00"&&p[5]?null:{traceId:p[2],spanId:p[3],traceFlags:parseInt(p[4],16)}}t.parseTraceParent=u;var f=class{inject(d,p,h){let m=e.trace.getSpanContext(d);if(!m||r.isTracingSuppressed(d)||!e.isSpanContextValid(m))return;let g=`${i}-${m.traceId}-${m.spanId}-0${Number(m.traceFlags||e.TraceFlags.NONE).toString(16)}`;h.set(p,t.TRACE_PARENT_HEADER,g),m.traceState&&h.set(p,t.TRACE_STATE_HEADER,m.traceState.serialize())}extract(d,p,h){let m=h.get(p,t.TRACE_PARENT_HEADER);if(!m)return d;let g=Array.isArray(m)?m[0]:m;if(typeof g!="string")return d;let v=u(g);if(!v)return d;v.isRemote=!0;let y=h.get(p,t.TRACE_STATE_HEADER);if(y){let C=Array.isArray(y)?y.join(","):y;v.traceState=new n.TraceState(typeof C=="string"?C:void 0)}return e.trace.setSpanContext(d,v)}fields(){return[t.TRACE_PARENT_HEADER,t.TRACE_STATE_HEADER]}};t.HttpTraceContextPropagator=f}),Jce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Qce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRPCMetadata=t.deleteRPCMetadata=t.setRPCMetadata=t.RPCType=void 0;var e=Ht(),r=e.createContextKey("OpenTelemetry SDK Context Key RPC_METADATA"),n;(function(a){a.HTTP="http"})(n=t.RPCType||(t.RPCType={}));function i(a,c){return a.setValue(r,c)}t.setRPCMetadata=i;function o(a){return a.deleteValue(r)}t.deleteRPCMetadata=o;function s(a){return a.getValue(r)}t.getRPCMetadata=s}),UH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOffSampler=void 0;var e=Ht(),r=class{shouldSample(){return{decision:e.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};t.AlwaysOffSampler=r}),BH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlwaysOnSampler=void 0;var e=Ht(),r=class{shouldSample(){return{decision:e.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};t.AlwaysOnSampler=r}),Xce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParentBasedSampler=void 0;var e=Ht(),r=FH(),n=UH(),i=BH(),o=class{constructor(s){var a,c,l,u;this._root=s.root,this._root||(r.globalErrorHandler(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new i.AlwaysOnSampler),this._remoteParentSampled=(a=s.remoteParentSampled)!==null&&a!==void 0?a:new i.AlwaysOnSampler,this._remoteParentNotSampled=(c=s.remoteParentNotSampled)!==null&&c!==void 0?c:new n.AlwaysOffSampler,this._localParentSampled=(l=s.localParentSampled)!==null&&l!==void 0?l:new i.AlwaysOnSampler,this._localParentNotSampled=(u=s.localParentNotSampled)!==null&&u!==void 0?u:new n.AlwaysOffSampler}shouldSample(s,a,c,l,u,f){let d=e.trace.getSpanContext(s);return!d||!e.isSpanContextValid(d)?this._root.shouldSample(s,a,c,l,u,f):d.isRemote?d.traceFlags&e.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(s,a,c,l,u,f):this._remoteParentNotSampled.shouldSample(s,a,c,l,u,f):d.traceFlags&e.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(s,a,c,l,u,f):this._localParentNotSampled.shouldSample(s,a,c,l,u,f)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};t.ParentBasedSampler=o}),Zce=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceIdRatioBasedSampler=void 0;var e=Ht(),r=class{constructor(n=0){this._ratio=n,this._ratio=this._normalize(n),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(n,i){return{decision:e.isValidTraceId(i)&&this._accumulate(i)<this._upperBound?e.SamplingDecision.RECORD_AND_SAMPLED:e.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(n){return typeof n!="number"||isNaN(n)?0:n>=1?1:n<=0?0:n}_accumulate(n){let i=0;for(let o=0;o<n.length/8;o++){let s=o*8,a=parseInt(n.slice(s,s+8),16);i=(i^a)>>>0}return i}};t.TraceIdRatioBasedSampler=r}),ele=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlIgnored=t.urlMatches=void 0;function e(n,i){return typeof i=="string"?n===i:i.test(n)}t.urlMatches=e;function r(n,i){if(!i)return!1;for(let o of i)if(e(n,o))return!0;return!1}t.isUrlIgnored=r}),tle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWrapped=void 0;function e(r){return typeof r=="function"&&typeof r.__original=="function"&&typeof r.__unwrap=="function"&&r.__wrapped===!0}t.isWrapped=e}),Ki=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),t.baggageUtils=void 0,r(Dce(),t),r(Rce(),t),r(FH(),t),r(LH(),t),r(Vce(),t),r(zce(),t),r(Gce(),t),r(jP(),t),t.baggageUtils=NH(),r(jH(),t),r(Wce(),t),r(Yce(),t),r(Jce(),t),r(Qce(),t),r(UH(),t),r(BH(),t),r(Xce(),t),r(Zce(),t),r(qP(),t),r($H(),t),r(qH(),t),r(MH(),t),r(ele(),t),r(tle(),t),r(jP(),t)}),rle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionEventName=void 0,t.ExceptionEventName="exception"}),HH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0;var e=Ht(),r=Ki(),n=Eh(),i=rle(),o=class{constructor(s,a,c,l,u,f,d=[],p=r.hrTime()){this.attributes={},this.links=[],this.events=[],this.status={code:e.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=c,this._spanContext=l,this.parentSpanId=f,this.kind=u,this.links=d,this.startTime=r.timeInputToHrTime(p),this.resource=s.resource,this.instrumentationLibrary=s.instrumentationLibrary,this._spanLimits=s.getSpanLimits(),this._spanProcessor=s.getActiveSpanProcessor(),this._spanProcessor.onStart(this,a)}spanContext(){return this._spanContext}setAttribute(s,a){return a==null||this._isSpanEnded()?this:s.length===0?(e.diag.warn(`Invalid attribute key: ${s}`),this):r.isAttributeValue(a)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,s)?this:(this.attributes[s]=a,this):(e.diag.warn(`Invalid attribute value set for key: ${s}`),this)}setAttributes(s){for(let[a,c]of Object.entries(s))this.setAttribute(a,c);return this}addEvent(s,a,c){return this._isSpanEnded()?this:(this.events.length>=this._spanLimits.eventCountLimit&&(e.diag.warn("Dropping extra events."),this.events.shift()),r.isTimeInput(a)&&(typeof c>"u"&&(c=a),a=void 0),typeof c>"u"&&(c=r.hrTime()),this.events.push({name:s,attributes:a,time:r.timeInputToHrTime(c)}),this)}setStatus(s){return this._isSpanEnded()?this:(this.status=s,this)}updateName(s){return this._isSpanEnded()?this:(this.name=s,this)}end(s=r.hrTime()){if(this._isSpanEnded()){e.diag.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=r.timeInputToHrTime(s),this._duration=r.hrTimeDuration(this.startTime,this.endTime),this._duration[0]<0&&e.diag.warn("Inconsistent start and end time, startTime > endTime",this.startTime,this.endTime),this._spanProcessor.onEnd(this)}isRecording(){return this._ended===!1}recordException(s,a=r.hrTime()){let c={};typeof s=="string"?c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s:s&&(s.code?c[n.SemanticAttributes.EXCEPTION_TYPE]=s.code.toString():s.name&&(c[n.SemanticAttributes.EXCEPTION_TYPE]=s.name),s.message&&(c[n.SemanticAttributes.EXCEPTION_MESSAGE]=s.message),s.stack&&(c[n.SemanticAttributes.EXCEPTION_STACKTRACE]=s.stack)),c[n.SemanticAttributes.EXCEPTION_TYPE]||c[n.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(i.ExceptionEventName,c,a):e.diag.warn(`Failed to record an exception ${s}`)}get duration(){return this._duration}get ended(){return this._ended}_isSpanEnded(){return this._ended&&e.diag.warn("Can not execute the operation on ended Span {traceId: %s, spanId: %s}",this._spanContext.traceId,this._spanContext.spanId),this._ended}};t.Span=o}),VH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSamplerFromEnv=t.DEFAULT_CONFIG=void 0;var e=Ht(),r=Ki(),n=r.getEnv(),i=r.TracesSamplerValues.AlwaysOn;t.DEFAULT_CONFIG={sampler:o(n),forceFlushTimeoutMillis:3e4,spanLimits:{attributeCountLimit:r.getEnv().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:r.getEnv().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:r.getEnv().OTEL_SPAN_EVENT_COUNT_LIMIT}};function o(c=r.getEnv()){switch(c.OTEL_TRACES_SAMPLER){case r.TracesSamplerValues.AlwaysOn:return new r.AlwaysOnSampler;case r.TracesSamplerValues.AlwaysOff:return new r.AlwaysOffSampler;case r.TracesSamplerValues.ParentBasedAlwaysOn:return new r.ParentBasedSampler({root:new r.AlwaysOnSampler});case r.TracesSamplerValues.ParentBasedAlwaysOff:return new r.ParentBasedSampler({root:new r.AlwaysOffSampler});case r.TracesSamplerValues.TraceIdRatio:return new r.TraceIdRatioBasedSampler(a(c));case r.TracesSamplerValues.ParentBasedTraceIdRatio:return new r.ParentBasedSampler({root:new r.TraceIdRatioBasedSampler(a(c))});default:return e.diag.error(`OTEL_TRACES_SAMPLER value "${c.OTEL_TRACES_SAMPLER} invalid, defaulting to ${i}".`),new r.AlwaysOnSampler}}t.buildSamplerFromEnv=o;var s=1;function a(c){if(c.OTEL_TRACES_SAMPLER_ARG===void 0||c.OTEL_TRACES_SAMPLER_ARG==="")return e.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${s}.`),s;let l=Number(c.OTEL_TRACES_SAMPLER_ARG);return isNaN(l)?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${s}.`),s):l<0||l>1?(e.diag.error(`OTEL_TRACES_SAMPLER_ARG=${c.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${s}.`),s):l}}),nle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var e=VH();function r(n){let i={sampler:e.buildSamplerFromEnv()},o=Object.assign({},e.DEFAULT_CONFIG,i,n);return o.spanLimits=Object.assign({},e.DEFAULT_CONFIG.spanLimits,n.spanLimits||{}),o}t.mergeConfig=r}),ile=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var e=Ht(),r=Ki(),n=HH(),i=nle(),o=class{constructor(a,c,l){this._tracerProvider=l;let u=i.mergeConfig(c);this._sampler=u.sampler,this._spanLimits=u.spanLimits,this._idGenerator=c.idGenerator||new r.RandomIdGenerator,this.resource=l.resource,this.instrumentationLibrary=a}startSpan(a,c={},l=e.context.active()){var u,f;if(r.isTracingSuppressed(l))return e.diag.debug("Instrumentation suppressed, returning Noop Span"),e.trace.wrapSpanContext(e.INVALID_SPAN_CONTEXT);let d=s(c,l),p=this._idGenerator.generateSpanId(),h,m,g;!d||!e.trace.isSpanContextValid(d)?h=this._idGenerator.generateTraceId():(h=d.traceId,m=d.traceState,g=d.spanId);let v=(u=c.kind)!==null&&u!==void 0?u:e.SpanKind.INTERNAL,y=(f=c.links)!==null&&f!==void 0?f:[],C=r.sanitizeAttributes(c.attributes),b=this._sampler.shouldSample(c.root?e.trace.setSpanContext(l,e.INVALID_SPAN_CONTEXT):l,h,a,v,C,y),_=b.decision===e.SamplingDecision.RECORD_AND_SAMPLED?e.TraceFlags.SAMPLED:e.TraceFlags.NONE,P={traceId:h,spanId:p,traceFlags:_,traceState:m};if(b.decision===e.SamplingDecision.NOT_RECORD)return e.diag.debug("Recording is off, propagating context in a non-recording span"),e.trace.wrapSpanContext(P);let S=new n.Span(this,l,a,P,v,g,y,c.startTime);return S.setAttributes(Object.assign(C,b.attributes)),S}startActiveSpan(a,c,l,u){let f,d,p;if(arguments.length<2)return;arguments.length===2?p=c:arguments.length===3?(f=c,p=l):(f=c,d=l,p=u);let h=d!=null?d:e.context.active(),m=this.startSpan(a,f,h),g=e.trace.setSpan(h,m);return e.context.with(g,p,void 0,m)}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};t.Tracer=o;function s(a,c){if(!a.root)return e.trace.getSpanContext(c)}}),ole=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultServiceName=void 0;function e(){return`unknown_service:${process.argv0}`}t.defaultServiceName=e}),sle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectResources=void 0;var e=GH(),r=Ht(),n=require("util"),i=async(s={})=>{let a=Object.assign(s),c=await Promise.all((a.detectors||[]).map(async l=>{try{let u=await l.detect(a);return r.diag.debug(`${l.constructor.name} found resource.`,u),u}catch(u){return r.diag.debug(`${l.constructor.name} failed: ${u.message}`),e.Resource.empty()}}));return o(c),c.reduce((l,u)=>l.merge(u),e.Resource.empty())};t.detectResources=i;var o=s=>{s.forEach(a=>{if(Object.keys(a.attributes).length>0){let c=n.inspect(a.attributes,{depth:2,breakLength:1/0,sorted:!0,compact:!1});r.diag.verbose(c)}})}}),ale=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.envDetector=void 0;var e=Ht(),r=Ki(),n=Eh(),i=$P(),o=class{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}async detect(s){let a={},c=r.getEnv(),l=c.OTEL_RESOURCE_ATTRIBUTES,u=c.OTEL_SERVICE_NAME;if(l)try{let f=this._parseResourceAttributes(l);Object.assign(a,f)}catch(f){e.diag.debug(`EnvDetector failed: ${f.message}`)}return u&&(a[n.ResourceAttributes.SERVICE_NAME]=u),new i.Resource(a)}_parseResourceAttributes(s){if(!s)return{};let a={},c=s.split(this._COMMA_SEPARATOR,-1);for(let l of c){let u=l.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(u.length!==2)continue;let[f,d]=u;if(f=f.trim(),d=d.trim().split('^"|"$').join(""),!this._isValidAndNotEmpty(f))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(d))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);a[f]=d}return a}_isValid(s){return s.length<=this._MAX_LENGTH&&this._isPrintableString(s)}_isPrintableString(s){for(let a=0;a<s.length;a++){let c=s.charAt(a);if(c<=" "||c>="~")return!1}return!0}_isValidAndNotEmpty(s){return s.length>0&&this._isValid(s)}};t.envDetector=new o}),cle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.processDetector=void 0;var e=Ht(),r=Eh(),n=$P(),i=class{async detect(o){let s={[r.ResourceAttributes.PROCESS_PID]:process.pid,[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title||"",[r.ResourceAttributes.PROCESS_COMMAND]:process.argv[1]||"",[r.ResourceAttributes.PROCESS_COMMAND_LINE]:process.argv.join(" ")||""};return this._getResourceAttributes(s,o)}_getResourceAttributes(o,s){return o[r.ResourceAttributes.PROCESS_EXECUTABLE_NAME]===""||o[r.ResourceAttributes.PROCESS_EXECUTABLE_PATH]===""||o[r.ResourceAttributes.PROCESS_COMMAND]===""||o[r.ResourceAttributes.PROCESS_COMMAND_LINE]===""?(e.diag.debug("ProcessDetector failed: Unable to find required process resources. "),n.Resource.empty()):new n.Resource(Object.assign({},o))}};t.processDetector=new i}),lle=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(ale(),t),r(cle(),t)}),ule=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(ole(),t),r(sle(),t),r(lle(),t)}),zH=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(ule(),t)}),GH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=void 0;var e=Eh(),r=Ki(),n=zH(),i=class{constructor(o){this.attributes=o}static empty(){return i.EMPTY}static default(){return new i({[e.ResourceAttributes.SERVICE_NAME]:n.defaultServiceName(),[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_LANGUAGE],[e.ResourceAttributes.TELEMETRY_SDK_NAME]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_NAME],[e.ResourceAttributes.TELEMETRY_SDK_VERSION]:r.SDK_INFO[e.ResourceAttributes.TELEMETRY_SDK_VERSION]})}merge(o){if(!o||!Object.keys(o.attributes).length)return this;let s=Object.assign({},this.attributes,o.attributes);return new i(s)}};t.Resource=i,i.EMPTY=new i({})}),fle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),dle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),$P=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(GH(),t),r(zH(),t),r(fle(),t),r(dle(),t)}),ple=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSpanProcessor=void 0;var e=Ki(),r=class{constructor(n){this._spanProcessors=n}forceFlush(){let n=[];for(let i of this._spanProcessors)n.push(i.forceFlush());return new Promise(i=>{Promise.all(n).then(()=>{i()}).catch(o=>{e.globalErrorHandler(o||new Error("MultiSpanProcessor: forceFlush failed")),i()})})}onStart(n,i){for(let o of this._spanProcessors)o.onStart(n,i)}onEnd(n){for(let i of this._spanProcessors)i.onEnd(n)}shutdown(){let n=[];for(let i of this._spanProcessors)n.push(i.shutdown());return new Promise((i,o)=>{Promise.all(n).then(()=>{i()},o)})}};t.MultiSpanProcessor=r}),WH=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpanProcessor=void 0;var e=class{onStart(r,n){}onEnd(r){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};t.NoopSpanProcessor=e}),hle=L((t,e)=>{var r=200,n="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",g="[object Number]",v="[object Null]",y="[object Object]",C="[object Proxy]",b="[object RegExp]",_="[object Set]",P="[object String]",S="[object Undefined]",x="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",N="[object Float32Array]",q="[object Float64Array]",J="[object Int8Array]",Y="[object Int16Array]",ee="[object Int32Array]",re="[object Uint8Array]",j="[object Uint8ClampedArray]",F="[object Uint16Array]",D="[object Uint32Array]",$=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,Q={};Q[N]=Q[q]=Q[J]=Q[Y]=Q[ee]=Q[re]=Q[j]=Q[F]=Q[D]=!0,Q[a]=Q[c]=Q[T]=Q[u]=Q[A]=Q[f]=Q[d]=Q[p]=Q[m]=Q[g]=Q[y]=Q[b]=Q[_]=Q[P]=Q[x]=!1;var ve=typeof global=="object"&&global&&global.Object===Object&&global,Te=typeof self=="object"&&self&&self.Object===Object&&self,Se=ve||Te||Function("return this")(),Re=typeof t=="object"&&t&&!t.nodeType&&t,Ee=Re&&typeof e=="object"&&e&&!e.nodeType&&e,_t=Ee&&Ee.exports===Re,kt=_t&&ve.process,De=function(){try{var R=Ee&&Ee.require&&Ee.require("util").types;return R||kt&&kt.binding&&kt.binding("util")}catch{}}(),Ie=De&&De.isTypedArray;function Fe(R,H,Z){switch(Z.length){case 0:return R.call(H);case 1:return R.call(H,Z[0]);case 2:return R.call(H,Z[0],Z[1]);case 3:return R.call(H,Z[0],Z[1],Z[2])}return R.apply(H,Z)}function Xe(R,H){for(var Z=-1,xe=Array(R);++Z<R;)xe[Z]=H(Z);return xe}function Gn(R){return function(H){return R(H)}}function an(R,H){return R==null?void 0:R[H]}function ie(R,H){return function(Z){return R(H(Z))}}var Wn=Array.prototype,V=Function.prototype,ae=Object.prototype,ne=Se["__core-js_shared__"],fe=V.toString,me=ae.hasOwnProperty,Be=function(){var R=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||"");return R?"Symbol(src)_1."+R:""}(),Me=ae.toString,we=fe.call(Object),qe=RegExp("^"+fe.call(me).replace($,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_e=_t?Se.Buffer:void 0,G=Se.Symbol,oe=Se.Uint8Array,se=_e?_e.allocUnsafe:void 0,de=ie(Object.getPrototypeOf,Object),be=Object.create,Ae=ae.propertyIsEnumerable,nt=Wn.splice,Ze=G?G.toStringTag:void 0,ct=function(){try{var R=K0(Object,"defineProperty");return R({},"",{}),R}catch{}}(),Ue=_e?_e.isBuffer:void 0,qt=Math.max,ye=Date.now,xs=K0(Se,"Map"),Ii=K0(Object,"create"),He=function(){function R(){}return function(H){if(!Ya(H))return{};if(be)return be(H);R.prototype=H;var Z=new R;return R.prototype=void 0,Z}}();function Pn(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function La(){this.__data__=Ii?Ii(null):{},this.size=0}function Fa(R){var H=this.has(R)&&delete this.__data__[R];return this.size-=H?1:0,H}function Ma(R){var H=this.__data__;if(Ii){var Z=H[R];return Z===n?void 0:Z}return me.call(H,R)?H[R]:void 0}function qa(R){var H=this.__data__;return Ii?H[R]!==void 0:me.call(H,R)}function ja(R,H){var Z=this.__data__;return this.size+=this.has(R)?0:1,Z[R]=Ii&&H===void 0?n:H,this}Pn.prototype.clear=La,Pn.prototype.delete=Fa,Pn.prototype.get=Ma,Pn.prototype.has=qa,Pn.prototype.set=ja;function Jr(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function $a(){this.__data__=[],this.size=0}function Ua(R){var H=this.__data__,Z=le(H,R);if(Z<0)return!1;var xe=H.length-1;return Z==xe?H.pop():nt.call(H,Z,1),--this.size,!0}function jr(R){var H=this.__data__,Z=le(H,R);return Z<0?void 0:H[Z][1]}function Ba(R){return le(this.__data__,R)>-1}function Ha(R,H){var Z=this.__data__,xe=le(Z,R);return xe<0?(++this.size,Z.push([R,H])):Z[xe][1]=H,this}Jr.prototype.clear=$a,Jr.prototype.delete=Ua,Jr.prototype.get=jr,Jr.prototype.has=Ba,Jr.prototype.set=Ha;function Kn(R){var H=-1,Z=R==null?0:R.length;for(this.clear();++H<Z;){var xe=R[H];this.set(xe[0],xe[1])}}function Va(){this.size=0,this.__data__={hash:new Pn,map:new(xs||Jr),string:new Pn}}function za(R){var H=Om(this,R).delete(R);return this.size-=H?1:0,H}function Ga(R){return Om(this,R).get(R)}function kn(R){return Om(this,R).has(R)}function Wa(R,H){var Z=Om(this,R),xe=Z.size;return Z.set(R,H),this.size+=Z.size==xe?0:1,this}Kn.prototype.clear=Va,Kn.prototype.delete=za,Kn.prototype.get=Ga,Kn.prototype.has=kn,Kn.prototype.set=Wa;function Yn(R){var H=this.__data__=new Jr(R);this.size=H.size}function Ka(){this.__data__=new Jr,this.size=0}function w(R){var H=this.__data__,Z=H.delete(R);return this.size=H.size,Z}function E(R){return this.__data__.get(R)}function k(R){return this.__data__.has(R)}function O(R,H){var Z=this.__data__;if(Z instanceof Jr){var xe=Z.__data__;if(!xs||xe.length<r-1)return xe.push([R,H]),this.size=++Z.size,this;Z=this.__data__=new Kn(xe)}return Z.set(R,H),this.size=Z.size,this}Yn.prototype.clear=Ka,Yn.prototype.delete=w,Yn.prototype.get=E,Yn.prototype.has=k,Yn.prototype.set=O;function M(R,H){var Z=Q0(R),xe=!Z&&J0(R),ut=!Z&&!xe&&nA(R),At=!Z&&!xe&&!ut&&oA(R),jt=Z||xe||ut||At,ot=jt?Xe(R.length,String):[],$t=ot.length;for(var Jn in R)(H||me.call(R,Jn))&&!(jt&&(Jn=="length"||ut&&(Jn=="offset"||Jn=="parent")||At&&(Jn=="buffer"||Jn=="byteLength"||Jn=="byteOffset")||tA(Jn,$t)))&&ot.push(Jn);return ot}function U(R,H,Z){(Z!==void 0&&!Nm(R[H],Z)||Z===void 0&&!(H in R))&&ce(R,H,Z)}function z(R,H,Z){var xe=R[H];(!(me.call(R,H)&&Nm(xe,Z))||Z===void 0&&!(H in R))&&ce(R,H,Z)}function le(R,H){for(var Z=R.length;Z--;)if(Nm(R[Z][0],H))return Z;return-1}function ce(R,H,Z){H=="__proto__"&&ct?ct(R,H,{configurable:!0,enumerable:!0,value:Z,writable:!0}):R[H]=Z}var lt=n8();function et(R){return R==null?R===void 0?S:v:Ze&&Ze in Object(R)?i8(R):u8(R)}function Ye(R){return td(R)&&et(R)==a}function Ke(R){if(!Ya(R)||c8(R))return!1;var H=Z0(R)?qe:K;return H.test(h8(R))}function xt(R){return td(R)&&iA(R.length)&&!!Q[et(R)]}function W5(R){if(!Ya(R))return l8(R);var H=rA(R),Z=[];for(var xe in R)xe=="constructor"&&(H||!me.call(R,xe))||Z.push(xe);return Z}function eA(R,H,Z,xe,ut){R!==H&&lt(H,function(At,jt){if(ut||(ut=new Yn),Ya(At))K5(R,H,jt,Z,eA,xe,ut);else{var ot=xe?xe(Y0(R,jt),At,jt+"",R,H,ut):void 0;ot===void 0&&(ot=At),U(R,jt,ot)}},sA)}function K5(R,H,Z,xe,ut,At,jt){var ot=Y0(R,Z),$t=Y0(H,Z),Jn=jt.get($t);if(Jn){U(R,Z,Jn);return}var In=At?At(ot,$t,Z+"",R,H,jt):void 0,rd=In===void 0;if(rd){var eb=Q0($t),tb=!eb&&nA($t),cA=!eb&&!tb&&oA($t);In=$t,eb||tb||cA?Q0(ot)?In=ot:m8(ot)?In=e8(ot):tb?(rd=!1,In=Q5($t,!0)):cA?(rd=!1,In=Z5($t,!0)):In=[]:g8($t)||J0($t)?(In=ot,J0(ot)?In=v8(ot):(!Ya(ot)||Z0(ot))&&(In=o8($t))):rd=!1}rd&&(jt.set($t,In),ut(In,$t,xe,At,jt),jt.delete($t)),U(R,Z,In)}function Y5(R,H){return d8(f8(R,H,aA),R+"")}var J5=ct?function(R,H){return ct(R,"toString",{configurable:!0,enumerable:!1,value:w8(H),writable:!0})}:aA;function Q5(R,H){if(H)return R.slice();var Z=R.length,xe=se?se(Z):new R.constructor(Z);return R.copy(xe),xe}function X5(R){var H=new R.constructor(R.byteLength);return new oe(H).set(new oe(R)),H}function Z5(R,H){var Z=H?X5(R.buffer):R.buffer;return new R.constructor(Z,R.byteOffset,R.length)}function e8(R,H){var Z=-1,xe=R.length;for(H||(H=Array(xe));++Z<xe;)H[Z]=R[Z];return H}function t8(R,H,Z,xe){var ut=!Z;Z||(Z={});for(var At=-1,jt=H.length;++At<jt;){var ot=H[At],$t=xe?xe(Z[ot],R[ot],ot,Z,R):void 0;$t===void 0&&($t=R[ot]),ut?ce(Z,ot,$t):z(Z,ot,$t)}return Z}function r8(R){return Y5(function(H,Z){var xe=-1,ut=Z.length,At=ut>1?Z[ut-1]:void 0,jt=ut>2?Z[2]:void 0;for(At=R.length>3&&typeof At=="function"?(ut--,At):void 0,jt&&s8(Z[0],Z[1],jt)&&(At=ut<3?void 0:At,ut=1),H=Object(H);++xe<ut;){var ot=Z[xe];ot&&R(H,ot,xe,At)}return H})}function n8(R){return function(H,Z,xe){for(var ut=-1,At=Object(H),jt=xe(H),ot=jt.length;ot--;){var $t=jt[R?ot:++ut];if(Z(At[$t],$t,At)===!1)break}return H}}function Om(R,H){var Z=R.__data__;return a8(H)?Z[typeof H=="string"?"string":"hash"]:Z.map}function K0(R,H){var Z=an(R,H);return Ke(Z)?Z:void 0}function i8(R){var H=me.call(R,Ze),Z=R[Ze];try{R[Ze]=void 0;var xe=!0}catch{}var ut=Me.call(R);return xe&&(H?R[Ze]=Z:delete R[Ze]),ut}function o8(R){return typeof R.constructor=="function"&&!rA(R)?He(de(R)):{}}function tA(R,H){var Z=typeof R;return H=H!=null?H:s,!!H&&(Z=="number"||Z!="symbol"&&X.test(R))&&R>-1&&R%1==0&&R<H}function s8(R,H,Z){if(!Ya(Z))return!1;var xe=typeof H;return(xe=="number"?X0(Z)&&tA(H,Z.length):xe=="string"&&H in Z)?Nm(Z[H],R):!1}function a8(R){var H=typeof R;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?R!=="__proto__":R===null}function c8(R){return!!Be&&Be in R}function rA(R){var H=R&&R.constructor,Z=typeof H=="function"&&H.prototype||ae;return R===Z}function l8(R){var H=[];if(R!=null)for(var Z in Object(R))H.push(Z);return H}function u8(R){return Me.call(R)}function f8(R,H,Z){return H=qt(H===void 0?R.length-1:H,0),function(){for(var xe=arguments,ut=-1,At=qt(xe.length-H,0),jt=Array(At);++ut<At;)jt[ut]=xe[H+ut];ut=-1;for(var ot=Array(H+1);++ut<H;)ot[ut]=xe[ut];return ot[H]=Z(jt),Fe(R,this,ot)}}function Y0(R,H){if(!(H==="constructor"&&typeof R[H]=="function")&&H!="__proto__")return R[H]}var d8=p8(J5);function p8(R){var H=0,Z=0;return function(){var xe=ye(),ut=o-(xe-Z);if(Z=xe,ut>0){if(++H>=i)return arguments[0]}else H=0;return R.apply(void 0,arguments)}}function h8(R){if(R!=null){try{return fe.call(R)}catch{}try{return R+""}catch{}}return""}function Nm(R,H){return R===H||R!==R&&H!==H}var J0=Ye(function(){return arguments}())?Ye:function(R){return td(R)&&me.call(R,"callee")&&!Ae.call(R,"callee")},Q0=Array.isArray;function X0(R){return R!=null&&iA(R.length)&&!Z0(R)}function m8(R){return td(R)&&X0(R)}var nA=Ue||C8;function Z0(R){if(!Ya(R))return!1;var H=et(R);return H==p||H==h||H==l||H==C}function iA(R){return typeof R=="number"&&R>-1&&R%1==0&&R<=s}function Ya(R){var H=typeof R;return R!=null&&(H=="object"||H=="function")}function td(R){return R!=null&&typeof R=="object"}function g8(R){if(!td(R)||et(R)!=y)return!1;var H=de(R);if(H===null)return!0;var Z=me.call(H,"constructor")&&H.constructor;return typeof Z=="function"&&Z instanceof Z&&fe.call(Z)==we}var oA=Ie?Gn(Ie):xt;function v8(R){return t8(R,sA(R))}function sA(R){return X0(R)?M(R,!0):W5(R)}var y8=r8(function(R,H,Z){eA(R,H,Z)});function w8(R){return function(){return R}}function aA(R){return R}function C8(){return!1}e.exports=y8}),mle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessorBase=void 0;var e=Ht(),r=Ki(),n=class{constructor(i,o){this._exporter=i,this._finishedSpans=[],this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve();let s=r.getEnv();this._maxExportBatchSize=typeof(o==null?void 0:o.maxExportBatchSize)=="number"?o.maxExportBatchSize:s.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(o==null?void 0:o.maxQueueSize)=="number"?o.maxQueueSize:s.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(o==null?void 0:o.scheduledDelayMillis)=="number"?o.scheduledDelayMillis:s.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(o==null?void 0:o.exportTimeoutMillis)=="number"?o.exportTimeoutMillis:s.OTEL_BSP_EXPORT_TIMEOUT}forceFlush(){return this._isShutdown?this._shuttingDownPromise:this._flushAll()}onStart(i){}onEnd(i){this._isShutdown||this._addToBuffer(i)}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}_addToBuffer(i){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(i),this._maybeStartTimer())}_flushAll(){return new Promise((i,o)=>{let s=[],a=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let c=0,l=a;c<l;c++)s.push(this._flushOneBatch());Promise.all(s).then(()=>{i()}).catch(o)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((i,o)=>{let s=setTimeout(()=>{o(new Error("Timeout"))},this._exportTimeoutMillis);e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export(this._finishedSpans.splice(0,this._maxExportBatchSize),a=>{var c;clearTimeout(s),a.code===r.ExportResultCode.SUCCESS?i():o((c=a.error)!==null&&c!==void 0?c:new Error("BatchSpanProcessor: span export failed"))})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(i=>{r.globalErrorHandler(i)})},this._scheduledDelayMillis),r.unrefTimer(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};t.BatchSpanProcessorBase=n}),gle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchSpanProcessor=void 0;var e=mle(),r=class extends e.BatchSpanProcessorBase{onShutdown(){}};t.BatchSpanProcessor=r}),vle=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(gle(),t)}),KH=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(vle(),t)}),yle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTracerProvider=t.ForceFlushState=void 0;var e=Ht(),r=Ki(),n=$P(),i=YH(),o=VH(),s=ple(),a=WH(),c=hle(),l=KH(),u;(function(d){d[d.resolved=0]="resolved",d[d.timeout=1]="timeout",d[d.error=2]="error",d[d.unresolved=3]="unresolved"})(u=t.ForceFlushState||(t.ForceFlushState={}));var f=class{constructor(d={}){var p;this._registeredSpanProcessors=[],this._tracers=new Map;let h=c({},o.DEFAULT_CONFIG,d);this.resource=(p=h.resource)!==null&&p!==void 0?p:n.Resource.empty(),this.resource=n.Resource.default().merge(this.resource),this._config=Object.assign({},h,{resource:this.resource});let m=this._buildExporterFromEnv();if(m!==void 0){let g=new l.BatchSpanProcessor(m);this.activeSpanProcessor=g}else this.activeSpanProcessor=new a.NoopSpanProcessor}getTracer(d,p){let h=`${d}@${p||""}`;return this._tracers.has(h)||this._tracers.set(h,new i.Tracer({name:d,version:p},this._config,this)),this._tracers.get(h)}addSpanProcessor(d){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(p=>e.diag.error("Error while trying to shutdown current span processor",p)),this._registeredSpanProcessors.push(d),this.activeSpanProcessor=new s.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(d={}){e.trace.setGlobalTracerProvider(this),d.propagator===void 0&&(d.propagator=this._buildPropagatorFromEnv()),d.contextManager&&e.context.setGlobalContextManager(d.contextManager),d.propagator&&e.propagation.setGlobalPropagator(d.propagator)}forceFlush(){let d=this._config.forceFlushTimeoutMillis,p=this._registeredSpanProcessors.map(h=>new Promise(m=>{let g,v=setTimeout(()=>{m(new Error(`Span processor did not completed within timeout period of ${d} ms`)),g=u.timeout},d);h.forceFlush().then(()=>{clearTimeout(v),g!==u.timeout&&(g=u.resolved,m(g))}).catch(y=>{clearTimeout(v),g=u.error,m(y)})}));return new Promise((h,m)=>{Promise.all(p).then(g=>{let v=g.filter(y=>y!==u.resolved);v.length>0?m(v):h()}).catch(g=>m([g]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(d){var p;return(p=f._registeredPropagators.get(d))===null||p===void 0?void 0:p()}_getSpanExporter(d){var p;return(p=f._registeredExporters.get(d))===null||p===void 0?void 0:p()}_buildPropagatorFromEnv(){let d=Array.from(new Set(r.getEnv().OTEL_PROPAGATORS)),p=d.map(h=>{let m=this._getPropagator(h);return m||e.diag.warn(`Propagator "${h}" requested through environment variable is unavailable.`),m}).reduce((h,m)=>(m&&h.push(m),h),[]);if(p.length!==0)return d.length===1?p[0]:new r.CompositePropagator({propagators:p})}_buildExporterFromEnv(){let d=r.getEnv().OTEL_TRACES_EXPORTER;if(d==="none")return;let p=this._getSpanExporter(d);return p||e.diag.error(`Exporter "${d}" requested through environment variable is unavailable.`),p}};t.BasicTracerProvider=f,f._registeredPropagators=new Map([["tracecontext",()=>new r.HttpTraceContextPropagator],["baggage",()=>new r.HttpBaggagePropagator]]),f._registeredExporters=new Map}),wle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleSpanExporter=void 0;var e=Ki(),r=class{export(n,i){return this._sendSpans(n,i)}shutdown(){return this._sendSpans([]),Promise.resolve()}_exportInfo(n){return{traceId:n.spanContext().traceId,parentId:n.parentSpanId,name:n.name,id:n.spanContext().spanId,kind:n.kind,timestamp:e.hrTimeToMicroseconds(n.startTime),duration:e.hrTimeToMicroseconds(n.duration),attributes:n.attributes,status:n.status,events:n.events}}_sendSpans(n,i){for(let o of n)console.log(this._exportInfo(o));if(i)return i({code:e.ExportResultCode.SUCCESS})}};t.ConsoleSpanExporter=r}),Cle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemorySpanExporter=void 0;var e=Ki(),r=class{constructor(){this._finishedSpans=[],this._stopped=!1}export(n,i){if(this._stopped)return i({code:e.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...n),setTimeout(()=>i({code:e.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};t.InMemorySpanExporter=r}),ble=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Ele=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpanProcessor=void 0;var e=Ht(),r=Ki(),n=class{constructor(i){this._exporter=i,this._isShutdown=!1,this._shuttingDownPromise=Promise.resolve()}forceFlush(){return Promise.resolve()}onStart(i){}onEnd(i){this._isShutdown||e.context.with(r.suppressTracing(e.context.active()),()=>{this._exporter.export([i],o=>{var s;o.code!==r.ExportResultCode.SUCCESS&&r.globalErrorHandler((s=o.error)!==null&&s!==void 0?s:new Error(`SimpleSpanProcessor: span export failed (status ${o})`))})})}shutdown(){return this._isShutdown?this._shuttingDownPromise:(this._isShutdown=!0,this._shuttingDownPromise=new Promise((i,o)=>{Promise.resolve().then(()=>this._exporter.shutdown()).then(i).catch(s=>{o(s)})}),this._shuttingDownPromise)}};t.SimpleSpanProcessor=n}),_le=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Sle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),xle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Ple=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),YH=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(ile(),t),r(yle(),t),r(KH(),t),r(wle(),t),r(Cle(),t),r(ble(),t),r(Ele(),t),r(_le(),t),r(WH(),t),r(HH(),t),r(Sle(),t),r(xle(),t),r(Ple(),t)}),kle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.azureCoreTracing=t.AzureMonitorSymbol=void 0;var e=lr();t.AzureMonitorSymbol="Azure_Monitor_Tracer";var r=!1,n=function(o){if(r)return o;try{var s=YH(),a=Ht(),c=new s.BasicTracerProvider,l=c.getTracer("applicationinsights tracer"),u=o.setTracer;o.setTracer=function(f){var d=f.startSpan;f.startSpan=function(p,h,m){var g=d.call(this,p,h,m),v=g.end;return g.end=function(){var y=v.apply(this,arguments);return e.channel.publish("azure-coretracing",g),y},g},f[t.AzureMonitorSymbol]=!0,u.call(this,f)},a.trace.getSpan(a.context.active()),o.setTracer(l),r=!0}catch{}return o};t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}t.enable=i}),Ile=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.bunyan=void 0;var e=lr(),r=function(i){var o=i.prototype._emit;return i.prototype._emit=function(s,a){var c=o.apply(this,arguments);if(!a){var l=c;l||(l=o.call(this,s,!0)),e.channel.publish("bunyan",{level:s.level,result:l})}return c},i};t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("bunyan",t.bunyan)}t.enable=n}),Tle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.console=void 0;var e=lr(),r=require("stream"),n=function(o){var s=new r.Writable,a=new r.Writable;s.write=function(h){if(!h)return!0;var m=h.toString();return e.channel.publish("console",{message:m}),!0},a.write=function(h){if(!h)return!0;var m=h.toString();return e.channel.publish("console",{message:m,stderr:!0}),!0};for(var c=new o.Console(s,a),l=["log","info","warn","error","dir","time","timeEnd","trace","assert"],u=function(h){var m=o[h];m&&(o[h]=function(){if(c[h])try{c[h].apply(c,arguments)}catch{}return m.apply(o,arguments)})},f=0,d=l;f<d.length;f++){var p=d[f];u(p)}return o};t.console={versionSpecifier:">= 4.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("console",t.console),require("console")}t.enable=i}),Ale=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongoCore=void 0;var e=lr(),r=function(i){var o=i.Server.prototype.connect;return i.Server.prototype.connect=function(){var s=o.apply(this,arguments),a=this.s.pool.write;this.s.pool.write=function(){var l=typeof arguments[1]=="function"?1:2;return typeof arguments[l]=="function"&&(arguments[l]=e.channel.bindToContext(arguments[l])),a.apply(this,arguments)};var c=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=e.channel.bindToContext(arguments[1])),c.apply(this,arguments)},s},i};t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}t.enable=n}),Dle=L(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(c){for(var l,u=1,f=arguments.length;u<f;u++){l=arguments[u];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(c[d]=l[d])}return c},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mongo330=t.mongo3=t.mongo2=void 0;var r=lr(),n=function(c){var l=c.instrument({operationIdGenerator:{next:function(){return r.channel.bindToContext(function(f){return f()})}}}),u={};return l.on("started",function(f){u[f.requestId]||(u[f.requestId]=e(e({},f),{time:new Date}))}),l.on("succeeded",function(f){var d=u[f.requestId];d&&delete u[f.requestId],typeof f.operationId=="function"?f.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!0})}):r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!0})}),l.on("failed",function(f){var d=u[f.requestId];d&&delete u[f.requestId],typeof f.operationId=="function"?f.operationId(function(){return r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!1})}):r.channel.publish("mongodb",{startedData:d,event:f,succeeded:!1})}),c},i=function(c){var l=c.instrument(),u={},f={};return l.on("started",function(d){u[d.requestId]||(f[d.requestId]=r.channel.bindToContext(function(p){return p()}),u[d.requestId]=e(e({},d),{time:new Date}))}),l.on("succeeded",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),delete f[d.requestId])}),l.on("failed",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),delete f[d.requestId])}),c},o=function(c){var l=c.Server.prototype.connect;return c.Server.prototype.connect=function(){var u=l.apply(this,arguments),f=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var p=typeof arguments[1]=="function"?1:2;return typeof arguments[p]=="function"&&(arguments[p]=r.channel.bindToContext(arguments[p])),f.apply(this,arguments)};var d=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=r.channel.bindToContext(arguments[1])),d.apply(this,arguments)},u},c},s=function(c){o(c);var l=c.instrument(),u={},f={};return l.on("started",function(d){u[d.requestId]||(f[d.requestId]=r.channel.bindToContext(function(p){return p()}),u[d.requestId]=d)}),l.on("succeeded",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!0})}),delete f[d.requestId])}),l.on("failed",function(d){var p=u[d.requestId];p&&delete u[d.requestId],typeof d=="object"&&typeof f[d.requestId]=="function"&&(f[d.requestId](function(){return r.channel.publish("mongodb",{startedData:p,event:d,succeeded:!1})}),delete f[d.requestId])}),c};t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:n},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:i},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:s};function a(){r.channel.registerMonkeyPatch("mongodb",t.mongo2),r.channel.registerMonkeyPatch("mongodb",t.mongo3),r.channel.registerMonkeyPatch("mongodb",t.mongo330)}t.enable=a}),Rle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.mysql=void 0;var e=lr(),r=require("path"),n=function(o,s){var a=function(p,h){return function(m,g){var v=p[m];v&&(p[m]=function(){for(var y=arguments.length-1,C=arguments.length-1;C>=0;--C)if(typeof arguments[C]=="function"){y=C;break}else if(typeof arguments[C]<"u")break;var b=arguments[y],_={result:null,startTime:null,startDate:null};typeof b=="function"&&(g?(_.startTime=process.hrtime(),_.startDate=new Date,arguments[y]=e.channel.bindToContext(g(_,b))):arguments[y]=e.channel.bindToContext(b));var P=v.apply(this,arguments);return _.result=P,P})}},c=function(p,h){return a(p.prototype,h+".prototype")},l=["connect","changeUser","ping","statistics","end"],u=require(r.dirname(s)+"/lib/Connection");l.forEach(function(p){return c(u,"Connection")(p)}),a(u,"Connection")("createQuery",function(p,h){return function(m){var g=process.hrtime(p.startTime),v=g[0]*1e3+g[1]/1e6|0;e.channel.publish("mysql",{query:p.result,callbackArgs:arguments,err:m,duration:v,time:p.startDate}),h.apply(this,arguments)}});var f=["_enqueueCallback"],d=require(r.dirname(s)+"/lib/Pool");return f.forEach(function(p){return c(d,"Pool")(p)}),o};t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:n};function i(){e.channel.registerMonkeyPatch("mysql",t.mysql)}t.enable=i}),Ole=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgresPool1=void 0;var e=lr();function r(i){var o=i.prototype.connect;return i.prototype.connect=function(s){return s&&(arguments[0]=e.channel.bindToContext(s)),o.apply(this,arguments)},i}t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}t.enable=n}),Nle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.postgres7=t.postgres6=void 0;var e=lr(),r=require("events");function n(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,f,d){var p={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},h=process.hrtime(),m;function g(v){v&&v[l]&&(v=v[l]);var y=e.channel.bindToContext(function(C,b){var _=process.hrtime(h);if(p.result=b&&{rowCount:b.rowCount,command:b.command},p.error=C,p.duration=Math.ceil(_[0]*1e3+_[1]/1e6),e.channel.publish("postgres",p),C){if(v)return v.apply(this,arguments);m&&m instanceof r.EventEmitter&&m.emit("error",C)}else v&&v.apply(this,arguments)});try{return Object.defineProperty(y,l,{value:v}),y}catch{return v}}try{typeof u=="string"?f instanceof Array?(p.query.preparable={text:u,args:f},d=g(d)):(p.query.text=u,d?d=g(d):f=g(f)):(typeof u.name=="string"?p.query.plan=u.name:u.values instanceof Array?p.query.preparable={text:u.text,args:u.values}:p.query.text=u.text,d?d=g(d):f?f=g(f):u.callback=g(u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=f,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,m=c.apply(this,arguments),m},s}function i(s,a){var c=s.Client.prototype.query,l="__diagnosticOriginalFunc";return s.Client.prototype.query=function(u,f,d){var p=this,h=!!d,m={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},g=process.hrtime(),v;function y(C){C&&C[l]&&(C=C[l]);var b=e.channel.bindToContext(function(_,P){var S=process.hrtime(g);if(m.result=P&&{rowCount:P.rowCount,command:P.command},m.error=_,m.duration=Math.ceil(S[0]*1e3+S[1]/1e6),e.channel.publish("postgres",m),_){if(C)return C.apply(this,arguments);v&&v instanceof r.EventEmitter&&v.emit("error",_)}else C&&C.apply(this,arguments)});try{return Object.defineProperty(b,l,{value:C}),b}catch{return C}}try{typeof u=="string"?f instanceof Array?(m.query.preparable={text:u,args:f},h=typeof d=="function",d=h?y(d):d):(m.query.text=u,d?(h=typeof d=="function",d=h?y(d):d):(h=typeof f=="function",f=h?y(f):f)):(typeof u.name=="string"?m.query.plan=u.name:u.values instanceof Array?m.query.preparable={text:u.text,args:u.values}:m.query.text=u.text,d?(h=typeof d=="function",d=y(d)):f?(h=typeof f=="function",f=h?y(f):f):(h=typeof u.callback=="function",u.callback=h?y(u.callback):u.callback))}catch{return c.apply(this,arguments)}return arguments[0]=u,arguments[1]=f,arguments[2]=d,arguments.length=arguments.length>3?arguments.length:3,v=c.apply(this,arguments),h?v:v.then(function(C){return y()(void 0,C),new p._Promise(function(b,_){b(C)})}).catch(function(C){return y()(C,void 0),new p._Promise(function(b,_){_(C)})})},s}t.postgres6={versionSpecifier:"6.*",patch:n},t.postgres7={versionSpecifier:">=7.* <=8.*",patch:i};function o(){e.channel.registerMonkeyPatch("pg",t.postgres6),e.channel.registerMonkeyPatch("pg",t.postgres7)}t.enable=o}),Lle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.redis=void 0;var e=lr(),r=function(i){var o=i.RedisClient.prototype.internal_send_command;return i.RedisClient.prototype.internal_send_command=function(s){if(s){var a=s.callback;if(!a||!a.pubsubBound){var c=this.address,l=process.hrtime(),u=new Date;s.callback=e.channel.bindToContext(function(f,d){var p=process.hrtime(l),h=p[0]*1e3+p[1]/1e6|0;e.channel.publish("redis",{duration:h,address:c,commandObj:s,err:f,result:d,time:u}),typeof a=="function"&&a.apply(this,arguments)}),s.callback.pubsubBound=!0}}return o.call(this,s)},i};t.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:r};function n(){e.channel.registerMonkeyPatch("redis",t.redis)}t.enable=n}),Fle=L(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(o){for(var s,a=1,c=arguments.length;a<c;a++){s=arguments[a];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(o[l]=s[l])}return o},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=void 0;var r=lr(),n=function(o){var s=o.Connection.prototype.makeRequest;return o.Connection.prototype.makeRequest=function(){function a(l){var u=process.hrtime(),f={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return r.channel.bindToContext(function(d,p,h){var m=process.hrtime(u);f=e(e({},f),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!d&&{rowCount:p,rows:h},query:{text:this.parametersByName.statement.value},error:d,duration:Math.ceil(m[0]*1e3+m[1]/1e6)}),r.channel.publish("tedious",f),l.call(this,d,p,h)})}var c=arguments[0];arguments[0].callback=a(c.callback),s.apply(this,arguments)},o};t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:n};function i(){r.channel.registerMonkeyPatch("tedious",t.tedious)}t.enable=i}),Mle=L(t=>{"use strict";var e=t&&t.__extends||function(){var a=function(c,l){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var d in f)Object.prototype.hasOwnProperty.call(f,d)&&(u[d]=f[d])},a(c,l)};return function(c,l){a(c,l);function u(){this.constructor=c}c.prototype=l===null?Object.create(l):(u.prototype=l.prototype,new u)}}(),r=t&&t.__rest||function(a,c){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&c.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,u=Object.getOwnPropertySymbols(a);f<u.length;f++)c.indexOf(u[f])<0&&Object.prototype.propertyIsEnumerable.call(a,u[f])&&(l[u[f]]=a[u[f]]);return l};Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.winston2=t.winston3=void 0;var n=lr(),i=function(a){var c=a.Logger.prototype.log,l,u=function(f,d,p){var h;return l===a.config.npm.levels?h="npm":l===a.config.syslog.levels?h="syslog":h="unknown",n.channel.publish("winston",{level:f,message:d,meta:p,levelKind:h}),d};return a.Logger.prototype.log=function(){return l=this.levels,!this.filters||this.filters.length===0?this.filters=[u]:this.filters[this.filters.length-1]!==u&&(this.filters=this.filters.filter(function(f){return f!==u}),this.filters.push(u)),c.apply(this,arguments)},a},o=function(a){var c=function(p,h){var m;return p.config.npm.levels[h]!=null?m="npm":p.config.syslog.levels[h]!=null?m="syslog":m="unknown",m},l=function(p){e(h,p);function h(m,g){var v=p.call(this,g)||this;return v.winston=m,v}return h.prototype.log=function(m,g){var v=m.message,y=m.level,C=m.meta,b=r(m,["message","level","meta"]);y=typeof Symbol.for=="function"?m[Symbol.for("level")]:y,v=m instanceof Error?m:v;var _=c(this.winston,y);C=C||{};for(var P in b)b.hasOwnProperty(P)&&(C[P]=b[P]);n.channel.publish("winston",{message:v,level:y,levelKind:_,meta:C}),g()},h}(a.Transport);function u(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);this.add(new l(a,{level:h}))}var f=a.createLogger;a.createLogger=function(){var p=arguments[0].levels||a.config.npm.levels,h;for(var m in p)p.hasOwnProperty(m)&&(h=h===void 0||p[m]>p[h]?m:h);var g=f.apply(this,arguments);g.add(new l(a,{level:h}));var v=g.configure;return g.configure=function(){v.apply(this,arguments),u.apply(this,arguments)},g};var d=a.configure;return a.configure=function(){d.apply(this,arguments),u.apply(this,arguments)},a.add(new l(a)),a};t.winston3={versionSpecifier:"3.x",patch:o},t.winston2={versionSpecifier:"2.x",patch:i};function s(){n.channel.registerMonkeyPatch("winston",t.winston2),n.channel.registerMonkeyPatch("winston",t.winston3)}t.enable=s}),qle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.tedious=t.pgPool=t.pg=t.winston=t.redis=t.mysql=t.mongodb=t.mongodbCore=t.console=t.bunyan=t.azuresdk=void 0;var e=kle();t.azuresdk=e;var r=Ile();t.bunyan=r;var n=Tle();t.console=n;var i=Ale();t.mongodbCore=i;var o=Dle();t.mongodb=o;var s=Rle();t.mysql=s;var a=Ole();t.pgPool=a;var c=Nle();t.pg=c;var l=Lle();t.redis=l;var u=Fle();t.tedious=u;var f=Mle();t.winston=f;function d(){r.enable(),n.enable(),i.enable(),o.enable(),s.enable(),c.enable(),a.enable(),l.enable(),f.enable(),e.enable(),u.enable()}t.enable=d}),UP=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerContextPreservation=t.IsInitialized=void 0;var e=EH(),r=Lr();t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var n="DiagnosticChannel";if(t.IsInitialized){i=qle(),o=process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"",s=o.split(","),a={bunyan:i.bunyan,console:i.console,mongodb:i.mongodb,mongodbCore:i.mongodbCore,mysql:i.mysql,redis:i.redis,pg:i.pg,pgPool:i.pgPool,winston:i.winston,azuresdk:i.azuresdk};for(c in a)s.indexOf(c)===-1&&(a[c].enable(),r.info(n,"Subscribed to "+c+" events"));s.length>0&&r.info(n,"Some modules will not be patched",s)}else r.info(n,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var i,o,s,a,c;function l(u){if(t.IsInitialized){var f=lr();f.channel.addContextPreservation(u),f.channel.spanContextPropagator=e.AsyncScopeManager}}t.registerContextPreservation=l}),_h=L((t,e)=>{"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}}),Ei=L((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(u){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)},n=require("http"),i=require("https"),o=require("url"),s=require("constants"),a=Lr(),c=_h(),l=function(){function u(){}return u.getCookie=function(f,d){var p="";if(f&&f.length&&typeof d=="string")for(var h=f+"=",m=d.split(";"),g=0;g<m.length;g++){var d=m[g];if(d=u.trim(d),d&&d.indexOf(h)===0){p=d.substring(h.length,m[g].length);break}}return p},u.trim=function(f){return typeof f=="string"?f.replace(/^\s+|\s+$/g,""):""},u.int32ArrayToBase64=function(f){var d=function(v,y){return String.fromCharCode(v>>y&255)},p=function(v){return d(v,24)+d(v,16)+d(v,8)+d(v,0)},h=f.map(p).join(""),m=Buffer.from?Buffer.from(h,"binary"):new Buffer(h,"binary"),g=m.toString("base64");return g.substr(0,g.indexOf("="))},u.random32=function(){return 4294967296*Math.random()|0},u.randomu32=function(){return u.random32()+2147483648},u.w3cTraceId=function(){for(var f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],d="",p,h=0;h<4;h++)p=u.random32(),d+=f[p&15]+f[p>>4&15]+f[p>>8&15]+f[p>>12&15]+f[p>>16&15]+f[p>>20&15]+f[p>>24&15]+f[p>>28&15];var m=f[8+Math.random()*4|0];return d.substr(0,8)+d.substr(9,4)+"4"+d.substr(13,3)+m+d.substr(16,3)+d.substr(19,12)},u.w3cSpanId=function(){return u.w3cTraceId().substring(16)},u.isValidW3CId=function(f){return f.length===32&&f!=="00000000000000000000000000000000"},u.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},u.isError=function(f){return f instanceof Error},u.isPrimitive=function(f){var d=typeof f;return d==="string"||d==="number"||d==="boolean"},u.isDate=function(f){return Object.prototype.toString.call(f)==="[object Date]"},u.msToTimeSpan=function(f){(isNaN(f)||f<0)&&(f=0);var d=(f/1e3%60).toFixed(7).replace(/0{0,4}$/,""),p=""+Math.floor(f/(1e3*60))%60,h=""+Math.floor(f/(1e3*60*60))%24,m=Math.floor(f/(1e3*60*60*24));d=d.indexOf(".")<2?"0"+d:d,p=p.length<2?"0"+p:p,h=h.length<2?"0"+h:h;var g=m>0?m+".":"";return g+h+":"+p+":"+d},u.extractError=function(f){var d=f;return{message:f.message,code:d.code||d.id||""}},u.extractObject=function(f){return f instanceof Error?u.extractError(f):typeof f.toJSON=="function"?f.toJSON():f},u.validateStringMap=function(f){if(typeof f!="object"){a.info("Invalid properties dropped from payload");return}var d={};for(var p in f){var h="",m=f[p],g=typeof m;if(u.isPrimitive(m))h=m.toString();else if(m===null||g==="undefined")h="";else if(g==="function"){a.info("key: "+p+" was function; will not serialize");continue}else{var v=u.isArray(m)?m:u.extractObject(m);try{u.isPrimitive(v)?h=v:h=JSON.stringify(v)}catch(y){h=m.constructor.name.toString()+" (Error: "+y.message+")",a.info("key: "+p+", could not be serialized")}}d[p]=h.substring(0,u.MAX_PROPERTY_LENGTH)}return d},u.canIncludeCorrelationHeader=function(f,d){var p=f&&f.config&&f.config.correlationHeaderExcludedDomains;if(!p||p.length==0||!d)return!0;for(var h=0;h<p.length;h++){var m=new RegExp(p[h].replace(/\./g,".").replace(/\*/g,".*"));if(m.test(o.parse(d).hostname))return!1}return!0},u.getCorrelationContextTarget=function(f,d){var p=f.headers&&f.headers[c.requestContextHeader];if(p)for(var h=p.split(","),m=0;m<h.length;++m){var g=h[m].split("=");if(g.length==2&&g[0]==d)return g[1]}},u.makeRequest=function(f,d,p,h){d&&d.indexOf("//")===0&&(d="https:"+d);var m=o.parse(d),g=r(r({},p),{host:m.hostname,port:m.port,path:m.pathname}),v=void 0;if(m.protocol==="https:"&&(v=f.proxyHttpsUrl||void 0),m.protocol==="http:"&&(v=f.proxyHttpUrl||void 0),v){v.indexOf("//")===0&&(v="http:"+v);var y=o.parse(v);y.protocol==="https:"?(a.info("Proxies that use HTTPS are not supported"),v=void 0):g=r(r({},g),{host:y.hostname,port:y.port||"80",path:d,headers:r(r({},g.headers),{Host:m.hostname})})}var C=m.protocol==="https:"&&!v;return C&&f.httpsAgent!==void 0?g.agent=f.httpsAgent:!C&&f.httpAgent!==void 0?g.agent=f.httpAgent:C&&(g.agent=u.tlsRestrictedAgent),C?i.request(g,h):n.request(g,h)},u.safeIncludeCorrelationHeader=function(f,d,p){var h;if(typeof p=="string")h=p;else if(p instanceof Array)h=p.join(",");else if(p&&typeof p.toString=="function")try{h=p.toString()}catch(m){a.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",m,p)}h?u.addCorrelationIdHeaderFromString(f,d,h):d.setHeader(c.requestContextHeader,c.requestContextSourceKey+"="+f.config.correlationId)},u.dumpObj=function(f){var d=Object.prototype.toString.call(f),p="";return d==="[object Error]"?p="{ stack: '"+f.stack+"', message: '"+f.message+"', name: '"+f.name+"'":p=JSON.stringify(f),d+p},u.addCorrelationIdHeaderFromString=function(f,d,p){var h=p.split(","),m=c.requestContextSourceKey+"=",g=h.some(function(v){return v.substring(0,m.length)===m});g||d.setHeader(c.requestContextHeader,p+","+c.requestContextSourceKey+"="+f.config.correlationId)},u.MAX_PROPERTY_LENGTH=8192,u.tlsRestrictedAgent=new i.Agent({keepAlive:!0,maxSockets:25,secureOptions:s.SSL_OP_NO_SSLv2|s.SSL_OP_NO_SSLv3|s.SSL_OP_NO_TLSv1|s.SSL_OP_NO_TLSv1_1}),u}();e.exports=l}),Ef=L((t,e)=>{"use strict";var r=Ei(),n=Lr(),i=function(){function o(){}return o.queryCorrelationId=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId";if(o.completedLookups.hasOwnProperty(c)){a(o.completedLookups[c]);return}else if(o.pendingLookups[c]){o.pendingLookups[c].push(a);return}o.pendingLookups[c]=[a];var l=function(){if(o.pendingLookups[c]){var u={method:"GET",disableAppInsightsAutoCollection:!0};n.info(o.TAG,u);var f=r.makeRequest(s,c,u,function(d){if(d.statusCode===200){var p="";d.setEncoding("utf-8"),d.on("data",function(h){p+=h}),d.on("end",function(){n.info(o.TAG,p);var h=o.correlationIdPrefix+p;o.completedLookups[c]=h,o.pendingLookups[c]&&o.pendingLookups[c].forEach(function(m){return m(h)}),delete o.pendingLookups[c]})}else d.statusCode>=400&&d.statusCode<500?(o.completedLookups[c]=void 0,delete o.pendingLookups[c]):setTimeout(l,s.correlationIdRetryIntervalMs)});f&&(f.on("error",function(d){n.warn(o.TAG,d)}),f.end())}};setTimeout(l,0)},o.cancelCorrelationIdQuery=function(s,a){var c=s.profileQueryEndpoint+"/api/profiles/"+s.instrumentationKey+"/appId",l=o.pendingLookups[c];l&&(o.pendingLookups[c]=l.filter(function(u){return u!=a}),o.pendingLookups[c].length==0&&delete o.pendingLookups[c])},o.generateRequestId=function(s){if(s){s=s[0]=="|"?s:"|"+s,s[s.length-1]!=="."&&(s+=".");var a=(o.currentRootId++).toString(16);return o.appendSuffix(s,a,"_")}else return o.generateRootId()},o.getRootId=function(s){var a=s.indexOf(".");a<0&&(a=s.length);var c=s[0]==="|"?1:0;return s.substring(c,a)},o.generateRootId=function(){return"|"+r.w3cTraceId()+"."},o.appendSuffix=function(s,a,c){if(s.length+a.length<o.requestIdMaxLength)return s+a+c;var l=o.requestIdMaxLength-9;if(s.length>l)for(;l>1;--l){var u=s[l-1];if(u==="."||u==="_")break}if(l<=1)return o.generateRootId();for(a=r.randomu32().toString(16);a.length<8;)a="0"+a;return s.substring(0,l)+a+"#"},o.TAG="CorrelationIdManager",o.correlationIdPrefix="cid-v1:",o.w3cEnabled=!0,o.pendingLookups={},o.completedLookups={},o.requestIdMaxLength=1024,o.currentRootId=r.randomu32(),o}();e.exports=i}),Ww=L((t,e)=>{"use strict";var r=Ei(),n=Ef(),i=function(){function o(s,a){if(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.version=o.DEFAULT_VERSION,s&&typeof s=="string")if(s.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var c=s.trim().split("-"),l=c.length;l>=4?(this.version=c[0],this.traceId=c[1],this.spanId=c[2],this.traceFlag=c[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),this.version==="00"&&l!==4&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=o.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=o.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=o.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),o.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),o.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(a){this.parentId=a.slice();var u=n.getRootId(a);o.isValidTraceId(u)||(this.legacyRootId=u,u=r.w3cTraceId()),a.indexOf("|")!==-1&&(a=a.substring(1+a.substring(0,a.length-1).lastIndexOf("."),a.length-1)),this.traceId=u,this.spanId=a}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return o.isValidTraceId=function(s){return s.match(/^[0-9a-f]{32}$/)&&s!=="00000000000000000000000000000000"},o.isValidSpanId=function(s){return s.match(/^[0-9a-f]{16}$/)&&s!=="0000000000000000"},o.formatOpenTelemetryTraceFlags=function(s){var a="0"+s.toString(16);return a.substring(a.length-2)},o.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},o.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},o.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},o.DEFAULT_TRACE_FLAG="01",o.DEFAULT_VERSION="00",o}();e.exports=i}),JH=L((t,e)=>{"use strict";var r=function(){function n(i){this.fieldmap=[],i&&(this.fieldmap=this.parseHeader(i))}return n.prototype.toString=function(){var i=this.fieldmap;return!i||i.length==0?null:i.join(", ")},n.validateKeyChars=function(i){var o=i.split("@");if(o.length==2){var s=o[0].trim(),a=o[1].trim(),c=Boolean(s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),l=Boolean(a.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return c&&l}else if(o.length==1)return Boolean(i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/));return!1},n.prototype.parseHeader=function(i){var o=[],s={},a=i.split(",");if(a.length>32)return null;for(var c=0,l=a;c<l.length;c++){var u=l[c],f=u.trim();if(f.length!==0){var d=f.split("=");if(d.length!==2||!n.validateKeyChars(d[0])||s[d[0]])return null;s[d[0]]=!0,o.push(f)}}return o},n.strict=!0,n}();e.exports=r}),wa=L((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),jle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),QH=L((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),$le=L((t,e)=>{"use strict";var r=function(){function n(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return n}();e.exports=r}),Ule=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=QH(),i=function(o){r(s,o);function s(){return o.call(this)||this}return s}(n);e.exports=i}),XH=L((t,e)=>{"use strict";var r;(function(n){n[n.Measurement=0]="Measurement",n[n.Aggregation=1]="Aggregation"})(r||(r={})),e.exports=r}),Ble=L((t,e)=>{"use strict";var r=XH(),n=function(){function i(){this.kind=r.Measurement}return i}();e.exports=n}),Hle=L((t,e)=>{"use strict";var r=function(){function n(){this.ver=1,this.sampleRate=100,this.tags={}}return n}();e.exports=r}),ZH=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),Vle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.exceptions=[],a.properties={},a.measurements={},a}return s}(n);e.exports=i}),zle=L((t,e)=>{"use strict";var r=function(){function n(){this.hasFullStack=!0,this.parsedStack=[]}return n}();e.exports=r}),Gle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a}return s}(n);e.exports=i}),Wle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.metrics=[],a.properties={},a}return s}(n);e.exports=i}),Kle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=ZH(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),Yle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.success=!0,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),Jle=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,l){c.__proto__=l}||function(c,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c[u]=l[u])},o(s,a)};return function(s,a){o(s,a);function c(){this.constructor=s}s.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}}(),n=wa(),i=function(o){r(s,o);function s(){var a=o.call(this)||this;return a.ver=2,a.properties={},a.measurements={},a}return s}(n);e.exports=i}),Qle=L((t,e)=>{"use strict";var r;(function(n){n[n.Verbose=0]="Verbose",n[n.Information=1]="Information",n[n.Warning=2]="Warning",n[n.Error=3]="Error",n[n.Critical=4]="Critical"})(r||(r={})),e.exports=r}),Xle=L((t,e)=>{"use strict";var r=function(){function n(){}return n}();e.exports=r}),eV=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=jle(),t.Base=QH(),t.ContextTagKeys=$le(),t.Data=Ule(),t.DataPoint=Ble(),t.DataPointType=XH(),t.Domain=wa(),t.Envelope=Hle(),t.EventData=ZH(),t.ExceptionData=Vle(),t.ExceptionDetails=zle(),t.MessageData=Gle(),t.MetricData=Wle(),t.PageViewData=Kle(),t.RemoteDependencyData=Yle(),t.RequestData=Jle(),t.SeverityLevel=Qle(),t.StackFrame=Xle()}),Zle=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.domainSupportsProperties=t.RemoteDependencyDataConstants=void 0;var e=eV(),r=function(){function i(){}return i.TYPE_HTTP="Http",i.TYPE_AI="Http (tracked component)",i}();t.RemoteDependencyDataConstants=r;function n(i){return"properties"in i||i instanceof e.EventData||i instanceof e.ExceptionData||i instanceof e.MessageData||i instanceof e.MetricData||i instanceof e.PageViewData||i instanceof e.RemoteDependencyData||i instanceof e.RequestData}t.domainSupportsProperties=n}),eue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),tue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),rue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),nue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),iue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),oue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),sue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),aue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),cue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),lue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),uue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),fue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),due=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryType=t.TelemetryTypeString=t.baseTypeToTelemetryType=t.telemetryTypeToBaseType=void 0;function e(i){switch(i){case n.Event:return"EventData";case n.Exception:return"ExceptionData";case n.Trace:return"MessageData";case n.Metric:return"MetricData";case n.Request:return"RequestData";case n.Dependency:return"RemoteDependencyData";case n.Availability:return"AvailabilityData";case n.PageView:return"PageViewData"}}t.telemetryTypeToBaseType=e;function r(i){switch(i){case"EventData":return n.Event;case"ExceptionData":return n.Exception;case"MessageData":return n.Trace;case"MetricData":return n.Metric;case"RequestData":return n.Request;case"RemoteDependencyData":return n.Dependency;case"AvailabilityData":return n.Availability;case"PageViewData":return n.PageView}}t.baseTypeToTelemetryType=r,t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var n;(function(i){i[i.Event=0]="Event",i[i.Exception=1]="Exception",i[i.Trace=2]="Trace",i[i.Metric=3]="Metric",i[i.Request=4]="Request",i[i.Dependency=5]="Dependency",i[i.Availability=6]="Availability",i[i.PageView=7]="PageView"})(n=t.TelemetryType||(t.TelemetryType={}))}),pue=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(eue(),t),r(tue(),t),r(rue(),t),r(nue(),t),r(iue(),t),r(oue(),t),r(sue(),t),r(aue(),t),r(cue(),t),r(lue(),t),r(uue(),t),r(fue(),t),r(due(),t)}),hue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),mue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),gue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),yue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),wue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Cue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),bue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),Eue=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(hue(),t),r(mue(),t),r(gue(),t),r(vue(),t),r(yue(),t),r(wue(),t),r(Cue(),t),r(bue(),t)}),bn=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(Zle(),t),r(eV(),t),r(pue(),t),r(Eue(),t)}),tV=L((t,e)=>{"use strict";var r=function(){function n(){}return n.prototype.getUrl=function(){return this.url},n.prototype.RequestParser=function(){this.startTime=+new Date},n.prototype._setStatus=function(i,o){var s=+new Date;this.duration=s-this.startTime,this.statusCode=i;var a=this.properties||{};if(o){if(typeof o=="string")a.error=o;else if(o instanceof Error)a.error=o.message;else if(typeof o=="object")for(var c in o)a[c]=o[c]&&o[c].toString&&o[c].toString()}this.properties=a},n.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},n}();e.exports=r}),rV=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var d=function(p,h){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,g){m.__proto__=g}||function(m,g){for(var v in g)Object.prototype.hasOwnProperty.call(g,v)&&(m[v]=g[v])},d(p,h)};return function(p,h){d(p,h);function m(){this.constructor=p}p.prototype=h===null?Object.create(h):(m.prototype=h.prototype,new m)}}(),n=require("url"),i=bn(),o=Ei(),s=_h(),a=tV(),c=Ef(),l=JH(),u=Ww(),f=function(d){r(p,d);function p(h,m){var g=d.call(this)||this;return h&&(g.method=h.method,g.url=g._getAbsoluteUrl(h),g.startTime=+new Date,g.socketRemoteAddress=h.socket&&h.socket.remoteAddress,g.parseHeaders(h,m),h.connection&&(g.connectionRemoteAddress=h.connection.remoteAddress,g.legacySocketRemoteAddress=h.connection.socket&&h.connection.socket.remoteAddress)),g}return p.prototype.onError=function(h,m){this._setStatus(void 0,h),m&&(this.duration=m)},p.prototype.onResponse=function(h,m){this._setStatus(h.statusCode,void 0),m&&(this.duration=m)},p.prototype.getRequestTelemetry=function(h){var m={id:this.requestId,name:this.method+" "+n.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(h&&h.time?m.time=h.time:this.startTime&&(m.time=new Date(this.startTime)),h){for(var g in h)m[g]||(m[g]=h[g]);if(h.properties)for(var g in h.properties)m.properties[g]=h.properties[g]}return m},p.prototype.getRequestTags=function(h){var m={};for(var g in h)m[g]=h[g];return m[p.keys.locationIp]=h[p.keys.locationIp]||this._getIp(),m[p.keys.sessionId]=h[p.keys.sessionId]||this._getId("ai_session"),m[p.keys.userId]=h[p.keys.userId]||this._getId("ai_user"),m[p.keys.userAuthUserId]=h[p.keys.userAuthUserId]||this._getId("ai_authUser"),m[p.keys.operationName]=this.getOperationName(h),m[p.keys.operationParentId]=this.getOperationParentId(h),m[p.keys.operationId]=this.getOperationId(h),m},p.prototype.getOperationId=function(h){return h[p.keys.operationId]||this.operationId},p.prototype.getOperationParentId=function(h){return h[p.keys.operationParentId]||this.parentId||this.getOperationId(h)},p.prototype.getOperationName=function(h){return h[p.keys.operationName]||this.method+" "+n.parse(this.url).pathname},p.prototype.getRequestId=function(){return this.requestId},p.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},p.prototype.getTraceparent=function(){return this.traceparent},p.prototype.getTracestate=function(){return this.tracestate},p.prototype.getLegacyRootId=function(){return this.legacyRootId},p.prototype._getAbsoluteUrl=function(h){if(!h.headers)return h.url;var m=h.connection?h.connection.encrypted:null,g=n.parse(h.url),v=g.pathname,y=g.search,C=m||h.headers["x-forwarded-proto"]=="https"?"https":"http",b=n.format({protocol:C,host:h.headers.host,pathname:v,search:y});return b},p.prototype._getIp=function(){var h=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,m=function(v){var y=h.exec(v);if(y)return y[0]},g=m(this.rawHeaders["x-forwarded-for"])||m(this.rawHeaders["x-client-ip"])||m(this.rawHeaders["x-real-ip"])||m(this.connectionRemoteAddress)||m(this.socketRemoteAddress)||m(this.legacySocketRemoteAddress);return!g&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(g="127.0.0.1"),g},p.prototype._getId=function(h){var m=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",g=p.parseId(o.getCookie(h,m));return g},p.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},p.prototype.parseHeaders=function(h,m){if(this.rawHeaders=h.headers||h.rawHeaders,this.userAgent=h.headers&&h.headers["user-agent"],this.sourceCorrelationId=o.getCorrelationContextTarget(h,s.requestContextSourceKey),h.headers){var g=h.headers[s.traceStateHeader]?h.headers[s.traceStateHeader].toString():null,v=h.headers[s.traceparentHeader]?h.headers[s.traceparentHeader].toString():null,y=h.headers[s.requestIdHeader]?h.headers[s.requestIdHeader].toString():null,C=h.headers[s.parentIdHeader]?h.headers[s.parentIdHeader].toString():null,b=h.headers[s.rootIdHeader]?h.headers[s.rootIdHeader].toString():null;this.correlationContextHeader=h.headers[s.correlationContextHeader]?h.headers[s.correlationContextHeader].toString():null,c.w3cEnabled&&(v||g)?(this.traceparent=new u(v?v.toString():null),this.tracestate=v&&g&&new l(g?g.toString():null),this.setBackCompatFromThisTraceContext()):y?c.w3cEnabled?(this.traceparent=new u(null,y),this.setBackCompatFromThisTraceContext()):(this.parentId=y,this.requestId=c.generateRequestId(this.parentId),this.operationId=c.getRootId(this.requestId)):c.w3cEnabled?(this.traceparent=new u,this.traceparent.parentId=C,this.traceparent.legacyRootId=b||C,this.setBackCompatFromThisTraceContext()):(this.parentId=C,this.requestId=c.generateRequestId(b||this.parentId),this.correlationContextHeader=null,this.operationId=c.getRootId(this.requestId)),m&&(this.requestId=m,this.operationId=c.getRootId(this.requestId))}},p.parseId=function(h){var m=h.split("|");return m.length>0?m[0]:""},p.keys=new i.ContextTagKeys,p}(a);e.exports=f}),_ue=L((t,e)=>{t=e.exports=ie;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,_="v?"+a[d]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var T=c++;a[T]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var N=c++;a[N]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var q=c++;a[q]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[N]+"$";var Y=c++;a[Y]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var re=c++;a[re]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[re]+"\\s+",s[j]=new RegExp(a[j],"g");var F="$1~",D=c++;a[D]="^"+a[re]+a[N]+"$";var $=c++;a[$]="^"+a[re]+a[q]+"$";var K=c++;a[K]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[K]+"\\s+",s[X]=new RegExp(a[X],"g");var Q="$1^",ve=c++;a[ve]="^"+a[K]+a[N]+"$";var Te=c++;a[Te]="^"+a[K]+a[q]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Re=c++;a[Re]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[N]+")",s[Ee]=new RegExp(a[Ee],"g");var _t="$1$2$3",kt=c++;a[kt]="^\\s*("+a[N]+")\\s+-\\s+("+a[N]+")\\s*$";var De=c++;a[De]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var Ie=c++;for(a[Ie]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;t.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[b];if(!k.test(w))return null;try{return new ie(w,E)}catch{return null}}t.valid=Gn;function Gn(w,E){var k=Xe(w,E);return k?k.version:null}t.clean=an;function an(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}t.SemVer=ie;function ie(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ie))return new ie(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(O){if(/^[0-9]+$/.test(O)){var M=+O;if(M>=0&&M<i)return M}return O}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ie.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ie.prototype.toString=function(){return this.version},ie.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ie||(w=new ie(w,this.options)),this.compareMain(w)||this.comparePre(w)},ie.prototype.compareMain=function(w){return w instanceof ie||(w=new ie(w,this.options)),ne(this.major,w.major)||ne(this.minor,w.minor)||ne(this.patch,w.patch)},ie.prototype.comparePre=function(w){if(w instanceof ie||(w=new ie(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],O=w.prerelease[E];if(r("prerelease compare",E,k,O),k===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(k===void 0)return-1;if(k!==O)return ne(k,O)}while(++E)},ie.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},t.inc=Wn;function Wn(w,E,k,O){typeof k=="string"&&(O=k,k=void 0);try{return new ie(w,k).inc(E,O).version}catch{return null}}t.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),O=Xe(E),M="";if(k.prerelease.length||O.prerelease.length){M="pre";var U="prerelease"}for(var z in k)if((z==="major"||z==="minor"||z==="patch")&&k[z]!==O[z])return M+z;return U}t.compareIdentifiers=ne;var ae=/^[0-9]+$/;function ne(w,E){var k=ae.test(w),O=ae.test(E);return k&&O&&(w=+w,E=+E),w===E?0:k&&!O?-1:O&&!k?1:w<E?-1:1}t.rcompareIdentifiers=fe;function fe(w,E){return ne(E,w)}t.major=me;function me(w,E){return new ie(w,E).major}t.minor=Be;function Be(w,E){return new ie(w,E).minor}t.patch=Me;function Me(w,E){return new ie(w,E).patch}t.compare=we;function we(w,E,k){return new ie(w,k).compare(new ie(E,k))}t.compareLoose=qe;function qe(w,E){return we(w,E,!0)}t.rcompare=_e;function _e(w,E,k){return we(E,w,k)}t.sort=G;function G(w,E){return w.sort(function(k,O){return t.compare(k,O,E)})}t.rsort=oe;function oe(w,E){return w.sort(function(k,O){return t.rcompare(k,O,E)})}t.gt=se;function se(w,E,k){return we(w,E,k)>0}t.lt=de;function de(w,E,k){return we(w,E,k)<0}t.eq=be;function be(w,E,k){return we(w,E,k)===0}t.neq=Ae;function Ae(w,E,k){return we(w,E,k)!==0}t.gte=nt;function nt(w,E,k){return we(w,E,k)>=0}t.lte=Ze;function Ze(w,E,k){return we(w,E,k)<=0}t.cmp=ct;function ct(w,E,k,O){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,O);case"!=":return Ae(w,k,O);case">":return se(w,k,O);case">=":return nt(w,k,O);case"<":return de(w,k,O);case"<=":return Ze(w,k,O);default:throw new TypeError("Invalid operator: "+E)}}t.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===qt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var qt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Re],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ie(k[2],this.options.loose):this.semver=qt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===qt?!0:(typeof w=="string"&&(w=new ie(w,this.options)),ct(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),jr(w.semver,k,E);var O=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),M=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,z=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ct(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ct(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return O||M||U&&z||le||ce},t.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[De]:s[kt];w=w.replace(k,$a),r("hyphen replace",w),w=w.replace(s[Ee],_t),r("comparator trim",w,s[Ee]),w=w.replace(s[j],F),w=w.replace(s[X],Q),w=w.split(/\s+/).join(" ");var O=E?s[Se]:s[Re],M=w.split(" ").map(function(U){return Ii(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(M=M.filter(function(U){return!!U.match(O)})),M=M.map(function(U){return new Ue(U,this.options)},this),M},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(O){return w.set.some(function(M){return M.every(function(U){return O.intersects(U,E)})})})})},t.toComparators=xs;function xs(w,E){return new ye(w,E).set.map(function(k){return k.map(function(O){return O.value}).join(" ").trim().split(" ")})}function Ii(w,E){return r("comp",w,E),w=Fa(w,E),r("caret",w),w=Pn(w,E),r("tildes",w),w=qa(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function Pn(w,E){return w.trim().split(/\s+/).map(function(k){return La(k,E)}).join(" ")}function La(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(O,M,U,z,le){r("tilde",w,O,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0"):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Fa(w,E){return w.trim().split(/\s+/).map(function(k){return Ma(k,E)}).join(" ")}function Ma(w,E){r("caret",w,E);var k=E.loose?s[Te]:s[ve];return w.replace(k,function(O,M,U,z,le){r("caret",w,O,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?M==="0"?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+".0 <"+(+M+1)+".0.0":le?(r("replaceCaret pr",le),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+"-"+le+" <"+(+M+1)+".0.0"):(r("no pr"),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+" <"+(+M+1)+".0.0"),r("caret return",ce),ce})}function qa(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return ja(k,E)}).join(" ")}function ja(w,E){w=w.trim();var k=E.loose?s[Y]:s[J];return w.replace(k,function(O,M,U,z,le,ce){r("xRange",w,O,M,U,z,le,ce);var lt=He(U),et=lt||He(z),Ye=et||He(le),Ke=Ye;return M==="="&&Ke&&(M=""),lt?M===">"||M==="<"?O="<0.0.0":O="*":M&&Ke?(et&&(z=0),le=0,M===">"?(M=">=",et?(U=+U+1,z=0,le=0):(z=+z+1,le=0)):M==="<="&&(M="<",et?U=+U+1:z=+z+1),O=M+U+"."+z+"."+le):et?O=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(O=">="+U+"."+z+".0 <"+U+"."+(+z+1)+".0"),r("xRange return",O),O})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Ie],"")}function $a(w,E,k,O,M,U,z,le,ce,lt,et,Ye,Ke){return He(k)?E="":He(O)?E=">="+k+".0.0":He(M)?E=">="+k+"."+O+".0":E=">="+E,He(ce)?le="":He(lt)?le="<"+(+ce+1)+".0.0":He(et)?le="<"+ce+"."+(+lt+1)+".0":Ye?le="<="+ce+"."+lt+"."+et+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ie(w,this.options));for(var E=0;E<this.set.length;E++)if(Ua(this.set[E],w,this.options))return!0;return!1};function Ua(w,E,k){for(var O=0;O<w.length;O++)if(!w[O].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(O=0;O<w.length;O++)if(r(w[O].semver),w[O].semver!==qt&&w[O].semver.prerelease.length>0){var M=w[O].semver;if(M.major===E.major&&M.minor===E.minor&&M.patch===E.patch)return!0}return!1}return!0}t.satisfies=jr;function jr(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}t.maxSatisfying=Ba;function Ba(w,E,k){var O=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!O||M.compare(z)===-1)&&(O=z,M=new ie(O,k))}),O}t.minSatisfying=Ha;function Ha(w,E,k){var O=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!O||M.compare(z)===1)&&(O=z,M=new ie(O,k))}),O}t.minVersion=Kn;function Kn(w,E){w=new ye(w,E);var k=new ie("0.0.0");if(w.test(k)||(k=new ie("0.0.0-0"),w.test(k)))return k;k=null;for(var O=0;O<w.set.length;++O){var M=w.set[O];M.forEach(function(U){var z=new ie(U.semver.version);switch(U.operator){case">":z.prerelease.length===0?z.patch++:z.prerelease.push(0),z.raw=z.format();case"":case">=":(!k||se(k,z))&&(k=z);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}t.validRange=Va;function Va(w,E){try{return new ye(w,E).range||"*"}catch{return null}}t.ltr=za;function za(w,E,k){return kn(w,E,"<",k)}t.gtr=Ga;function Ga(w,E,k){return kn(w,E,">",k)}t.outside=kn;function kn(w,E,k,O){w=new ie(w,O),E=new ye(E,O);var M,U,z,le,ce;switch(k){case">":M=se,U=Ze,z=de,le=">",ce=">=";break;case"<":M=de,U=nt,z=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,O))return!1;for(var lt=0;lt<E.set.length;++lt){var et=E.set[lt],Ye=null,Ke=null;if(et.forEach(function(xt){xt.semver===qt&&(xt=new Ue(">=0.0.0")),Ye=Ye||xt,Ke=Ke||xt,M(xt.semver,Ye.semver,O)?Ye=xt:z(xt.semver,Ke.semver,O)&&(Ke=xt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&z(w,Ke.semver))return!1}return!0}t.prerelease=Wa;function Wa(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}t.intersects=Yn;function Yn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}t.coerce=Ka;function Ka(w){if(w instanceof ie)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),BP=L((t,e)=>{"use strict";function r(u){return typeof u=="function"}var n=console.error.bind(console);function i(u,f,d){var p=!!u[f]&&u.propertyIsEnumerable(f);Object.defineProperty(u,f,{configurable:!0,enumerable:p,writable:!0,value:d})}function o(u){u&&u.logger&&(r(u.logger)?n=u.logger:n("new logger isn't a function, not replacing"))}function s(u,f,d){if(!u||!u[f]){n("no original function "+f+" to wrap");return}if(!d){n("no wrapper function"),n(new Error().stack);return}if(!r(u[f])||!r(d)){n("original object and wrapper must be functions");return}var p=u[f],h=d(p,f);return i(h,"__original",p),i(h,"__unwrap",function(){u[f]===h&&i(u,f,p)}),i(h,"__wrapped",!0),i(u,f,h),h}function a(u,f,d){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(f&&Array.isArray(f))){n("must provide one or more functions to wrap on modules");return}u.forEach(function(p){f.forEach(function(h){s(p,h,d)})})}function c(u,f){if(!u||!u[f]){n("no function to unwrap."),n(new Error().stack);return}if(!u[f].__unwrap)n("no original to unwrap to -- has "+f+" already been unwrapped?");else return u[f].__unwrap()}function l(u,f){if(u)Array.isArray(u)||(u=[u]);else{n("must provide one or more modules to patch"),n(new Error().stack);return}if(!(f&&Array.isArray(f))){n("must provide one or more functions to unwrap on modules");return}u.forEach(function(d){f.forEach(function(p){c(d,p)})})}o.wrap=s,o.massWrap=a,o.unwrap=c,o.massUnwrap=l,e.exports=o}),HP=L((t,e)=>{"use strict";var r=BP(),n=r.wrap,i=r.unwrap,o="wrap@before";function s(f,d,p){var h=!!f[d]&&f.propertyIsEnumerable(d);Object.defineProperty(f,d,{configurable:!0,enumerable:h,writable:!0,value:p})}function a(f,d){for(var p=d.length,h=0;h<p;h++){var m=d[h],g=f[o];if(typeof g=="function")g(m);else if(Array.isArray(g))for(var v=g.length,y=0;y<v;y++)g[y](m)}}function c(f,d){var p;return p=f._events&&f._events[d],Array.isArray(p)||(p?p=[p]:p=[]),p}function l(f,d,p){var h=c(f,d),m=h.filter(function(g){return p.indexOf(g)===-1});m.length>0&&a(f,m)}function u(f,d){if(f){var p=f;if(typeof f=="function")p=d(f);else if(Array.isArray(f)){p=[];for(var h=0;h<f.length;h++)p[h]=d(f[h])}return p}}e.exports=function(f,d,p){if(!f||!f.on||!f.addListener||!f.removeListener||!f.emit)throw new Error("can only wrap real EEs");if(!d)throw new Error("must have function to run on listener addition");if(!p)throw new Error("must have function to wrap listeners when emitting");function h(g){return function(v,y){var C=c(this,v).slice();try{var b=g.call(this,v,y);return l(this,v,C),b}finally{this.on.__wrapped||n(this,"on",h),this.addListener.__wrapped||n(this,"addListener",h)}}}function m(g){return function(v){if(!this._events||!this._events[v])return g.apply(this,arguments);var y=this._events[v];function C(b){return function(){this._events[v]=y;try{return b.apply(this,arguments)}finally{y=this._events[v],this._events[v]=u(y,p)}}}n(this,"removeListener",C);try{return this._events[v]=u(y,p),g.apply(this,arguments)}finally{i(this,"removeListener"),this._events[v]=y}}}f[o]?typeof f[o]=="function"?s(f,o,[f[o],d]):Array.isArray(f[o])&&f[o].push(d):s(f,o,d),f.__wrapped||(n(f,"addListener",h),n(f,"on",h),n(f,"emit",m),s(f,"__unwrap",function(){i(f,"addListener"),i(f,"on"),i(f,"emit"),delete f[o],delete f.__wrapped}),s(f,"__wrapped",!0))}}),Sue=L((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=HP(),o=require("async_hooks"),s="cls@contexts",a="error@context",c=process.env.DEBUG_CLS_HOOKED,l=-1;e.exports={getNamespace:f,createNamespace:d,destroyNamespace:p,reset:h,ERROR_SYMBOL:a};function u(g){this.name=g,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}u.prototype.set=function(g,v){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[g]=v,c){let y=" ".repeat(this._indent<0?0:this._indent);m(y+"CONTEXT-SET KEY:"+g+"="+v+" in ns:"+this.name+" currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return v},u.prototype.get=function(g){if(!this.active){if(c){let v=o.currentId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${g}=undefined currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length}`)}return}if(c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(C+"CONTEXT-GETTING KEY:"+g+"="+this.active[g]+" ("+this.name+") currentUid:"+l+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),m(`${C}CONTEXT-GETTING KEY: (${this.name}) ${g}=${this.active[g]} currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[g]},u.prototype.createContext=function(){let g=Object.create(this.active?this.active:Object.prototype);if(g._ns_name=this.name,g.id=l,c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-CREATED Context: (${this.name}) currentUid:${l} asyncHooksCurrentId:${v} triggerId:${y} len:${this._set.length} context:${r.inspect(g,{showHidden:!0,depth:2,colors:!0})}`)}return g},u.prototype.run=function(g){let v=this.createContext();this.enter(v);try{if(c){let y=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${C} len:${this._set.length} context:${r.inspect(v)}`)}return g(v),v}catch(y){throw y&&(y[a]=v),y}finally{if(c){let y=o.triggerAsyncId(),C=o.executionAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-RUN END: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${C} len:${this._set.length} ${r.inspect(v)}`)}this.exit(v)}},u.prototype.runAndReturn=function(g){let v;return this.run(function(y){v=g(y)}),v},u.prototype.runPromise=function(g){let v=this.createContext();this.enter(v);let y=g(v);if(!y||!y.then||!y.catch)throw new Error("fn must return a promise.");return c&&m("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),y.then(C=>(c&&m("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C)).catch(C=>{throw C[a]=v,c&&m("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+l+" len:"+this._set.length+" "+r.inspect(v)),this.exit(v),C})},u.prototype.bind=function(g,v){v||(this.active?v=this.active:v=this.createContext());let y=this;return function(){y.enter(v);try{return g.apply(this,arguments)}catch(C){throw C&&(C[a]=v),C}finally{y.exit(v)}}},u.prototype.enter=function(g){if(n.ok(g,"context must be provided for entering"),c){let v=o.executionAsyncId(),y=o.triggerAsyncId(),C=" ".repeat(this._indent<0?0:this._indent);m(`${C}CONTEXT-ENTER: (${this.name}) currentUid:${l} triggerId:${y} asyncHooksCurrentId:${v} len:${this._set.length} ${r.inspect(g)}`)}this._set.push(this.active),this.active=g},u.prototype.exit=function(g){if(n.ok(g,"context must be provided for exiting"),c){let y=o.executionAsyncId(),C=o.triggerAsyncId(),b=" ".repeat(this._indent<0?0:this._indent);m(`${b}CONTEXT-EXIT: (${this.name}) currentUid:${l} triggerId:${C} asyncHooksCurrentId:${y} len:${this._set.length} ${r.inspect(g)}`)}if(this.active===g){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let v=this._set.lastIndexOf(g);v<0?(c&&m("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(g)),n.ok(v>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(g))):(n.ok(v,"can't remove top context"),this._set.splice(v,1))},u.prototype.bindEmitter=function(g){n.ok(g.on&&g.addListener&&g.emit,"can only bind real EEs");let v=this,y="context@"+this.name;function C(_){!_||(_[s]||(_[s]=Object.create(null)),_[s][y]={namespace:v,context:v.active})}function b(_){if(!(_&&_[s]))return _;let P=_,S=_[s];return Object.keys(S).forEach(function(x){let T=S[x];P=T.namespace.bind(P,T.context)}),P}i(g,C,b)},u.prototype.fromException=function(g){return g[a]};function f(g){return process.namespaces[g]}function d(g){n.ok(g,"namespace must be given a name."),c&&m(`NS-CREATING NAMESPACE (${g})`);let v=new u(g);return v.id=l,o.createHook({init(y,C,b,_){if(l=o.executionAsyncId(),v.active){if(v._contexts.set(y,v.active),c){let P=" ".repeat(v._indent<0?0:v._indent);m(`${P}INIT [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(l===0){let P=o.triggerAsyncId(),S=v._contexts.get(P);if(S){if(v._contexts.set(y,S),c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT USING CONTEXT FROM TRIGGERID [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${P} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}else if(c){let x=" ".repeat(v._indent<0?0:v._indent);m(`${x}INIT MISSING CONTEXT [${C}] (${g}) asyncId:${y} currentUid:${l} triggerId:${P} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}}if(c&&C==="PROMISE"){m(r.inspect(_,{showHidden:!0}));let P=_.parentId,S=" ".repeat(v._indent<0?0:v._indent);m(`${S}INIT RESOURCE-PROMISE [${C}] (${g}) parentId:${P} asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} resource:${_}`)}},before(y){l=o.executionAsyncId();let C;if(C=v._contexts.get(y)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`),v._indent+=2}v.enter(C)}else if(c){let b=o.triggerAsyncId(),_=" ".repeat(v._indent<0?0:v._indent);m(`${_}BEFORE MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${r.inspect(v._contexts,{showHidden:!0,depth:2,colors:!0})}`),v._indent+=2}},after(y){l=o.executionAsyncId();let C;if(C=v._contexts.get(y)||v._contexts.get(l),C){if(c){let b=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}v.exit(C)}else if(c){let b=o.triggerAsyncId();v._indent-=2;let _=" ".repeat(v._indent<0?0:v._indent);m(`${_}AFTER MISSING CONTEXT (${g}) asyncId:${y} currentUid:${l} triggerId:${b} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(C)}`)}},destroy(y){if(l=o.executionAsyncId(),c){let C=o.triggerAsyncId(),b=" ".repeat(v._indent<0?0:v._indent);m(`${b}DESTROY (${g}) currentUid:${l} asyncId:${y} triggerId:${C} active:${r.inspect(v.active,{showHidden:!0,depth:2,colors:!0})} context:${r.inspect(v._contexts.get(l))}`)}v._contexts.delete(y)}}).enable(),process.namespaces[g]=v,v}function p(g){let v=f(g);n.ok(v,`can't delete nonexistent namespace! "`+g+'"'),n.ok(v.id,"don't assign to process.namespaces directly! "+r.inspect(v)),process.namespaces[g]=null}function h(){process.namespaces&&Object.keys(process.namespaces).forEach(function(g){p(g)}),process.namespaces=Object.create(null)}process.namespaces={};function m(...g){c&&process._rawDebug(`${r.format(...g)}`)}}),xue=L((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=process.nextTick;process.nextTick=function(){if(!i.enabled)return o.apply(process,arguments);let s=new Array(arguments.length);for(let u=0;u<arguments.length;u++)s[u]=arguments[u];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let c=new r,l=--i.counter;return n.init.call(c,l,0,null,null),s[0]=function(){n.pre.call(c,l);let u=!0;try{a.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){n.post.call(c,l,!0),n.destroy.call(null,l)})}n.post.call(c,l,!1),n.destroy.call(null,l)},o.apply(process,s)}}}),Pue=L((t,e)=>{"use strict";function r(){}e.exports=function(){let n=this._hooks,i=this._state,o=global.Promise,s=o.prototype.then;o.prototype.then=u;function a(f,d,p,h){return typeof f!="function"?h?c(p):l(p):function(){n.pre.call(d,p);try{return f.apply(this,arguments)}finally{n.post.call(d,p,!1),n.destroy.call(null,p)}}}function c(f){return function(d){return n.destroy.call(null,f),d}}function l(f){return function(d){throw n.destroy.call(null,f),d}}function u(f,d){if(!i.enabled)return s.call(this,f,d);let p=new r,h=--i.counter;return n.init.call(p,h,0,null,null),s.call(this,a(f,p,h,!0),a(d,p,h,!1))}}}),kue=L((t,e)=>{"use strict";var r=require("timers");function n(){}function i(){}function o(){}var s=new Map,a=new Map,c=new Map,l=null,u=!1;e.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",n,s,!0),f(this._hooks,this._state,"setInterval","clearInterval",i,a,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",o,c,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate};function f(d,p,h,m,g,v,y){let C=r[h],b=r[m];r[h]=function(){if(!p.enabled)return C.apply(r,arguments);let _=new Array(arguments.length);for(let A=0;A<arguments.length;A++)_[A]=arguments[A];let P=_[0];if(typeof P!="function")throw new TypeError('"callback" argument must be a function');let S=new g,x=--p.counter,T;return d.init.call(S,x,0,null,null),_[0]=function(){l=T,d.pre.call(S,x);let A=!0;try{P.apply(this,arguments),A=!1}finally{A&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){d.post.call(S,x,!0),v.delete(T),d.destroy.call(null,x)})}d.post.call(S,x,!1),l=null,(y||u)&&(u=!1,v.delete(T),d.destroy.call(null,x))},T=C.apply(r,_),v.set(T,x),T},r[m]=function(_){if(l===_&&_!==null)u=!0;else if(v.has(_)){let P=v.get(_);v.delete(_),d.destroy.call(null,P)}b.apply(r,arguments)}}}),nV=L((t,e)=>{e.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}}),Iue=L((t,e)=>{"use strict";var r=process.binding("async_wrap"),n=r.Providers.TIMERWRAP,i={nextTick:xue(),promise:Pue(),timers:kue()},o=new Set;function s(){this.enabled=!1,this.counter=0}function a(){let u=this.initFns=[],f=this.preFns=[],d=this.postFns=[],p=this.destroyFns=[];this.init=function(h,m,g,v){if(m===n){o.add(h);return}for(let y of u)y(h,this,m,g,v)},this.pre=function(h){if(!o.has(h))for(let m of f)m(h,this)},this.post=function(h,m){if(!o.has(h))for(let g of d)g(h,this,m)},this.destroy=function(h){if(o.has(h)){o.delete(h);return}for(let m of p)m(h)}}a.prototype.add=function(u){u.init&&this.initFns.push(u.init),u.pre&&this.preFns.push(u.pre),u.post&&this.postFns.push(u.post),u.destroy&&this.destroyFns.push(u.destroy)};function c(u,f){let d=u.indexOf(f);d!==-1&&u.splice(d,1)}a.prototype.remove=function(u){u.init&&c(this.initFns,u.init),u.pre&&c(this.preFns,u.pre),u.post&&c(this.postFns,u.post),u.destroy&&c(this.destroyFns,u.destroy)};function l(){this._state=new s,this._hooks=new a,this.version=nV().version,this.providers=r.Providers;for(let u of Object.keys(i))i[u].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}e.exports=l,l.prototype.addHooks=function(u){this._hooks.add(u)},l.prototype.removeHooks=function(u){this._hooks.remove(u)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}}),iV=L((t,e)=>{e.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}}),Tue=L((t,e)=>{function r(n){try{return Error.prototype.toString.call(n)}catch(i){try{return"<error: "+i+">"}catch{return"<error>"}}}e.exports=function(n,i){var o=[];o.push(r(n));for(var s=0;s<i.length;s++){var a=i[s],c;try{c=a.toString()}catch(l){try{c="<error: "+l+">"}catch{c="<error>"}}o.push("    at "+c)}return o.join(`
`)}}),Aue=L((t,e)=>{var r=Tue();function n(){this.extend=new s,this.filter=new s,this.format=new a,this.version=iV().version}var i=!1;n.prototype.callSite=function f(d){d||(d={}),i=!0;var p={};Error.captureStackTrace(p,f);var h=p.stack;return i=!1,h=h.slice(d.slice||0),d.extend&&(h=this.extend._modify(p,h)),d.filter&&(h=this.filter._modify(p,h)),h};var o=new n;function s(){this._modifiers=[]}s.prototype._modify=function(f,d){for(var p=0,h=this._modifiers.length;p<h;p++)d=this._modifiers[p](f,d);return d},s.prototype.attach=function(f){this._modifiers.push(f)},s.prototype.deattach=function(f){var d=this._modifiers.indexOf(f);return d===-1?!1:(this._modifiers.splice(d,1),!0)};function a(){this._formater=r,this._previous=void 0}a.prototype.replace=function(f){f?this._formater=f:this.restore()},a.prototype.restore=function(){this._formater=r,this._previous=void 0},a.prototype._backup=function(){this._previous=this._formater},a.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&o.format.replace(Error.prepareStackTrace);var c=!1;function l(f,d){if(i)return d;if(c)return r(f,d);var p=d.concat();p=o.extend._modify(f,p),p=o.filter._modify(f,p),p=p.slice(0,Error.stackTraceLimit),Object.isExtensible(f)&&Object.getOwnPropertyDescriptor(f,"callSite")===void 0&&(f.callSite={original:d,mutated:p}),c=!0;var h=o.format._formater(f,p);return c=!1,h}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(f){f===l?o.format._roolback():(o.format._backup(),o.format.replace(f))}});function u(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:u,set:function(f){Object.defineProperty(this,"callSite",{value:f,writable:!0,configurable:!0})},configurable:!0}),e.exports=o}),oV=L((t,e)=>{if(global._stackChain)if(global._stackChain.version===iV().version)e.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else e.exports=global._stackChain=Aue()}),Due=L((t,e)=>{"use strict";var r=Iue();if(global._asyncHook)if(global._asyncHook.version===nV().version)e.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else oV().filter.attach(function(n,i){return i.filter(function(o){let s=o.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),e.exports=global._asyncHook=new r}),Rue=L((t,e)=>{"use strict";var r=require("util"),n=require("assert"),i=HP(),o=Due(),s="cls@contexts",a="error@context",c=[];for(let b in o.providers)c[o.providers[b]]=b;var l=process.env.DEBUG_CLS_HOOKED,u=-1;e.exports={getNamespace:d,createNamespace:p,destroyNamespace:h,reset:m,ERROR_SYMBOL:a};function f(b){this.name=b,this.active=null,this._set=[],this.id=null,this._contexts=new Map}f.prototype.set=function(b,_){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return l&&g("    SETTING KEY:"+b+"="+_+" in ns:"+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]=_,_},f.prototype.get=function(b){if(!this.active){l&&g("    GETTING KEY:"+b+"=undefined "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0));return}return l&&g("    GETTING KEY:"+b+"="+this.active[b]+" "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[b]},f.prototype.createContext=function(){l&&g("   CREATING Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let b=Object.create(this.active?this.active:Object.prototype);return b._ns_name=this.name,b.id=u,l&&g("   CREATED Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  context:"+r.inspect(b,!0,2,!0)),b},f.prototype.run=function(b){let _=this.createContext();this.enter(_);try{return l&&g(" BEFORE RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),b(_),_}catch(P){throw P&&(P[a]=_),P}finally{l&&g(" AFTER RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_)}},f.prototype.runAndReturn=function(b){var _;return this.run(function(P){_=b(P)}),_},f.prototype.runPromise=function(b){let _=this.createContext();this.enter(_);let P=b(_);if(!P||!P.then||!P.catch)throw new Error("fn must return a promise.");return l&&g(" BEFORE runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),P.then(S=>(l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),S)).catch(S=>{throw S[a]=_,l&&g(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(_)),this.exit(_),S})},f.prototype.bind=function(b,_){_||(this.active?_=this.active:_=this.createContext());let P=this;return function(){P.enter(_);try{return b.apply(this,arguments)}catch(S){throw S&&(S[a]=_),S}finally{P.exit(_)}}},f.prototype.enter=function(b){n.ok(b,"context must be provided for entering"),l&&g("  ENTER "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this._set.push(this.active),this.active=b},f.prototype.exit=function(b){if(n.ok(b,"context must be provided for exiting"),l&&g("  EXIT "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(b)),this.active===b){n.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let _=this._set.lastIndexOf(b);_<0?(l&&g("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(b)),n.ok(_>=0,`context not currently entered; can't exit. 
`+r.inspect(this)+`
`+r.inspect(b))):(n.ok(_,"can't remove top context"),this._set.splice(_,1))},f.prototype.bindEmitter=function(b){n.ok(b.on&&b.addListener&&b.emit,"can only bind real EEs");let _=this,P="context@"+this.name;function S(T){!T||(T[s]||(T[s]=Object.create(null)),T[s][P]={namespace:_,context:_.active})}function x(T){if(!(T&&T[s]))return T;let A=T,N=T[s];return Object.keys(N).forEach(function(q){let J=N[q];A=J.namespace.bind(A,J.context)}),A}i(b,S,x)},f.prototype.fromException=function(b){return b[a]};function d(b){return process.namespaces[b]}function p(b){n.ok(b,"namespace must be given a name."),l&&g("CREATING NAMESPACE "+b);let _=new f(b);return _.id=u,o.addHooks({init(P,S,x,T,A){u=P,T?(_._contexts.set(P,_._contexts.get(T)),l&&g("PARENTID: "+b+" uid:"+P+" parent:"+T+" provider:"+x)):_._contexts.set(u,_.active),l&&g("INIT "+b+" uid:"+P+" parent:"+T+" provider:"+c[x]+" active:"+r.inspect(_.active,!0))},pre(P,S){u=P;let x=_._contexts.get(P);x?(l&&g(" PRE "+b+" uid:"+P+" handle:"+v(S)+" context:"+r.inspect(x)),_.enter(x)):l&&g(" PRE MISSING CONTEXT "+b+" uid:"+P+" handle:"+v(S))},post(P,S){u=P;let x=_._contexts.get(P);x?(l&&g(" POST "+b+" uid:"+P+" handle:"+v(S)+" context:"+r.inspect(x)),_.exit(x)):l&&g(" POST MISSING CONTEXT "+b+" uid:"+P+" handle:"+v(S))},destroy(P){u=P,l&&g("DESTROY "+b+" uid:"+P+" context:"+r.inspect(_._contexts.get(u))+" active:"+r.inspect(_.active,!0)),_._contexts.delete(P)}}),process.namespaces[b]=_,_}function h(b){let _=d(b);n.ok(_,`can't delete nonexistent namespace! "`+b+'"'),n.ok(_.id,"don't assign to process.namespaces directly! "+r.inspect(_)),process.namespaces[b]=null}function m(){process.namespaces&&Object.keys(process.namespaces).forEach(function(b){h(b)}),process.namespaces=Object.create(null)}process.namespaces={},o._state&&!o._state.enabled&&o.enable();function g(b){process.env.DEBUG&&process._rawDebug(b)}function v(b){if(!b)return b;if(typeof b=="function")return b.name?b.name:(b.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(b.constructor&&b.constructor.name)return b.constructor.name}if(l){y=oV();for(C in y.filter._modifiers)y.filter.deattach(C)}var y,C}),Oue=L((t,e)=>{"use strict";var r=_ue();process&&r.gte(process.versions.node,"8.0.0")?e.exports=Sue():e.exports=Rue()}),Nue=L((t,e)=>{t=e.exports=ie;var r;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?r=function(){var w=Array.prototype.slice.call(arguments,0);w.unshift("SEMVER"),console.log.apply(console,w)}:r=function(){},t.SEMVER_SPEC_VERSION="2.0.0";var n=256,i=Number.MAX_SAFE_INTEGER||9007199254740991,o=16,s=t.re=[],a=t.src=[],c=0,l=c++;a[l]="0|[1-9]\\d*";var u=c++;a[u]="[0-9]+";var f=c++;a[f]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var d=c++;a[d]="("+a[l]+")\\.("+a[l]+")\\.("+a[l]+")";var p=c++;a[p]="("+a[u]+")\\.("+a[u]+")\\.("+a[u]+")";var h=c++;a[h]="(?:"+a[l]+"|"+a[f]+")";var m=c++;a[m]="(?:"+a[u]+"|"+a[f]+")";var g=c++;a[g]="(?:-("+a[h]+"(?:\\."+a[h]+")*))";var v=c++;a[v]="(?:-?("+a[m]+"(?:\\."+a[m]+")*))";var y=c++;a[y]="[0-9A-Za-z-]+";var C=c++;a[C]="(?:\\+("+a[y]+"(?:\\."+a[y]+")*))";var b=c++,_="v?"+a[d]+a[g]+"?"+a[C]+"?";a[b]="^"+_+"$";var P="[v=\\s]*"+a[p]+a[v]+"?"+a[C]+"?",S=c++;a[S]="^"+P+"$";var x=c++;a[x]="((?:<|>)?=?)";var T=c++;a[T]=a[u]+"|x|X|\\*";var A=c++;a[A]=a[l]+"|x|X|\\*";var N=c++;a[N]="[v=\\s]*("+a[A]+")(?:\\.("+a[A]+")(?:\\.("+a[A]+")(?:"+a[g]+")?"+a[C]+"?)?)?";var q=c++;a[q]="[v=\\s]*("+a[T]+")(?:\\.("+a[T]+")(?:\\.("+a[T]+")(?:"+a[v]+")?"+a[C]+"?)?)?";var J=c++;a[J]="^"+a[x]+"\\s*"+a[N]+"$";var Y=c++;a[Y]="^"+a[x]+"\\s*"+a[q]+"$";var ee=c++;a[ee]="(?:^|[^\\d])(\\d{1,"+o+"})(?:\\.(\\d{1,"+o+"}))?(?:\\.(\\d{1,"+o+"}))?(?:$|[^\\d])";var re=c++;a[re]="(?:~>?)";var j=c++;a[j]="(\\s*)"+a[re]+"\\s+",s[j]=new RegExp(a[j],"g");var F="$1~",D=c++;a[D]="^"+a[re]+a[N]+"$";var $=c++;a[$]="^"+a[re]+a[q]+"$";var K=c++;a[K]="(?:\\^)";var X=c++;a[X]="(\\s*)"+a[K]+"\\s+",s[X]=new RegExp(a[X],"g");var Q="$1^",ve=c++;a[ve]="^"+a[K]+a[N]+"$";var Te=c++;a[Te]="^"+a[K]+a[q]+"$";var Se=c++;a[Se]="^"+a[x]+"\\s*("+P+")$|^$";var Re=c++;a[Re]="^"+a[x]+"\\s*("+_+")$|^$";var Ee=c++;a[Ee]="(\\s*)"+a[x]+"\\s*("+P+"|"+a[N]+")",s[Ee]=new RegExp(a[Ee],"g");var _t="$1$2$3",kt=c++;a[kt]="^\\s*("+a[N]+")\\s+-\\s+("+a[N]+")\\s*$";var De=c++;a[De]="^\\s*("+a[q]+")\\s+-\\s+("+a[q]+")\\s*$";var Ie=c++;for(a[Ie]="(<|>)?=?\\s*\\*",Fe=0;Fe<c;Fe++)r(Fe,a[Fe]),s[Fe]||(s[Fe]=new RegExp(a[Fe]));var Fe;t.parse=Xe;function Xe(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie)return w;if(typeof w!="string"||w.length>n)return null;var k=E.loose?s[S]:s[b];if(!k.test(w))return null;try{return new ie(w,E)}catch{return null}}t.valid=Gn;function Gn(w,E){var k=Xe(w,E);return k?k.version:null}t.clean=an;function an(w,E){var k=Xe(w.trim().replace(/^[=v]+/,""),E);return k?k.version:null}t.SemVer=ie;function ie(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ie){if(w.loose===E.loose)return w;w=w.version}else if(typeof w!="string")throw new TypeError("Invalid Version: "+w);if(w.length>n)throw new TypeError("version is longer than "+n+" characters");if(!(this instanceof ie))return new ie(w,E);r("SemVer",w,E),this.options=E,this.loose=!!E.loose;var k=w.trim().match(E.loose?s[S]:s[b]);if(!k)throw new TypeError("Invalid Version: "+w);if(this.raw=w,this.major=+k[1],this.minor=+k[2],this.patch=+k[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");k[4]?this.prerelease=k[4].split(".").map(function(O){if(/^[0-9]+$/.test(O)){var M=+O;if(M>=0&&M<i)return M}return O}):this.prerelease=[],this.build=k[5]?k[5].split("."):[],this.format()}ie.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},ie.prototype.toString=function(){return this.version},ie.prototype.compare=function(w){return r("SemVer.compare",this.version,this.options,w),w instanceof ie||(w=new ie(w,this.options)),this.compareMain(w)||this.comparePre(w)},ie.prototype.compareMain=function(w){return w instanceof ie||(w=new ie(w,this.options)),ne(this.major,w.major)||ne(this.minor,w.minor)||ne(this.patch,w.patch)},ie.prototype.comparePre=function(w){if(w instanceof ie||(w=new ie(w,this.options)),this.prerelease.length&&!w.prerelease.length)return-1;if(!this.prerelease.length&&w.prerelease.length)return 1;if(!this.prerelease.length&&!w.prerelease.length)return 0;var E=0;do{var k=this.prerelease[E],O=w.prerelease[E];if(r("prerelease compare",E,k,O),k===void 0&&O===void 0)return 0;if(O===void 0)return 1;if(k===void 0)return-1;if(k!==O)return ne(k,O)}while(++E)},ie.prototype.inc=function(w,E){switch(w){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",E);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",E);break;case"prepatch":this.prerelease.length=0,this.inc("patch",E),this.inc("pre",E);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",E),this.inc("pre",E);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var k=this.prerelease.length;--k>=0;)typeof this.prerelease[k]=="number"&&(this.prerelease[k]++,k=-2);k===-1&&this.prerelease.push(0)}E&&(this.prerelease[0]===E?isNaN(this.prerelease[1])&&(this.prerelease=[E,0]):this.prerelease=[E,0]);break;default:throw new Error("invalid increment argument: "+w)}return this.format(),this.raw=this.version,this},t.inc=Wn;function Wn(w,E,k,O){typeof k=="string"&&(O=k,k=void 0);try{return new ie(w,k).inc(E,O).version}catch{return null}}t.diff=V;function V(w,E){if(be(w,E))return null;var k=Xe(w),O=Xe(E),M="";if(k.prerelease.length||O.prerelease.length){M="pre";var U="prerelease"}for(var z in k)if((z==="major"||z==="minor"||z==="patch")&&k[z]!==O[z])return M+z;return U}t.compareIdentifiers=ne;var ae=/^[0-9]+$/;function ne(w,E){var k=ae.test(w),O=ae.test(E);return k&&O&&(w=+w,E=+E),w===E?0:k&&!O?-1:O&&!k?1:w<E?-1:1}t.rcompareIdentifiers=fe;function fe(w,E){return ne(E,w)}t.major=me;function me(w,E){return new ie(w,E).major}t.minor=Be;function Be(w,E){return new ie(w,E).minor}t.patch=Me;function Me(w,E){return new ie(w,E).patch}t.compare=we;function we(w,E,k){return new ie(w,k).compare(new ie(E,k))}t.compareLoose=qe;function qe(w,E){return we(w,E,!0)}t.rcompare=_e;function _e(w,E,k){return we(E,w,k)}t.sort=G;function G(w,E){return w.sort(function(k,O){return t.compare(k,O,E)})}t.rsort=oe;function oe(w,E){return w.sort(function(k,O){return t.rcompare(k,O,E)})}t.gt=se;function se(w,E,k){return we(w,E,k)>0}t.lt=de;function de(w,E,k){return we(w,E,k)<0}t.eq=be;function be(w,E,k){return we(w,E,k)===0}t.neq=Ae;function Ae(w,E,k){return we(w,E,k)!==0}t.gte=nt;function nt(w,E,k){return we(w,E,k)>=0}t.lte=Ze;function Ze(w,E,k){return we(w,E,k)<=0}t.cmp=ct;function ct(w,E,k,O){switch(E){case"===":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w===k;case"!==":return typeof w=="object"&&(w=w.version),typeof k=="object"&&(k=k.version),w!==k;case"":case"=":case"==":return be(w,k,O);case"!=":return Ae(w,k,O);case">":return se(w,k,O);case">=":return nt(w,k,O);case"<":return de(w,k,O);case"<=":return Ze(w,k,O);default:throw new TypeError("Invalid operator: "+E)}}t.Comparator=Ue;function Ue(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof Ue){if(w.loose===!!E.loose)return w;w=w.value}if(!(this instanceof Ue))return new Ue(w,E);r("comparator",w,E),this.options=E,this.loose=!!E.loose,this.parse(w),this.semver===qt?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}var qt={};Ue.prototype.parse=function(w){var E=this.options.loose?s[Se]:s[Re],k=w.match(E);if(!k)throw new TypeError("Invalid comparator: "+w);this.operator=k[1],this.operator==="="&&(this.operator=""),k[2]?this.semver=new ie(k[2],this.options.loose):this.semver=qt},Ue.prototype.toString=function(){return this.value},Ue.prototype.test=function(w){return r("Comparator.test",w,this.options.loose),this.semver===qt?!0:(typeof w=="string"&&(w=new ie(w,this.options)),ct(w,this.operator,this.semver,this.options))},Ue.prototype.intersects=function(w,E){if(!(w instanceof Ue))throw new TypeError("a Comparator is required");(!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1});var k;if(this.operator==="")return k=new ye(w.value,E),jr(this.value,k,E);if(w.operator==="")return k=new ye(this.value,E),jr(w.semver,k,E);var O=(this.operator===">="||this.operator===">")&&(w.operator===">="||w.operator===">"),M=(this.operator==="<="||this.operator==="<")&&(w.operator==="<="||w.operator==="<"),U=this.semver.version===w.semver.version,z=(this.operator===">="||this.operator==="<=")&&(w.operator===">="||w.operator==="<="),le=ct(this.semver,"<",w.semver,E)&&(this.operator===">="||this.operator===">")&&(w.operator==="<="||w.operator==="<"),ce=ct(this.semver,">",w.semver,E)&&(this.operator==="<="||this.operator==="<")&&(w.operator===">="||w.operator===">");return O||M||U&&z||le||ce},t.Range=ye;function ye(w,E){if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),w instanceof ye)return w.loose===!!E.loose&&w.includePrerelease===!!E.includePrerelease?w:new ye(w.raw,E);if(w instanceof Ue)return new ye(w.value,E);if(!(this instanceof ye))return new ye(w,E);if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=w,this.set=w.split(/\s*\|\|\s*/).map(function(k){return this.parseRange(k.trim())},this).filter(function(k){return k.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+w);this.format()}ye.prototype.format=function(){return this.range=this.set.map(function(w){return w.join(" ").trim()}).join("||").trim(),this.range},ye.prototype.toString=function(){return this.range},ye.prototype.parseRange=function(w){var E=this.options.loose;w=w.trim();var k=E?s[De]:s[kt];w=w.replace(k,$a),r("hyphen replace",w),w=w.replace(s[Ee],_t),r("comparator trim",w,s[Ee]),w=w.replace(s[j],F),w=w.replace(s[X],Q),w=w.split(/\s+/).join(" ");var O=E?s[Se]:s[Re],M=w.split(" ").map(function(U){return Ii(U,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(M=M.filter(function(U){return!!U.match(O)})),M=M.map(function(U){return new Ue(U,this.options)},this),M},ye.prototype.intersects=function(w,E){if(!(w instanceof ye))throw new TypeError("a Range is required");return this.set.some(function(k){return k.every(function(O){return w.set.some(function(M){return M.every(function(U){return O.intersects(U,E)})})})})},t.toComparators=xs;function xs(w,E){return new ye(w,E).set.map(function(k){return k.map(function(O){return O.value}).join(" ").trim().split(" ")})}function Ii(w,E){return r("comp",w,E),w=Fa(w,E),r("caret",w),w=Pn(w,E),r("tildes",w),w=qa(w,E),r("xrange",w),w=Jr(w,E),r("stars",w),w}function He(w){return!w||w.toLowerCase()==="x"||w==="*"}function Pn(w,E){return w.trim().split(/\s+/).map(function(k){return La(k,E)}).join(" ")}function La(w,E){var k=E.loose?s[$]:s[D];return w.replace(k,function(O,M,U,z,le){r("tilde",w,O,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":le?(r("replaceTilde pr",le),ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0"):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0",r("tilde return",ce),ce})}function Fa(w,E){return w.trim().split(/\s+/).map(function(k){return Ma(k,E)}).join(" ")}function Ma(w,E){r("caret",w,E);var k=E.loose?s[Te]:s[ve];return w.replace(k,function(O,M,U,z,le){r("caret",w,O,M,U,z,le);var ce;return He(M)?ce="":He(U)?ce=">="+M+".0.0 <"+(+M+1)+".0.0":He(z)?M==="0"?ce=">="+M+"."+U+".0 <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+".0 <"+(+M+1)+".0.0":le?(r("replaceCaret pr",le),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+"-"+le+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+"-"+le+" <"+(+M+1)+".0.0"):(r("no pr"),M==="0"?U==="0"?ce=">="+M+"."+U+"."+z+" <"+M+"."+U+"."+(+z+1):ce=">="+M+"."+U+"."+z+" <"+M+"."+(+U+1)+".0":ce=">="+M+"."+U+"."+z+" <"+(+M+1)+".0.0"),r("caret return",ce),ce})}function qa(w,E){return r("replaceXRanges",w,E),w.split(/\s+/).map(function(k){return ja(k,E)}).join(" ")}function ja(w,E){w=w.trim();var k=E.loose?s[Y]:s[J];return w.replace(k,function(O,M,U,z,le,ce){r("xRange",w,O,M,U,z,le,ce);var lt=He(U),et=lt||He(z),Ye=et||He(le),Ke=Ye;return M==="="&&Ke&&(M=""),lt?M===">"||M==="<"?O="<0.0.0":O="*":M&&Ke?(et&&(z=0),le=0,M===">"?(M=">=",et?(U=+U+1,z=0,le=0):(z=+z+1,le=0)):M==="<="&&(M="<",et?U=+U+1:z=+z+1),O=M+U+"."+z+"."+le):et?O=">="+U+".0.0 <"+(+U+1)+".0.0":Ye&&(O=">="+U+"."+z+".0 <"+U+"."+(+z+1)+".0"),r("xRange return",O),O})}function Jr(w,E){return r("replaceStars",w,E),w.trim().replace(s[Ie],"")}function $a(w,E,k,O,M,U,z,le,ce,lt,et,Ye,Ke){return He(k)?E="":He(O)?E=">="+k+".0.0":He(M)?E=">="+k+"."+O+".0":E=">="+E,He(ce)?le="":He(lt)?le="<"+(+ce+1)+".0.0":He(et)?le="<"+ce+"."+(+lt+1)+".0":Ye?le="<="+ce+"."+lt+"."+et+"-"+Ye:le="<="+le,(E+" "+le).trim()}ye.prototype.test=function(w){if(!w)return!1;typeof w=="string"&&(w=new ie(w,this.options));for(var E=0;E<this.set.length;E++)if(Ua(this.set[E],w,this.options))return!0;return!1};function Ua(w,E,k){for(var O=0;O<w.length;O++)if(!w[O].test(E))return!1;if(E.prerelease.length&&!k.includePrerelease){for(O=0;O<w.length;O++)if(r(w[O].semver),w[O].semver!==qt&&w[O].semver.prerelease.length>0){var M=w[O].semver;if(M.major===E.major&&M.minor===E.minor&&M.patch===E.patch)return!0}return!1}return!0}t.satisfies=jr;function jr(w,E,k){try{E=new ye(E,k)}catch{return!1}return E.test(w)}t.maxSatisfying=Ba;function Ba(w,E,k){var O=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!O||M.compare(z)===-1)&&(O=z,M=new ie(O,k))}),O}t.minSatisfying=Ha;function Ha(w,E,k){var O=null,M=null;try{var U=new ye(E,k)}catch{return null}return w.forEach(function(z){U.test(z)&&(!O||M.compare(z)===1)&&(O=z,M=new ie(O,k))}),O}t.minVersion=Kn;function Kn(w,E){w=new ye(w,E);var k=new ie("0.0.0");if(w.test(k)||(k=new ie("0.0.0-0"),w.test(k)))return k;k=null;for(var O=0;O<w.set.length;++O){var M=w.set[O];M.forEach(function(U){var z=new ie(U.semver.version);switch(U.operator){case">":z.prerelease.length===0?z.patch++:z.prerelease.push(0),z.raw=z.format();case"":case">=":(!k||se(k,z))&&(k=z);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+U.operator)}})}return k&&w.test(k)?k:null}t.validRange=Va;function Va(w,E){try{return new ye(w,E).range||"*"}catch{return null}}t.ltr=za;function za(w,E,k){return kn(w,E,"<",k)}t.gtr=Ga;function Ga(w,E,k){return kn(w,E,">",k)}t.outside=kn;function kn(w,E,k,O){w=new ie(w,O),E=new ye(E,O);var M,U,z,le,ce;switch(k){case">":M=se,U=Ze,z=de,le=">",ce=">=";break;case"<":M=de,U=nt,z=se,le="<",ce="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(jr(w,E,O))return!1;for(var lt=0;lt<E.set.length;++lt){var et=E.set[lt],Ye=null,Ke=null;if(et.forEach(function(xt){xt.semver===qt&&(xt=new Ue(">=0.0.0")),Ye=Ye||xt,Ke=Ke||xt,M(xt.semver,Ye.semver,O)?Ye=xt:z(xt.semver,Ke.semver,O)&&(Ke=xt)}),Ye.operator===le||Ye.operator===ce||(!Ke.operator||Ke.operator===le)&&U(w,Ke.semver)||Ke.operator===ce&&z(w,Ke.semver))return!1}return!0}t.prerelease=Wa;function Wa(w,E){var k=Xe(w,E);return k&&k.prerelease.length?k.prerelease:null}t.intersects=Yn;function Yn(w,E,k){return w=new ye(w,k),E=new ye(E,k),w.intersects(E)}t.coerce=Ka;function Ka(w){if(w instanceof ie)return w;if(typeof w!="string")return null;var E=w.match(s[ee]);return E==null?null:Xe(E[1]+"."+(E[2]||"0")+"."+(E[3]||"0"))}}),Lue=L((t,e)=>{var r=BP().wrap,n=1<<0,i=1<<1,o=1<<2,s=1<<3,a=[],c=0,l=!1,u=[],f,d;function p(S,x){var T=S.length,A=x.length,N=[];if(T===0&&A===0)return N;for(var q=0;q<T;q++)N[q]=S[q];if(A===0)return N;for(var J=0;J<A;J++){var Y=!0;for(q=0;q<T;q++)if(S[q].uid===x[J].uid){Y=!1;break}Y&&N.push(x[J])}return N}process._fatalException?(h=!1,f=function(S){var x=a.length;if(h||x===0)return!1;var T=!1;h=!0;for(var A=0;A<x;++A){var N=a[A];if((N.flags&s)!=0){var q=m&&m[N.uid];T=N.error(q,S)||T}}return h=!1,u.length>0&&(a=u.pop()),m=void 0,T&&!l},d=function(S,x,T){var A=[];l=!0;for(var N=0;N<T;++N){var q=x[N];if(A[q.uid]=q.data,(q.flags&n)!=0){var J=q.create(q.data);J!==void 0&&(A[q.uid]=J)}}return l=!1,function(){m=A,u.push(a),a=p(x,a),l=!0;for(var Y=0;Y<T;++Y)(x[Y].flags&i)>0&&x[Y].before(this,A[x[Y].uid]);l=!1;var ee=S.apply(this,arguments);for(l=!0,Y=0;Y<T;++Y)(x[Y].flags&o)>0&&x[Y].after(this,A[x[Y].uid]);return l=!1,a=u.pop(),m=void 0,ee}},r(process,"_fatalException",function(S){return function(x){return f(x)||S(x)}})):(g=!1,f=function(S){if(g)throw S;for(var x=!1,T=a.length,A=0;A<T;++A){var N=a[A];(N.flags&s)!=0&&(x=N.error(null,S)||x)}if(!x&&l)throw S},d=function(S,x,T){var A=[];l=!0;for(var N=0;N<T;++N){var q=x[N];if(A[q.uid]=q.data,(q.flags&n)!=0){var J=q.create(q.data);J!==void 0&&(A[q.uid]=J)}}return l=!1,function(){var Y=!1,ee=!1;u.push(a),a=p(x,a),l=!0;for(var re=0;re<T;++re)(x[re].flags&i)>0&&x[re].before(this,A[x[re].uid]);l=!1;var j;try{j=S.apply(this,arguments)}catch(F){Y=!0;for(var re=0;re<T;++re)if((a[re].flags&s)!=0)try{ee=a[re].error(A[x[re].uid],F)||ee}catch($){throw g=!0,$}if(!ee)throw process.removeListener("uncaughtException",f),process._originalNextTick(function(){process.addListener("uncaughtException",f)}),F}finally{if(!Y||ee){for(l=!0,re=0;re<T;++re)(x[re].flags&o)>0&&x[re].after(this,A[x[re].uid]);l=!1}a=u.pop()}return j}},process.addListener("uncaughtException",f));var h,m,g;function v(S,x,T){l=!0;for(var A=0;A<T;++A){var N=x[A];N.create&&N.create(N.data)}return l=!1,function(){u.push(a),a=p(x,a);var q=S.apply(this,arguments);return a=u.pop(),q}}function y(S){var x=a.length;if(x===0)return S;for(var T=a.slice(),A=0;A<x;++A)if(T[A].flags>0)return d(S,T,x);return v(S,T,x)}function C(S,x){typeof S.create=="function"&&(this.create=S.create,this.flags|=n),typeof S.before=="function"&&(this.before=S.before,this.flags|=i),typeof S.after=="function"&&(this.after=S.after,this.flags|=o),typeof S.error=="function"&&(this.error=S.error,this.flags|=s),this.uid=++c,this.data=x===void 0?null:x}C.prototype.create=void 0,C.prototype.before=void 0,C.prototype.after=void 0,C.prototype.error=void 0,C.prototype.data=void 0,C.prototype.uid=0,C.prototype.flags=0;function b(S,x){if(typeof S!="object"||!S)throw new TypeError("callbacks argument must be an object");return S instanceof C?S:new C(S,x)}function _(S,x){var T;S instanceof C?T=S:T=b(S,x);for(var A=!1,N=0;N<a.length;N++)if(T===a[N]){A=!0;break}return A||a.push(T),T}function P(S){for(var x=0;x<a.length;x++)if(S===a[x]){a.splice(x,1);break}}process.createAsyncListener=b,process.addAsyncListener=_,process.removeAsyncListener=P,e.exports=y}),Fue=L((t,e)=>{"use strict";e.exports=(r,n)=>class extends r{constructor(i){var o,s;super(c);var a=this;try{i.apply(o,s)}catch(l){s[1](l)}return a;function c(l,u){o=this,s=[f,d];function f(p){return n(a,!1),l(p)}function d(p){return n(a,!1),u(p)}}}}}),Mue=L(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var t=BP(),e=Nue(),r=t.wrap,n=t.massWrap,i=Lue(),o=require("util"),s=e.gte(process.version,"6.0.0"),a=e.gte(process.version,"7.0.0"),c=e.gte(process.version,"8.0.0"),l=e.gte(process.version,"11.0.0"),u=require("net");a&&!u._normalizeArgs?u._normalizeArgs=function(j){if(j.length===0)return[{},null];var F=j[0],D={};typeof F=="object"&&F!==null?D=F:re(F)?D.path=F:(D.port=F,j.length>1&&typeof j[1]=="string"&&(D.host=j[1]));var $=j[j.length-1];return typeof $!="function"?[D,null]:[D,$]}:!a&&!u._normalizeConnectArgs&&(u._normalizeConnectArgs=function(j){var F={};function D(K){return(K=Number(K))>=0?K:!1}typeof j[0]=="object"&&j[0]!==null?F=j[0]:typeof j[0]=="string"&&D(j[0])===!1?F.path=j[0]:(F.port=j[0],typeof j[1]=="string"&&(F.host=j[1]));var $=j[j.length-1];return typeof $=="function"?[F,$]:[F]}),"_setUpListenHandle"in u.Server.prototype?r(u.Server.prototype,"_setUpListenHandle",f):r(u.Server.prototype,"_listen2",f);function f(j){return function(){this.on("connection",function(F){F._handle&&(F._handle.onread=i(F._handle.onread))});try{return j.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=i(this._handle.onconnection))}}}function d(j){if(j&&j._handle){var F=j._handle;F._originalOnread||(F._originalOnread=F.onread),F.onread=i(F._originalOnread)}}r(u.Socket.prototype,"connect",function(j){return function(){var F;c&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?F=arguments[0]:F=a?u._normalizeArgs(arguments):u._normalizeConnectArgs(arguments),F[1]&&(F[1]=i(F[1]));var D=j.apply(this,F);return d(this),D}});var p=require("http");r(p.Agent.prototype,"addRequest",function(j){return function(F){var D=F.onSocket;return F.onSocket=i(function($){return d($),D.apply(this,arguments)}),j.apply(this,arguments)}});var h=require("child_process");function m(j){Array.isArray(j.stdio)&&j.stdio.forEach(function(F){F&&F._handle&&(F._handle.onread=i(F._handle.onread),r(F._handle,"close",Y))}),j._handle&&(j._handle.onexit=i(j._handle.onexit))}h.ChildProcess?r(h.ChildProcess.prototype,"spawn",function(j){return function(){var F=j.apply(this,arguments);return m(this),F}}):n(h,["execFile","fork","spawn"],function(j){return function(){var F=j.apply(this,arguments);return m(F),F}}),process._fatalException||(process._originalNextTick=process.nextTick);var g=[];process._nextDomainTick&&g.push("_nextDomainTick"),process._tickDomainCallback&&g.push("_tickDomainCallback"),n(process,g,J),r(process,"nextTick",Y);var v=["setTimeout","setInterval"];global.setImmediate&&v.push("setImmediate");var y=require("timers"),C=global.setTimeout===y.setTimeout;n(y,v,Y),C&&n(global,v,Y);var b=require("dns");n(b,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],J),b.resolveNaptr&&r(b,"resolveNaptr",J);var _=require("fs");n(_,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],J),_.lchown&&r(_,"lchown",J),_.lchmod&&r(_,"lchmod",J),_.ftruncate&&r(_,"ftruncate",J);var P;try{P=require("zlib")}catch{}P&&P.Deflate&&P.Deflate.prototype&&(S=Object.getPrototypeOf(P.Deflate.prototype),S._transform?r(S,"_transform",J):S.write&&S.flush&&S.end&&n(S,["write","flush","end"],J));var S,x;try{x=require("crypto")}catch{}x&&(T=["pbkdf2","randomBytes"],l||T.push("pseudoRandomBytes"),n(x,T,J));var T,A=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";A&&(N=process.addAsyncListener({create:function(){A=!1}}),global.Promise.resolve(!0).then(function(){A=!1}),process.removeAsyncListener(N));var N;A&&q();function q(){var j=global.Promise;function F(Q){if(!(this instanceof F))return j(Q);if(typeof Q!="function")return new j(Q);var ve,Te,Se=new j(Re);Se.__proto__=F.prototype;try{Q.apply(ve,Te)}catch(Ee){Te[1](Ee)}return Se;function Re(Ee,_t){ve=this,Te=[kt,De];function kt(Ie){return $(Se,!1),Ee(Ie)}function De(Ie){return $(Se,!1),_t(Ie)}}}if(o.inherits(F,j),r(j.prototype,"then",X),j.prototype.chain&&r(j.prototype,"chain",X),s)global.Promise=Fue()(j,$);else{var D=["all","race","reject","resolve","accept","defer"];D.forEach(function(Q){typeof j[Q]=="function"&&(F[Q]=j[Q])}),global.Promise=F}function $(Q,ve){(!Q.__asl_wrapper||ve)&&(Q.__asl_wrapper=i(K))}function K(Q,ve,Te,Se){var Re;try{return Re=ve.call(Q,Te),{returnVal:Re,error:!1}}catch(Ee){return{errorVal:Ee,error:!0}}finally{Re instanceof j?Se.__asl_wrapper=function(){var Ee=Re.__asl_wrapper||K;return Ee.apply(this,arguments)}:$(Se,!0)}}function X(Q){return function(){var ve=this,Te=Q.apply(ve,Array.prototype.map.call(arguments,Se));return Te.__asl_wrapper=function(Re,Ee,_t,kt){return ve.__asl_wrapper?(ve.__asl_wrapper(Re,function(){},null,Te),Te.__asl_wrapper(Re,Ee,_t,kt)):K(Re,Ee,_t,kt)},Te;function Se(Re){return typeof Re!="function"?Re:i(function(Ee){var _t=(ve.__asl_wrapper||K)(this,Re,Ee,Te);if(_t.error)throw _t.errorVal;return _t.returnVal})}}}}function J(j){var F=function(){var D,$=arguments.length-1;if(typeof arguments[$]=="function"){D=Array(arguments.length);for(var K=0;K<arguments.length-1;K++)D[K]=arguments[K];D[$]=i(arguments[$])}return j.apply(this,D||arguments)};switch(j.length){case 1:return function(D){return arguments.length!==1?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D))};case 2:return function(D,$){return arguments.length!==2?F.apply(this,arguments):(typeof $=="function"&&($=i($)),j.call(this,D,$))};case 3:return function(D,$,K){return arguments.length!==3?F.apply(this,arguments):(typeof K=="function"&&(K=i(K)),j.call(this,D,$,K))};case 4:return function(D,$,K,X){return arguments.length!==4?F.apply(this,arguments):(typeof X=="function"&&(X=i(X)),j.call(this,D,$,K,X))};case 5:return function(D,$,K,X,Q){return arguments.length!==5?F.apply(this,arguments):(typeof Q=="function"&&(Q=i(Q)),j.call(this,D,$,K,X,Q))};case 6:return function(D,$,K,X,Q,ve){return arguments.length!==6?F.apply(this,arguments):(typeof ve=="function"&&(ve=i(ve)),j.call(this,D,$,K,X,Q,ve))};default:return F}}function Y(j){var F=function(){var D;if(typeof arguments[0]=="function"){D=Array(arguments.length),D[0]=i(arguments[0]);for(var $=1;$<arguments.length;$++)D[$]=arguments[$]}return j.apply(this,D||arguments)};switch(j.length){case 1:return function(D){return arguments.length!==1?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D))};case 2:return function(D,$){return arguments.length!==2?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$))};case 3:return function(D,$,K){return arguments.length!==3?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K))};case 4:return function(D,$,K,X){return arguments.length!==4?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K,X))};case 5:return function(D,$,K,X,Q){return arguments.length!==5?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K,X,Q))};case 6:return function(D,$,K,X,Q,ve){return arguments.length!==6?F.apply(this,arguments):(typeof D=="function"&&(D=i(D)),j.call(this,D,$,K,X,Q,ve))};default:return F}}function ee(j){return(j=Number(j))>=0?j:!1}function re(j){return typeof j=="string"&&ee(j)===!1}}),que=L((t,e)=>{"use strict";var r=require("assert"),n=HP(),i="cls@contexts",o="error@context";process.addAsyncListener||Mue();function s(f){this.name=f,this.active=null,this._set=[],this.id=null}s.prototype.set=function(f,d){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[f]=d,d},s.prototype.get=function(f){if(this.active)return this.active[f]},s.prototype.createContext=function(){return Object.create(this.active)},s.prototype.run=function(f){var d=this.createContext();this.enter(d);try{return f(d),d}catch(p){throw p&&(p[o]=d),p}finally{this.exit(d)}},s.prototype.runAndReturn=function(f){var d;return this.run(function(p){d=f(p)}),d},s.prototype.bind=function(f,d){d||(this.active?d=this.active:d=this.createContext());var p=this;return function(){p.enter(d);try{return f.apply(this,arguments)}catch(h){throw h&&(h[o]=d),h}finally{p.exit(d)}}},s.prototype.enter=function(f){r.ok(f,"context must be provided for entering"),this._set.push(this.active),this.active=f},s.prototype.exit=function(f){if(r.ok(f,"context must be provided for exiting"),this.active===f){r.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var d=this._set.lastIndexOf(f);r.ok(d>=0,"context not currently entered; can't exit"),r.ok(d,"can't remove top context"),this._set.splice(d,1)},s.prototype.bindEmitter=function(f){r.ok(f.on&&f.addListener&&f.emit,"can only bind real EEs");var d=this,p="context@"+this.name;function h(g){!g||(g[i]||(g[i]=Object.create(null)),g[i][p]={namespace:d,context:d.active})}function m(g){if(!(g&&g[i]))return g;var v=g,y=g[i];return Object.keys(y).forEach(function(C){var b=y[C];v=b.namespace.bind(v,b.context)}),v}n(f,h,m)},s.prototype.fromException=function(f){return f[o]};function a(f){return process.namespaces[f]}function c(f){r.ok(f,"namespace must be given a name!");var d=new s(f);return d.id=process.addAsyncListener({create:function(){return d.active},before:function(p,h){h&&d.enter(h)},after:function(p,h){h&&d.exit(h)},error:function(p){p&&d.exit(p)}}),process.namespaces[f]=d,d}function l(f){var d=a(f);r.ok(d,"can't delete nonexistent namespace!"),r.ok(d.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(d.id),process.namespaces[f]=null}function u(){process.namespaces&&Object.keys(process.namespaces).forEach(function(f){l(f)}),process.namespaces=Object.create(null)}process.namespaces||u(),e.exports={getNamespace:a,createNamespace:c,destroyNamespace:l,reset:u}}),_f=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CorrelationContextManager=void 0;var e=Lr(),r=UP(),n=Ww(),i=JH(),o=rV(),s=function(){function c(){}return c.getCurrentContext=function(){if(!c.enabled)return null;var l=c.session.get(c.CONTEXT_NAME);return l===void 0?null:l},c.generateContextObject=function(l,u,f,d,p,h){return u=u||l,this.enabled?{operation:{name:f,id:l,parentId:u,traceparent:p,tracestate:h},customProperties:new a(d)}:null},c.spanToContextObject=function(l,u,f){var d=new n;return d.traceId=l.traceId,d.spanId=l.spanId,d.traceFlag=n.formatOpenTelemetryTraceFlags(l.traceFlags)||n.DEFAULT_TRACE_FLAG,d.parentId=u,c.generateContextObject(d.traceId,d.parentId,f,null,d)},c.runWithContext=function(l,u){var f;return c.enabled?c.session.bind(u,(f={},f[c.CONTEXT_NAME]=l,f))():u()},c.wrapEmitter=function(l){c.enabled&&c.session.bindEmitter(l)},c.wrapCallback=function(l,u){var f;return c.enabled?c.session.bind(l,u?(f={},f[c.CONTEXT_NAME]=u,f):void 0):l},c.enable=function(l){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}c.hasEverEnabled||(this.forceClsHooked=l,this.hasEverEnabled=!0,typeof this.cls>"u"&&(c.forceClsHooked===!0||c.forceClsHooked===void 0&&c.shouldUseClsHooked()?this.cls=Oue():this.cls=que()),c.session=this.cls.createNamespace("AI-CLS-Session"),r.registerContextPreservation(function(u){return c.session.bind(u)})),this.enabled=!0}},c.startOperation=function(l,u){var f=l&&l.traceContext||null,d=l&&l.traceId?l:null,p=l&&l.headers;if(d){var h=new n("00-"+d.traceId+"-"+d.spanId+"-01"),m=new i(d.traceState?d.traceState.serialize():null),g=c.generateContextObject(d.traceId,"|"+d.traceId+"."+d.spanId+".",typeof u=="string"?u:"",void 0,h,m);return g}if(f){var h=new n(f.traceparent),m=new i(f.tracestate),v=typeof u=="object"?new o(u):null,g=c.generateContextObject(h.traceId,h.parentId,typeof u=="string"?u:v.getOperationName({}),v&&v.getCorrelationContextHeader()||void 0,h,m);return g}if(p){var h=new n(p.traceparent?p.traceparent.toString():null),m=new i(p.tracestate?p.tracestate.toString():null),v=new o(l),g=c.generateContextObject(h.traceId,h.parentId,v.getOperationName({}),v.getCorrelationContextHeader(),h,m);return g}return e.warn("startOperation was called with invalid arguments",arguments),null},c.disable=function(){this.enabled=!1},c.reset=function(){c.hasEverEnabled&&(c.session=null,c.session=this.cls.createNamespace("AI-CLS-Session"))},c.isNodeVersionCompatible=function(){var l=process.versions.node.split(".");return parseInt(l[0])>3||parseInt(l[0])>2&&parseInt(l[1])>2},c.shouldUseClsHooked=function(){var l=process.versions.node.split(".");return parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=2},c.canUseClsHooked=function(){var l=process.versions.node.split("."),u=parseInt(l[0])>8||parseInt(l[0])>=8&&parseInt(l[1])>=0,f=parseInt(l[0])<8||parseInt(l[0])<=8&&parseInt(l[1])<2,d=parseInt(l[0])>4||parseInt(l[0])>=4&&parseInt(l[1])>=7;return!(u&&f)&&d},c.enabled=!1,c.hasEverEnabled=!1,c.forceClsHooked=void 0,c.CONTEXT_NAME="ApplicationInsights-Context",c}();t.CorrelationContextManager=s;var a=function(){function c(l){this.props=[],this.addHeaderData(l)}return c.prototype.addHeaderData=function(l){var u=l?l.split(", "):[];this.props=u.map(function(f){var d=f.split("=");return{key:d[0],value:d[1]}}).concat(this.props)},c.prototype.serializeToHeader=function(){return this.props.map(function(l){return l.key+"="+l.value}).join(", ")},c.prototype.getProperty=function(l){for(var u=0;u<this.props.length;++u){var f=this.props[u];if(f.key===l)return f.value}},c.prototype.setProperty=function(l,u){if(c.bannedCharacters.test(l)||c.bannedCharacters.test(u)){e.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+l+" and value: "+u);return}for(var f=0;f<this.props.length;++f){var d=this.props[f];if(d.key===l){d.value=u;return}}this.props.push({key:l,value:u})},c.bannedCharacters=/[,=]/,c}()}),jue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=bn(),r=lr(),n=[],i=function(a){var c=a.data.message;n.forEach(function(l){c instanceof Error?l.trackException({exception:c}):(c.lastIndexOf(`
`)==c.length-1&&(c=c.substring(0,c.length-1)),l.trackTrace({message:c,severity:a.data.stderr?e.SeverityLevel.Warning:e.SeverityLevel.Information}))})};function o(a,c){a?(n.length===0&&r.channel.subscribe("console",i),n.push(c)):(n=n.filter(function(l){return l!=c}),n.length===0&&r.channel.unsubscribe("console",i))}t.enable=o;function s(){r.channel.unsubscribe("console",i),n=[]}t.dispose=s}),$ue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=bn(),r=lr(),n=[],i={10:e.SeverityLevel.Verbose,20:e.SeverityLevel.Verbose,30:e.SeverityLevel.Information,40:e.SeverityLevel.Warning,50:e.SeverityLevel.Error,60:e.SeverityLevel.Critical},o=function(c){var l=c.data.result;n.forEach(function(u){var f=i[c.data.level];l instanceof Error?u.trackException({exception:l}):u.trackTrace({message:l,severity:f})})};function s(c,l){c?(n.length===0&&r.channel.subscribe("bunyan",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("bunyan",o))}t.enable=s;function a(){r.channel.unsubscribe("bunyan",o),n=[]}t.dispose=a}),Uue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.enable=void 0;var e=bn(),r=lr(),n=[],i={syslog:function(c){var l={emerg:e.SeverityLevel.Critical,alert:e.SeverityLevel.Critical,crit:e.SeverityLevel.Critical,error:e.SeverityLevel.Error,warning:e.SeverityLevel.Warning,notice:e.SeverityLevel.Information,info:e.SeverityLevel.Information,debug:e.SeverityLevel.Verbose};return l[c]===void 0?e.SeverityLevel.Information:l[c]},npm:function(c){var l={error:e.SeverityLevel.Error,warn:e.SeverityLevel.Warning,info:e.SeverityLevel.Information,verbose:e.SeverityLevel.Verbose,debug:e.SeverityLevel.Verbose,silly:e.SeverityLevel.Verbose};return l[c]===void 0?e.SeverityLevel.Information:l[c]},unknown:function(c){return e.SeverityLevel.Information}},o=function(c){var l=c.data.message;n.forEach(function(u){if(l instanceof Error)u.trackException({exception:l,properties:c.data.meta});else{var f=i[c.data.levelKind](c.data.level);u.trackTrace({message:l,severity:f,properties:c.data.meta})}})};function s(c,l){c?(n.length===0&&r.channel.subscribe("winston",o),n.push(l)):(n=n.filter(function(u){return u!=l}),n.length===0&&r.channel.unsubscribe("winston",o))}t.enable=s;function a(){r.channel.unsubscribe("winston",o),n=[]}t.dispose=a}),Bue=L((t,e)=>{"use strict";var r=UP(),n=function(){function i(o){if(i.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=o,i.INSTANCE=this}return i.prototype.enable=function(o,s){r.IsInitialized&&(jue().enable(o&&s,this._client),$ue().enable(o,this._client),Uue().enable(o,this._client))},i.prototype.isInitialized=function(){return this._isInitialized},i.prototype.dispose=function(){i.INSTANCE=null,this.enable(!1,!1)},i._methodNames=["debug","info","log","warn","error"],i}();e.exports=n}),Hue=L((t,e)=>{"use strict";var r=function(){function n(i){if(n.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");n.INSTANCE=this,this._client=i;var o=process.versions.node.split(".");n._canUseUncaughtExceptionMonitor=parseInt(o[0])>13||parseInt(o[0])===13&&parseInt(o[1])>=7}return n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.enable=function(i){var o=this;if(i){this._isInitialized=!0;var s=this;if(!this._exceptionListenerHandle){var a=function(c,l,u){u===void 0&&(u=new Error(n._FALLBACK_ERROR_MESSAGE)),o._client.trackException({exception:u}),o._client.flush({isAppCrashing:!0}),c&&l&&process.listeners(l).length===1&&(console.error(u),process.exit(1))};n._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=a.bind(this,!0,n.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=a.bind(this,!1,void 0),process.on(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(n._canUseUncaughtExceptionMonitor?process.removeListener(n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(n.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(n.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},n.prototype.dispose=function(){n.INSTANCE=null,this.enable(!1),this._isInitialized=!1},n.INSTANCE=null,n.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",n.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",n.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",n._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",n._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",n._canUseUncaughtExceptionMonitor=!1,n}();e.exports=r}),Ca=L(t=>{"use strict";var e;Object.defineProperty(t,"__esModule",{value:!0}),t.HeartBeatMetricName=t.DependencyTypeName=t.SpanAttribute=t.TelemetryTypeStringToQuickPulseDocumentType=t.TelemetryTypeStringToQuickPulseType=t.QuickPulseType=t.QuickPulseDocumentType=t.PerformanceToQuickPulseCounter=t.MetricId=t.PerformanceCounter=t.QuickPulseCounter=t.DEFAULT_LIVEMETRICS_HOST=t.DEFAULT_LIVEMETRICS_ENDPOINT=t.DEFAULT_BREEZE_ENDPOINT=void 0,t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var r;(function(o){o.COMMITTED_BYTES="\\Memory\\Committed Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",o.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",o.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",o.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",o.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",o.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",o.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(r=t.QuickPulseCounter||(t.QuickPulseCounter={}));var n;(function(o){o.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",o.AVAILABLE_BYTES="\\Memory\\Available Bytes",o.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",o.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",o.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",o.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(n=t.PerformanceCounter||(t.PerformanceCounter={}));var i;(function(o){o.REQUESTS_DURATION="requests/duration",o.DEPENDENCIES_DURATION="dependencies/duration",o.EXCEPTIONS_COUNT="exceptions/count",o.TRACES_COUNT="traces/count"})(i=t.MetricId||(t.MetricId={})),t.PerformanceToQuickPulseCounter=(e={},e[n.PROCESSOR_TIME]=r.PROCESSOR_TIME,e[n.REQUEST_RATE]=r.REQUEST_RATE,e[n.REQUEST_DURATION]=r.REQUEST_DURATION,e[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,e[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,e[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,e[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,e[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,e[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,e),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability,PageViewData:t.QuickPulseType.PageView},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability,PageViewData:t.QuickPulseDocumentType.PageView},t.SpanAttribute={HttpHost:"http.host",HttpMethod:"http.method",HttpPort:"http.port",HttpStatusCode:"http.status_code",HttpUrl:"http.url",HttpUserAgent:"http.user_agent",GrpcMethod:"grpc.method",GrpcService:"rpc.service"},t.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc"},t.HeartBeatMetricName="HeartBeat"}),VP=L((t,e)=>{"use strict";var r=require("os"),n=Ca(),i=function(){function o(s,a,c){a===void 0&&(a=6e4),c===void 0&&(c=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,o.INSTANCE||(o.INSTANCE=this),this._isInitialized=!1,this._client=s,this._collectionInterval=a,this._enableLiveMetricsCounters=c}return o.prototype.enable=function(s,a){var c=this;this._isEnabled=s,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),s?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:o._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=a||this._collectionInterval,this._handle=setInterval(function(){return c.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},o.countRequest=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalRequestExecutionTime+=c,a===!1&&o._totalFailedRequestCount++,o._totalRequestCount++}},o.countException=function(){o._totalExceptionCount++},o.countDependency=function(s,a){var c;if(o.isEnabled()){if(typeof s=="string")c=+new Date("1970-01-01T"+s+"Z");else if(typeof s=="number")c=s;else return;o._intervalDependencyExecutionTime+=c,a===!1&&o._totalFailedDependencyCount++,o._totalDependencyCount++}},o.prototype.isInitialized=function(){return this._isInitialized},o.isEnabled=function(){return o.INSTANCE&&o.INSTANCE._isEnabled},o.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},o.prototype._trackCpu=function(){var s=r.cpus();if(s&&s.length&&this._lastCpus&&s.length===this._lastCpus.length){for(var a=0,c=0,l=0,u=0,f=0,d=0;!!s&&d<s.length;d++){var p=s[d],h=this._lastCpus[d],m="% cpu("+d+") ",g=p.model,v=p.speed,y=p.times,C=h.times,b=y.user-C.user||0;a+=b;var _=y.sys-C.sys||0;c+=_;var P=y.nice-C.nice||0;l+=P;var S=y.idle-C.idle||0;u+=S;var x=y.irq-C.irq||0;f+=x}var T=void 0;if(typeof process.cpuUsage=="function"){var A=process.cpuUsage(),N=process.hrtime(),q=A.user-this._lastAppCpuUsage.user+(A.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var J=(N[0]-this._lastHrtime[0])*1e6+(N[1]-this._lastHrtime[1])/1e3||0;T=100*q/(J*s.length)}this._lastAppCpuUsage=A,this._lastHrtime=N}var Y=a+c+l+u+f||1;this._client.trackMetric({name:n.PerformanceCounter.PROCESSOR_TIME,value:(Y-u)/Y*100}),this._client.trackMetric({name:n.PerformanceCounter.PROCESS_TIME,value:T||a/Y*100})}this._lastCpus=s},o.prototype._trackMemory=function(){var s=r.freemem(),a=process.memoryUsage().rss,c=r.totalmem()-s;this._client.trackMetric({name:n.PerformanceCounter.PRIVATE_BYTES,value:a}),this._client.trackMetric({name:n.PerformanceCounter.AVAILABLE_BYTES,value:s}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.COMMITTED_BYTES,value:c})},o.prototype._trackNetwork=function(){var s=this._lastRequests,a={totalRequestCount:o._totalRequestCount,totalFailedRequestCount:o._totalFailedRequestCount,time:+new Date},c=a.totalRequestCount-s.totalRequestCount||0,l=a.totalFailedRequestCount-s.totalFailedRequestCount||0,u=a.time-s.time,f=u/1e3,d=(o._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/c||0;if(this._lastIntervalRequestExecutionTime=o._intervalRequestExecutionTime,u>0){var p=c/f,h=l/f;this._client.trackMetric({name:n.PerformanceCounter.REQUEST_RATE,value:p}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.PerformanceCounter.REQUEST_DURATION,value:d}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:n.QuickPulseCounter.REQUEST_FAILURE_RATE,value:h})}this._lastRequests=a},o.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastDependencies,a={totalDependencyCount:o._totalDependencyCount,totalFailedDependencyCount:o._totalFailedDependencyCount,time:+new Date},c=a.totalDependencyCount-s.totalDependencyCount||0,l=a.totalFailedDependencyCount-s.totalFailedDependencyCount||0,u=a.time-s.time,f=u/1e3,d=(o._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/c||0;if(this._lastIntervalDependencyExecutionTime=o._intervalDependencyExecutionTime,u>0){var p=c/f,h=l/f;this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_RATE,value:p}),this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:h}),(!this._enableLiveMetricsCounters||c>0)&&this._client.trackMetric({name:n.QuickPulseCounter.DEPENDENCY_DURATION,value:d})}this._lastDependencies=a}},o.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var s=this._lastExceptions,a={totalExceptionCount:o._totalExceptionCount,time:+new Date},c=a.totalExceptionCount-s.totalExceptionCount||0,l=a.time-s.time,u=l/1e3;if(l>0){var f=c/u;this._client.trackMetric({name:n.QuickPulseCounter.EXCEPTION_RATE,value:f})}this._lastExceptions=a}},o.prototype.dispose=function(){o.INSTANCE=null,this.enable(!1),this._isInitialized=!1},o._totalRequestCount=0,o._totalFailedRequestCount=0,o._totalDependencyCount=0,o._totalFailedDependencyCount=0,o._totalExceptionCount=0,o._intervalDependencyExecutionTime=0,o._intervalRequestExecutionTime=0,o}();e.exports=i}),Vue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregatedMetricCounter=void 0;var e=function(){function r(n){this.dimensions=n,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return r}();t.AggregatedMetricCounter=e}),zue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreaggregatedMetricPropertyNames=void 0,t.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}}),sV=L((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(a){for(var c,l=1,u=arguments.length;l<u;l++){c=arguments[l];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f])}return a},r.apply(this,arguments)},n=Ca(),i=Vue(),o=zue(),s=function(){function a(c,l){l===void 0&&(l=6e4),a.INSTANCE||(a.INSTANCE=this),this._isInitialized=!1,a._dependencyCountersCollection=[],a._requestCountersCollection=[],a._exceptionCountersCollection=[],a._traceCountersCollection=[],this._client=c,this._collectionInterval=l}return a.prototype.enable=function(c,l){var u=this;this._isEnabled=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),c?this._handle||(this._collectionInterval=l||this._collectionInterval,this._handle=setInterval(function(){return u.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},a.countException=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._exceptionCountersCollection);l.totalCount++}},a.countTrace=function(c){if(a.isEnabled()){var l=a._getAggregatedCounter(c,this._traceCountersCollection);l.totalCount++}},a.countRequest=function(c,l){if(a.isEnabled()){var u,f=a._getAggregatedCounter(l,this._requestCountersCollection);if(typeof c=="string")u=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")u=c;else return;f.intervalExecutionTime+=u,f.totalCount++}},a.countDependency=function(c,l){if(a.isEnabled()){var u=a._getAggregatedCounter(l,this._dependencyCountersCollection),f;if(typeof c=="string")f=+new Date("1970-01-01T"+c+"Z");else if(typeof c=="number")f=c;else return;u.intervalExecutionTime+=f,u.totalCount++}},a.prototype.isInitialized=function(){return this._isInitialized},a.isEnabled=function(){return a.INSTANCE&&a.INSTANCE._isEnabled},a.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},a._getAggregatedCounter=function(c,l){for(var u=!1,f=0;f<l.length;f++){if(c===l[f].dimensions)return l[f];if(Object.keys(c).length===Object.keys(l[f].dimensions).length){for(var d in c)if(c[d]!=l[f].dimensions[d]){u=!0;break}if(!u)return l[f];u=!1}}var p=new i.AggregatedMetricCounter(c);return l.push(p),p},a.prototype._trackRequestMetrics=function(){for(var c=0;c<a._requestCountersCollection.length;c++){var l=a._requestCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime,d=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,f>0&&u>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:l.dimensions,value:d,count:u,aggregationInterval:f,metricType:n.MetricId.REQUESTS_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackDependencyMetrics=function(){for(var c=0;c<a._dependencyCountersCollection.length;c++){var l=a._dependencyCountersCollection[c];l.time=+new Date;var u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime,d=(l.intervalExecutionTime-l.lastIntervalExecutionTime)/u||0;l.lastIntervalExecutionTime=l.intervalExecutionTime,f>0&&u>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:l.dimensions,value:d,count:u,aggregationInterval:f,metricType:n.MetricId.DEPENDENCIES_DURATION}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackExceptionMetrics=function(){for(var c=0;c<a._exceptionCountersCollection.length;c++){var l=a._exceptionCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Exceptions",dimensions:l.dimensions,value:u,count:u,aggregationInterval:f,metricType:n.MetricId.EXCEPTIONS_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackTraceMetrics=function(){for(var c=0;c<a._traceCountersCollection.length;c++){var l=a._traceCountersCollection[c],u=l.totalCount-l.lastTotalCount||0,f=l.time-l.lastTime;this._trackPreAggregatedMetric({name:"Traces",dimensions:l.dimensions,value:u,count:u,aggregationInterval:f,metricType:n.MetricId.TRACES_COUNT}),l.lastTotalCount=l.totalCount,l.lastTime=l.time}},a.prototype._trackPreAggregatedMetric=function(c){var l={};for(var u in c.dimensions)l[o.PreaggregatedMetricPropertyNames[u]]=c.dimensions[u];l=r(r({},l),{"_MS.MetricId":c.metricType,"_MS.AggregationIntervalMs":String(c.aggregationInterval),"_MS.IsAutocollected":"True"});var f={name:c.name,value:c.value,count:c.count,properties:l,kind:"Aggregation"};this._client.trackMetric(f)},a.prototype.dispose=function(){a.INSTANCE=null,this.enable(!1),this._isInitialized=!1},a}();e.exports=s}),Kw=L((t,e)=>{"use strict";var r=require("os"),n=require("fs"),i=require("path"),o=bn(),s=Lr(),a=function(){function c(l){this.keys=new o.ContextTagKeys,this.tags={},this._loadApplicationContext(l),this._loadDeviceContext(),this._loadInternalContext()}return c.prototype._loadApplicationContext=function(l){if(l=l||i.resolve(__dirname,"../../../../package.json"),!c.appVersion[l]){c.appVersion[l]="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.appVersion[l]=u.version)}catch(f){s.info("unable to read app version: ",f)}}this.tags[this.keys.applicationVersion]=c.appVersion[l]},c.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=c.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},c.prototype._loadInternalContext=function(){var l=i.resolve(__dirname,"../../package.json");if(!c.sdkVersion){c.sdkVersion="unknown";try{var u=JSON.parse(n.readFileSync(l,"utf8"));u&&typeof u.version=="string"&&(c.sdkVersion=u.version)}catch(f){s.info("unable to read app version: ",f)}}this.tags[this.keys.internalSdkVersion]="node:"+c.sdkVersion},c.DefaultRoleName="Web",c.appVersion={},c.sdkVersion=null,c}();e.exports=a}),Gue=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var u=function(f,d){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,h){p.__proto__=h}||function(p,h){for(var m in h)Object.prototype.hasOwnProperty.call(h,m)&&(p[m]=h[m])},u(f,d)};return function(f,d){u(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}(),n=require("url"),i=bn(),o=Ei(),s=_h(),a=tV(),c=Ef(),l=function(u){r(f,u);function f(d,p){var h=u.call(this)||this;return p&&p.method&&d&&(h.method=p.method,h.url=f._getUrlFromRequestOptions(d,p),h.startTime=+new Date),h}return f.prototype.onError=function(d){this._setStatus(void 0,d)},f.prototype.onResponse=function(d){this._setStatus(d.statusCode,void 0),this.correlationId=o.getCorrelationContextTarget(d,s.requestContextTargetKey)},f.prototype.getDependencyTelemetry=function(d,p){var h=n.parse(this.url);h.search=void 0,h.hash=void 0;var m=this.method.toUpperCase()+" "+h.pathname,g=i.RemoteDependencyDataConstants.TYPE_HTTP,v=h.hostname;h.port&&(v+=":"+h.port),this.correlationId?(g=i.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==c.correlationIdPrefix&&(v+=" | "+this.correlationId)):g=i.RemoteDependencyDataConstants.TYPE_HTTP;var y={id:p,name:m,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:g,target:v};if(d&&d.time?y.time=d.time:this.startTime&&(y.time=new Date(this.startTime)),d){for(var C in d)y[C]||(y[C]=d[C]);if(d.properties)for(var C in d.properties)y.properties[C]=d.properties[C]}return y},f._getUrlFromRequestOptions=function(d,p){if(typeof d=="string")if(d.indexOf("http://")===0||d.indexOf("https://")===0)d=n.parse(d);else{var h=n.parse(d);h.host==="443"?d=n.parse("https://"+d):d=n.parse("http://"+d)}else{if(d&&typeof n.URL=="function"&&d instanceof n.URL)return n.format(d);var m=d;d={},m&&Object.keys(m).forEach(function(y){d[y]=m[y]})}if(d.path){var g=n.parse(d.path);d.pathname=g.pathname,d.search=g.search}if(d.host&&d.port){var v=n.parse("http://"+d.host);!v.port&&d.port&&(d.hostname=d.host,delete d.host)}return d.protocol=d.protocol||p.agent&&p.agent.protocol||p.protocol||void 0,d.hostname=d.hostname||"localhost",n.format(d)},f}(a);e.exports=l}),Wue=L(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.spanToTelemetryContract=void 0;var r=Ht(),n=Ca();function i(s){var a=e({},s);return Object.keys(n.SpanAttribute).forEach(function(c){delete a[c]}),a}function o(s){var a="|"+s.spanContext().traceId+"."+s.spanContext().spanId+".",c=Math.round(s._duration[0]*1e3+s._duration[1]/1e6),l=s.attributes["peer.address"]?s.attributes["peer.address"].toString():"",u=s.attributes.component?s.attributes.component.toString():"",f=u.toUpperCase()===n.DependencyTypeName.Http||!!s.attributes[n.SpanAttribute.HttpUrl],d=u.toLowerCase()===n.DependencyTypeName.Grpc;if(f){var p=s.attributes[n.SpanAttribute.HttpMethod]||"GET",h=new URL(s.attributes[n.SpanAttribute.HttpUrl].toString()),m=s.attributes[n.SpanAttribute.HttpHost]||h.host,g=s.attributes[n.SpanAttribute.HttpPort]||h.port||null,v=h.pathname||"/",y=p+" "+v,C=n.DependencyTypeName.Http,b=g?(m+":"+g).toString():m.toString(),_=h.toString(),P=s.attributes[n.SpanAttribute.HttpStatusCode]||s.status.code||0,S=P<400;return{id:a,name:y,dependencyTypeName:C,target:b,data:_,success:S,duration:c,url:_,resultCode:String(P),properties:i(s.attributes)}}else if(d){var p=s.attributes[n.SpanAttribute.GrpcMethod]||"rpc",x=s.attributes[n.SpanAttribute.GrpcService],T=x?p+" "+x:s.name;return{id:a,duration:c,name:T,target:x.toString(),data:x.toString()||T,url:x.toString()||T,dependencyTypeName:n.DependencyTypeName.Grpc,resultCode:String(s.status.code||0),success:s.status.code===0,properties:i(s.attributes)}}else{var A=s.name,N=s.links&&s.links.map(function(q){return{operation_Id:q.context.traceId,id:q.context.spanId}});return{id:a,duration:c,name:A,target:l,data:l||A,url:l||A,dependencyTypeName:s.kind===r.SpanKind.INTERNAL?n.DependencyTypeName.InProc:u||s.name,resultCode:String(s.status.code||0),success:s.status.code===0,properties:e(e({},i(s.attributes)),{"_MS.links":N||void 0})}}}t.spanToTelemetryContract=o}),Kue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=Ht(),r=lr(),n=Ww(),i=Wue(),o=EH(),s=[],a=function(l){var u=l.data,f=i.spanToTelemetryContract(u),d=u.spanContext(),p=new n;p.traceId=d.traceId,p.spanId=d.spanId,p.traceFlag=n.formatOpenTelemetryTraceFlags(d.traceFlags),p.parentId=u.parentSpanId?"|"+d.traceId+"."+u.parentSpanId+".":null,o.AsyncScopeManager.with(u,function(){s.forEach(function(h){u.kind===e.SpanKind.SERVER?h.trackRequest(f):(u.kind===e.SpanKind.CLIENT||u.kind===e.SpanKind.INTERNAL)&&h.trackDependency(f)})})};t.subscriber=a;function c(l,u){l?(s.length===0&&r.channel.subscribe("azure-coretracing",t.subscriber),s.push(u)):(s=s.filter(function(f){return f!=u}),s.length===0&&r.channel.unsubscribe("azure-coretracing",t.subscriber))}t.enable=c}),Yue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=lr(),r=[],n=function(o){o.data.event.commandName!=="ismaster"&&r.forEach(function(s){var a=o.data.startedData&&o.data.startedData.databaseName||"Unknown database";s.trackDependency({target:a,data:o.data.event.commandName,name:o.data.event.commandName,duration:o.data.event.duration,success:o.data.succeeded,resultCode:o.data.succeeded?"0":"1",time:o.data.startedData.time,dependencyTypeName:"mongodb"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mongodb",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mongodb",t.subscriber))}t.enable=i}),Jue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=lr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query||{},c=a.sql||"Unknown query",l=!o.data.err,u=a._connection||{},f=u.config||{},d=f.socketPath?f.socketPath:(f.host||"localhost")+":"+f.port;s.trackDependency({target:d,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"mysql"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("mysql",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("mysql",t.subscriber))}t.enable=i}),Que=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=lr(),r=[],n=function(o){r.forEach(function(s){o.data.commandObj.command!=="info"&&s.trackDependency({target:o.data.address,name:o.data.commandObj.command,data:o.data.commandObj.command,duration:o.data.duration,success:!o.data.err,resultCode:o.data.err?"1":"0",time:o.data.time,dependencyTypeName:"redis"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("redis",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("redis",t.subscriber))}t.enable=i}),Xue=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enable=t.subscriber=void 0;var e=lr(),r=[],n=function(o){r.forEach(function(s){var a=o.data.query,c=a.preparable&&a.preparable.text||a.plan||a.text||"unknown query",l=!o.data.error,u=o.data.database.host+":"+o.data.database.port;s.trackDependency({target:u,data:c,name:c,duration:o.data.duration,success:l,resultCode:l?"0":"1",time:o.data.time,dependencyTypeName:"postgres"})})};t.subscriber=n;function i(o,s){o?(r.length===0&&e.channel.subscribe("postgres",t.subscriber),r.push(s)):(r=r.filter(function(a){return a!=s}),r.length===0&&e.channel.unsubscribe("postgres",t.subscriber))}t.enable=i}),Sh=L((t,e)=>{"use strict";var r=t&&t.__spreadArrays||function(){for(var h=0,m=0,g=arguments.length;m<g;m++)h+=arguments[m].length;for(var v=Array(h),y=0,m=0;m<g;m++)for(var C=arguments[m],b=0,_=C.length;b<_;b++,y++)v[y]=C[b];return v},n=require("http"),i=require("https"),o=Lr(),s=Ei(),a=_h(),c=Gue(),l=_f(),u=Ef(),f=Ww(),d=UP(),p=function(){function h(m){if(h.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");h.INSTANCE=this,this._client=m}return h.prototype.enable=function(m){this._isEnabled=m,this._isEnabled&&!this._isInitialized&&this._initialize(),d.IsInitialized&&(Kue().enable(!0,this._client),Yue().enable(m,this._client),Jue().enable(m,this._client),Que().enable(m,this._client),Xue().enable(m,this._client))},h.prototype.isInitialized=function(){return this._isInitialized},h.prototype._initialize=function(){var m=this;this._isInitialized=!0;var g=n.request,v=i.request,y=function(C,b){var _=!b[h.disableCollectionRequestOption]&&!C[h.alreadyAutoCollectedFlag];b.headers&&b.headers["user-agent"]&&b.headers["user-agent"].toString().indexOf("azsdk-js")!==-1&&(_=!1),C[h.alreadyAutoCollectedFlag]=!0,C&&b&&_&&(l.CorrelationContextManager.wrapEmitter(C),h.trackRequest(m._client,{options:b,request:C}))};n.request=function(C){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];var P=g.call.apply(g,r([n,C],b));return y(P,C),P},i.request=function(C){for(var b=[],_=1;_<arguments.length;_++)b[_-1]=arguments[_];var P=v.call.apply(v,r([i,C],b));return y(P,C),P},n.get=function(C){for(var b,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var S=(b=n.request).call.apply(b,r([n,C],_));return S.end(),S},i.get=function(C){for(var b,_=[],P=1;P<arguments.length;P++)_[P-1]=arguments[P];var S=(b=i.request).call.apply(b,r([i,C],_));return S.end(),S}},h.trackRequest=function(m,g){if(!g.options||!g.request||!m){o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!g.options,!g.request,!m);return}var v=new c(g.options,g.request),y=l.CorrelationContextManager.getCurrentContext(),C,b;if(y&&y.operation&&y.operation.traceparent&&f.isValidTraceId(y.operation.traceparent.traceId))y.operation.traceparent.updateSpanId(),C=y.operation.traceparent.getBackCompatRequestId();else if(u.w3cEnabled){var _=new f;b=_.toString(),C=_.getBackCompatRequestId()}else C=y&&y.operation&&y.operation.parentId+h.requestNumber+++".";if(s.canIncludeCorrelationHeader(m,v.getUrl())&&g.request.getHeader&&g.request.setHeader&&m.config&&m.config.correlationId){var P=g.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(m,g.request,P)}catch(T){o.warn("Request-Context header could not be set. Correlation of requests may be lost",T)}if(y&&y.operation)try{if(g.request.setHeader(a.requestIdHeader,C),m.config.ignoreLegacyHeaders||(g.request.setHeader(a.parentIdHeader,y.operation.id),g.request.setHeader(a.rootIdHeader,C)),b||y.operation.traceparent)g.request.setHeader(a.traceparentHeader,b||y.operation.traceparent.toString());else if(u.w3cEnabled){var _=new f().toString();g.request.setHeader(a.traceparentHeader,_)}if(y.operation.tracestate){var S=y.operation.tracestate.toString();S&&g.request.setHeader(a.traceStateHeader,S)}var x=y.customProperties.serializeToHeader();x&&g.request.setHeader(a.correlationContextHeader,x)}catch(T){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",T)}}g.request.on&&(g.request.on("response",function(T){v.onResponse(T);var A=v.getDependencyTelemetry(g,C);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,A.contextObjects["http.ClientResponse"]=T,m.trackDependency(A)}),g.request.on("error",function(T){v.onError(T);var A=v.getDependencyTelemetry(g,C);A.contextObjects=A.contextObjects||{},A.contextObjects["http.RequestOptions"]=g.options,A.contextObjects["http.ClientRequest"]=g.request,A.contextObjects.Error=T,m.trackDependency(A)}),g.request.on("abort",function(){v.onError(new Error);var T=v.getDependencyTelemetry(g,C);T.contextObjects=T.contextObjects||{},T.contextObjects["http.RequestOptions"]=g.options,T.contextObjects["http.ClientRequest"]=g.request,m.trackDependency(T)}))},h.prototype.dispose=function(){h.INSTANCE=null,this.enable(!1),this._isInitialized=!1},h.disableCollectionRequestOption="disableAppInsightsAutoCollection",h.requestNumber=1,h.alreadyAutoCollectedFlag="_appInsightsAutoCollected",h}();e.exports=p}),Zue=L((t,e)=>{"use strict";var r=require("os"),n=Ca(),i=Ei(),o=Kw(),s=Sh(),a="http://169.254.169.254/metadata/instance/compute",c="api-version=2017-12-01",l="format=json",u="ENETUNREACH",f=function(){function d(p){this._collectionInterval=9e5,this._vmData={},this._azInst_vmId="",this._azInst_subscriptionId="",this._azInst_osType="",d.INSTANCE||(d.INSTANCE=this),this._isInitialized=!1,this._client=p}return d.prototype.enable=function(p,h){var m=this;this._isEnabled=p,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),p?this._handle||(this._handle=setInterval(function(){return m.trackHeartBeat(h,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},d.prototype.isInitialized=function(){return this._isInitialized},d.isEnabled=function(){return d.INSTANCE&&d.INSTANCE._isEnabled},d.prototype.trackHeartBeat=function(p,h){var m=this,g=!1,v={},y=o.sdkVersion;v.sdk=y,v.osType=r.type(),process.env.WEBSITE_SITE_NAME?(v.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",v.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",v.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?v.azfunction_appId=process.env.WEBSITE_HOSTNAME:p&&(this._isVM===void 0?(g=!0,this._getAzureComputeMetadata(p,function(){m._isVM&&Object.keys(m._vmData).length>0&&(v.azInst_vmId=m._vmData.vmId||"",v.azInst_subscriptionId=m._vmData.subscriptionId||"",v.azInst_osType=m._vmData.osType||"",m._azInst_vmId=m._vmData.vmId||"",m._azInst_subscriptionId=m._vmData.subscriptionId||"",m._azInst_osType=m._vmData.osType||""),m._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h()})):this._isVM&&(v.azInst_vmId=this._azInst_vmId,v.azInst_subscriptionId=this._azInst_subscriptionId,v.azInst_osType=this._azInst_osType)),g||(this._client.trackMetric({name:n.HeartBeatMetricName,value:0,properties:v}),h())},d.prototype.dispose=function(){d.INSTANCE=null,this.enable(!1),this._isInitialized=!1},d.prototype._getAzureComputeMetadata=function(p,h){var m,g=this,v=a+"?"+c+"&"+l,y=(m={method:"GET"},m[s.disableCollectionRequestOption]=!0,m.headers={Metadata:"True"},m),C=i.makeRequest(p,v,y,function(b){if(b.statusCode===200){g._isVM=!0;var _="";b.on("data",function(P){_+=P}),b.on("end",function(){g._vmData=g._isJSON(_)?JSON.parse(_):{},h()})}else h()});C&&(C.on("error",function(b){b&&b.message&&b.message.indexOf(u)>-1&&(g._isVM=!1),h()}),C.end())},d.prototype._isJSON=function(p){try{return JSON.parse(p)&&!!p}catch{return!1}},d}();e.exports=f}),aV=L((t,e)=>{"use strict";var r=require("http"),n=require("https"),i=Lr(),o=Ei(),s=_h(),a=rV(),c=_f(),l=VP(),u=function(){function f(d){if(f.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");f.INSTANCE=this,this._client=d}return f.prototype.enable=function(d){this._isEnabled=d,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},f.prototype.useAutoCorrelation=function(d,p){d&&!this._isAutoCorrelating?c.CorrelationContextManager.enable(p):!d&&this._isAutoCorrelating&&c.CorrelationContextManager.disable(),this._isAutoCorrelating=d},f.prototype.isInitialized=function(){return this._isInitialized},f.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},f.prototype._generateCorrelationContext=function(d){if(this._isAutoCorrelating)return c.CorrelationContextManager.generateContextObject(d.getOperationId(this._client.context.tags),d.getRequestId(),d.getOperationName(this._client.context.tags),d.getCorrelationContextHeader(),d.getTraceparent(),d.getTracestate())},f.prototype._initialize=function(){var d=this;this._isInitialized=!0;var p=function(v){if(v){if(typeof v!="function")throw new Error("onRequest handler must be a function");return function(y,C){c.CorrelationContextManager.wrapEmitter(y),c.CorrelationContextManager.wrapEmitter(C);var b=y&&!y[f.alreadyAutoCollectedFlag];if(y&&b){var _=new a(y),P=d._generateCorrelationContext(_);c.CorrelationContextManager.runWithContext(P,function(){d._isEnabled&&(y[f.alreadyAutoCollectedFlag]=!0,f.trackRequest(d._client,{request:y,response:C},_)),typeof v=="function"&&v(y,C)})}else typeof v=="function"&&v(y,C)}}},h=function(v){var y=v.addListener.bind(v);v.addListener=function(C,b){switch(C){case"request":case"checkContinue":return y(C,p(b));default:return y(C,b)}},v.on=v.addListener},m=r.createServer;r.createServer=function(v,y){if(y&&typeof y=="function"){var C=m(v,p(y));return h(C),C}else{var C=m(p(v));return h(C),C}};var g=n.createServer;n.createServer=function(v,y){var C=g(v,p(y));return h(C),C}},f.trackRequestSync=function(d,p){if(!p.request||!p.response||!d){i.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!p.request,!p.response,!d);return}f.addResponseCorrelationIdHeader(d,p.response);var h=c.CorrelationContextManager.getCurrentContext(),m=new a(p.request,h&&h.operation.parentId);h&&(h.operation.id=m.getOperationId(d.context.tags)||h.operation.id,h.operation.name=m.getOperationName(d.context.tags)||h.operation.name,h.operation.parentId=m.getRequestId()||h.operation.parentId,h.customProperties.addHeaderData(m.getCorrelationContextHeader())),f.endRequest(d,m,p,p.duration,p.error)},f.trackRequest=function(d,p,h){if(!p.request||!p.response||!d){i.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!p.request,!p.response,!d);return}var m=c.CorrelationContextManager.getCurrentContext(),g=h||new a(p.request,m&&m.operation.parentId);o.canIncludeCorrelationHeader(d,g.getUrl())&&f.addResponseCorrelationIdHeader(d,p.response),m&&!h&&(m.operation.id=g.getOperationId(d.context.tags)||m.operation.id,m.operation.name=g.getOperationName(d.context.tags)||m.operation.name,m.operation.parentId=g.getOperationParentId(d.context.tags)||m.operation.parentId,m.customProperties.addHeaderData(g.getCorrelationContextHeader())),p.response.once&&p.response.once("finish",function(){f.endRequest(d,g,p,null,null)}),p.request.on&&p.request.on("error",function(v){f.endRequest(d,g,p,null,v)}),p.request.on&&p.request.on("aborted",function(){var v="The request has been aborted and the network socket has closed.";f.endRequest(d,g,p,null,v)})},f.addResponseCorrelationIdHeader=function(d,p){if(d.config&&d.config.correlationId&&p.getHeader&&p.setHeader&&!p.headersSent){var h=p.getHeader(s.requestContextHeader);o.safeIncludeCorrelationHeader(d,p,h)}},f.endRequest=function(d,p,h,m,g){g?p.onError(g,m):p.onResponse(h.response,m);var v=p.getRequestTelemetry(h);if(v.tagOverrides=p.getRequestTags(d.context.tags),h.tagOverrides)for(var y in h.tagOverrides)v.tagOverrides[y]=h.tagOverrides[y];var C=p.getLegacyRootId();C&&(v.properties.ai_legacyRootId=C),v.contextObjects=v.contextObjects||{},v.contextObjects["http.ServerRequest"]=h.request,v.contextObjects["http.ServerResponse"]=h.response,d.trackRequest(v)},f.prototype.dispose=function(){f.INSTANCE=null,this.enable(!1),this._isInitialized=!1,c.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},f.alreadyAutoCollectedFlag="_appInsightsAutoCollected",f}();e.exports=u}),efe=L((t,e)=>{"use strict";var r=t&&t.__assign||function(){return r=Object.assign||function(u){for(var f,d=1,p=arguments.length;d<p;d++){f=arguments[d];for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h])}return u},r.apply(this,arguments)},n=require("os"),i=bn(),o=Ca(),s=Ei(),a=Lr(),c=s.w3cTraceId(),l=function(){function u(){}return u.createQuickPulseEnvelope=function(f,d,p,h){var m=n&&typeof n.hostname=="function"&&n.hostname()||"Unknown",g=h.tags&&h.keys&&h.keys.cloudRoleInstance&&h.tags[h.keys.cloudRoleInstance]||m,v=h.tags&&h.keys&&h.keys.cloudRole&&h.tags[h.keys.cloudRole]||null,y={Documents:d.length>0?d:null,InstrumentationKey:p.instrumentationKey||"",Metrics:f.length>0?f:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:h.tags[h.keys.internalSdkVersion],StreamId:c,MachineName:m,Instance:g,RoleName:v};return y},u.createQuickPulseMetric=function(f){var d;return d={Name:f.name,Value:f.value,Weight:f.count||1},d},u.telemetryEnvelopeToQuickPulseDocument=function(f){switch(f.data.baseType){case i.TelemetryTypeString.Event:return u.createQuickPulseEventDocument(f);case i.TelemetryTypeString.Exception:return u.createQuickPulseExceptionDocument(f);case i.TelemetryTypeString.Trace:return u.createQuickPulseTraceDocument(f);case i.TelemetryTypeString.Dependency:return u.createQuickPulseDependencyDocument(f);case i.TelemetryTypeString.Request:return u.createQuickPulseRequestDocument(f)}return null},u.createQuickPulseEventDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.name,h=r(r({},d),{Name:p});return h},u.createQuickPulseTraceDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.severityLevel||0,h=r(r({},d),{Message:f.data.baseData.message,SeverityLevel:i.SeverityLevel[p]});return h},u.createQuickPulseExceptionDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData.exceptions,h="",m="",g="";p&&p.length>0&&(p[0].parsedStack&&p[0].parsedStack.length>0?p[0].parsedStack.forEach(function(y){h+=y.assembly+`
`}):p[0].stack&&p[0].stack.length>0&&(h=p[0].stack),m=p[0].message,g=p[0].typeName);var v=r(r({},d),{Exception:h,ExceptionMessage:m,ExceptionType:g});return v},u.createQuickPulseRequestDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData,h=r(r({},d),{Name:p.name,Success:p.success,Duration:p.duration,ResponseCode:p.responseCode,OperationName:p.name});return h},u.createQuickPulseDependencyDocument=function(f){var d=u.createQuickPulseDocument(f),p=f.data.baseData,h=r(r({},d),{Name:p.name,Target:p.target,Success:p.success,Duration:p.duration,ResultCode:p.resultCode,CommandName:p.data,OperationName:d.OperationId,DependencyTypeName:p.type});return h},u.createQuickPulseDocument=function(f){var d,p,h,m;f.data.baseType?(p=o.TelemetryTypeStringToQuickPulseType[f.data.baseType],d=o.TelemetryTypeStringToQuickPulseDocumentType[f.data.baseType]):a.warn("Document type invalid; not sending live metric document",f.data.baseType),h=f.tags[u.keys.operationId],m=u.aggregateProperties(f);var g={DocumentType:d,__type:p,OperationId:h,Version:"1.0",Properties:m};return g},u.aggregateProperties=function(f){var d=[],p=f.data.baseData.measurements||{};for(var h in p)if(p.hasOwnProperty(h)){var m=p[h],g={key:h,value:m};d.push(g)}var v=f.data.baseData.properties||{};for(var h in v)if(v.hasOwnProperty(h)){var m=v[h],g={key:h,value:m};d.push(g)}return d},u.keys=new i.ContextTagKeys,u}();e.exports=l}),tfe=L((t,e)=>{"use strict";var r=function(){return(Date.now()+621355968e5)*1e4};e.exports={getTransmissionTime:r}}),rfe=L((t,e)=>{"use strict";var r=t&&t.__awaiter||function(f,d,p,h){function m(g){return g instanceof p?g:new p(function(v){v(g)})}return new(p||(p=Promise))(function(g,v){function y(_){try{b(h.next(_))}catch(P){v(P)}}function C(_){try{b(h.throw(_))}catch(P){v(P)}}function b(_){_.done?g(_.value):m(_.value).then(y,C)}b((h=h.apply(f,d||[])).next())})},n=t&&t.__generator||function(f,d){var p={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},h,m,g,v;return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(b){return function(_){return C([b,_])}}function C(b){if(h)throw new TypeError("Generator is already executing.");for(;p;)try{if(h=1,m&&(g=b[0]&2?m.return:b[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,b[1])).done)return g;switch(m=0,g&&(b=[b[0]&2,g.value]),b[0]){case 0:case 1:g=b;break;case 4:return p.label++,{value:b[1],done:!1};case 5:p.label++,m=b[1],b=[0];continue;case 7:b=p.ops.pop(),p.trys.pop();continue;default:if(g=p.trys,!(g=g.length>0&&g[g.length-1])&&(b[0]===6||b[0]===2)){p=0;continue}if(b[0]===3&&(!g||b[1]>g[0]&&b[1]<g[3])){p.label=b[1];break}if(b[0]===6&&p.label<g[1]){p.label=g[1],g=b;break}if(g&&p.label<g[2]){p.label=g[2],p.ops.push(b);break}g[2]&&p.ops.pop(),p.trys.pop();continue}b=d.call(f,p)}catch(_){b=[6,_],m=0}finally{h=g=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}},i=require("https"),o=Sh(),s=Lr(),a=tfe(),c=Ei(),l={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},u=function(){function f(d){this._config=d,this._consecutiveErrors=0}return f.prototype.ping=function(d,p,h){var m=[{name:l.streamId,value:d.StreamId},{name:l.machineName,value:d.MachineName},{name:l.roleName,value:d.RoleName},{name:l.instanceName,value:d.Instance},{name:l.invariantVersion,value:d.InvariantVersion.toString()}];this._submitData(d,p,h,"ping",m)},f.prototype.post=function(d,p,h){return r(this,void 0,void 0,function(){return n(this,function(m){switch(m.label){case 0:return[4,this._submitData([d],p,h,"post")];case 1:return m.sent(),[2]}})})},f.prototype._submitData=function(d,p,h,m,g){return r(this,void 0,void 0,function(){var v,y,C,b,_,P=this;return n(this,function(S){return v=JSON.stringify(d),y=(b={},b[o.disableCollectionRequestOption]=!0,b.host=p&&p.length>0?p:this._config.quickPulseHost,b.method=l.method,b.path="/QuickPulseService.svc/"+m+"?ikey="+this._config.instrumentationKey,b.headers=(_={Expect:"100-continue"},_[l.time]=a.getTransmissionTime(),_["Content-Type"]="application/json",_["Content-Length"]=Buffer.byteLength(v),_),b),g&&g.length>0&&g.forEach(function(x){return y.headers[x.name]=x.value}),this._config.httpsAgent?y.agent=this._config.httpsAgent:y.agent=c.tlsRestrictedAgent,C=i.request(y,function(x){if(x.statusCode==200){var T=x.headers[l.subscribed]==="true",A=x.headers[l.endpointRedirect]?x.headers[l.endpointRedirect].toString():null,N=x.headers[l.pollingIntervalHint]?parseInt(x.headers[l.pollingIntervalHint].toString()):null;P._consecutiveErrors=0,h(T,x,A,N)}else P._onError("StatusCode:"+x.statusCode+" StatusMessage:"+x.statusMessage),h()}),C.on("error",function(x){P._onError(x),h()}),C.write(v),C.end(),[2]})})},f.prototype._onError=function(d){this._consecutiveErrors++;var p="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%f.MAX_QPS_FAILURES_BEFORE_WARN==0?(p="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",s.warn(f.TAG,p,d)):s.info(f.TAG,p,d)},f.TAG="QuickPulseSender",f.MAX_QPS_FAILURES_BEFORE_WARN=25,f}();e.exports=u}),nfe=L((t,e)=>{"use strict";var r=t&&t.__awaiter||function(u,f,d,p){function h(m){return m instanceof d?m:new d(function(g){g(m)})}return new(d||(d=Promise))(function(m,g){function v(b){try{C(p.next(b))}catch(_){g(_)}}function y(b){try{C(p.throw(b))}catch(_){g(_)}}function C(b){b.done?m(b.value):h(b.value).then(v,y)}C((p=p.apply(u,f||[])).next())})},n=t&&t.__generator||function(u,f){var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},p,h,m,g;return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(C){return function(b){return y([C,b])}}function y(C){if(p)throw new TypeError("Generator is already executing.");for(;d;)try{if(p=1,h&&(m=C[0]&2?h.return:C[0]?h.throw||((m=h.return)&&m.call(h),0):h.next)&&!(m=m.call(h,C[1])).done)return m;switch(h=0,m&&(C=[C[0]&2,m.value]),C[0]){case 0:case 1:m=C;break;case 4:return d.label++,{value:C[1],done:!1};case 5:d.label++,h=C[1],C=[0];continue;case 7:C=d.ops.pop(),d.trys.pop();continue;default:if(m=d.trys,!(m=m.length>0&&m[m.length-1])&&(C[0]===6||C[0]===2)){d=0;continue}if(C[0]===3&&(!m||C[1]>m[0]&&C[1]<m[3])){d.label=C[1];break}if(C[0]===6&&d.label<m[1]){d.label=m[1],m=C;break}if(m&&d.label<m[2]){d.label=m[2],d.ops.push(C);break}m[2]&&d.ops.pop(),d.trys.pop();continue}C=f.call(u,d)}catch(b){C=[6,b],h=0}finally{p=m=0}if(C[0]&5)throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}},i=Lr(),o=efe(),s=rfe(),a=Ca(),c=Kw(),l=function(){function u(f,d){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=f,this.context=d||new c,this._sender=new s(this.config),this._isEnabled=!1}return u.prototype.addCollector=function(f){this._collectors.push(f)},u.prototype.trackMetric=function(f){this._addMetric(f)},u.prototype.addDocument=function(f){var d=o.telemetryEnvelopeToQuickPulseDocument(f);d&&this._documents.push(d)},u.prototype.enable=function(f){f&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!f&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},u.prototype.enableCollectors=function(f){this._collectors.forEach(function(d){d.enable(f)})},u.prototype._addMetric=function(f){var d=f.value,p=f.count||1,h=a.PerformanceToQuickPulseCounter[f.name];h&&(this._metrics[h]?(this._metrics[h].Value=(this._metrics[h].Value*this._metrics[h].Weight+d*p)/(this._metrics[h].Weight+p),this._metrics[h].Weight+=p):(this._metrics[h]=o.createQuickPulseMetric(f),this._metrics[h].Name=h,this._metrics[h].Weight=1))},u.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},u.prototype._goQuickPulse=function(){return r(this,void 0,void 0,function(){var f,d,p,h,m=this;return n(this,function(g){switch(g.label){case 0:return f=Object.keys(this._metrics).map(function(v){return m._metrics[v]}),d=o.createQuickPulseEnvelope(f,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(d)]:[3,2];case 1:return g.sent(),[3,3];case 2:this._ping(d),g.label=3;case 3:return p=this._pollingIntervalHint>0?this._pollingIntervalHint:u.PING_INTERVAL,h=this._isCollectingData?u.POST_INTERVAL:p,this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,h=u.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=u.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(h=u.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),h),this._handle.unref(),[2]}})})},u.prototype._ping=function(f){this._sender.ping(f,this._redirectedHost,this._quickPulseDone.bind(this))},u.prototype._post=function(f){return r(this,void 0,void 0,function(){return n(this,function(d){switch(d.label){case 0:return[4,this._sender.post(f,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return d.sent(),[2]}})})},u.prototype._quickPulseDone=function(f,d,p,h){f!=null?(this._isCollectingData!==f&&(i.info("Live Metrics sending data",f),this.enableCollectors(f)),this._isCollectingData=f,p&&p.length>0&&(this._redirectedHost=p,i.info("Redirecting endpoint to: ",p)),h&&h>0&&(this._pollingIntervalHint=h),d&&d.statusCode<300&&d.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},u.MAX_POST_WAIT_TIME=2e4,u.MAX_PING_WAIT_TIME=6e4,u.FALLBACK_INTERVAL=6e4,u.PING_INTERVAL=5e3,u.POST_INTERVAL=1e3,u}();e.exports=l}),ife=L((t,e)=>{"use strict";var r=Ca(),n=function(){function i(){}return i.parse=function(o){if(!o)return{};var s=o.split(i._FIELDS_SEPARATOR),a=s.reduce(function(l,u){var f=u.split(i._FIELD_KEY_VALUE_SEPARATOR);if(f.length===2){var d=f[0].toLowerCase(),p=f[1];l[d]=p}return l},{});if(Object.keys(a).length>0){if(a.endpointsuffix){var c=a.location?a.location+".":"";a.ingestionendpoint=a.ingestionendpoint||"https://"+c+"dc."+a.endpointsuffix,a.liveendpoint=a.liveendpoint||"https://"+c+"live."+a.endpointsuffix}a.ingestionendpoint=a.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,a.liveendpoint=a.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return a},i._FIELDS_SEPARATOR=";",i._FIELD_KEY_VALUE_SEPARATOR="=",i}();e.exports=n}),cV=L((t,e)=>{"use strict";var r=Ef(),n=ife(),i=Lr(),o=Ca(),s=require("url"),a=function(){function c(l){var u=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var f=process.env[c.ENV_connectionString],d=n.parse(l),p=n.parse(f),h=!d.instrumentationkey&&Object.keys(d).length>0?null:l;this.instrumentationKey=d.instrumentationkey||h||p.instrumentationkey||c._getInstrumentationKey(),c._validateInstrumentationKey(this.instrumentationKey),this.endpointUrl=(d.ingestionendpoint||p.ingestionendpoint||this.endpointBase)+"/v2.1/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=30*1e3,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(m){return u.correlationId=m},this.proxyHttpUrl=process.env[c.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[c.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=d.ingestionendpoint||p.ingestionendpoint||process.env[c.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=d.liveendpoint||p.liveendpoint||process.env[c.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(c.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(l){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=l,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(l){this._quickPulseHost=l},enumerable:!1,configurable:!0}),c._getInstrumentationKey=function(){var l=process.env[c.ENV_iKey]||process.env[c.ENV_azurePrefix+c.ENV_iKey]||process.env[c.legacy_ENV_iKey]||process.env[c.ENV_azurePrefix+c.legacy_ENV_iKey];if(!l||l=="")throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return l},c._validateInstrumentationKey=function(l){var u="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",f=new RegExp(u);return f.test(l)},c.ENV_azurePrefix="APPSETTING_",c.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",c.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",c.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",c.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",c.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",c.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",c.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",c.ENV_http_proxy="http_proxy",c.ENV_https_proxy="https_proxy",c}();e.exports=a}),ofe=L(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCollectNativePerformance=void 0;var r=cV(),n=Kw(),i=Lr(),o=function(){function s(a){this._disabledMetrics={},s.INSTANCE&&s.INSTANCE.dispose(),s.INSTANCE=this,this._client=a}return s.isNodeVersionCompatible=function(){var a=process.versions.node.split(".");return parseInt(a[0])>=6},s.prototype.enable=function(a,c,l){var u=this;if(c===void 0&&(c={}),l===void 0&&(l=6e4),!!s.isNodeVersionCompatible()){if(s._metricsAvailable==null&&a&&!this._isInitialized)try{var f=require("applicationinsights-native-metrics");s._emitter=new f,s._metricsAvailable=!0,i.info("Native metrics module successfully loaded!")}catch{s._metricsAvailable=!1;return}this._isEnabled=a,this._disabledMetrics=c,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&s._emitter?(s._emitter.enable(!0,l),this._handle||(this._handle=setInterval(function(){return u._trackNativeMetrics()},l),this._handle.unref())):s._emitter&&(s._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},s.prototype.dispose=function(){this.enable(!1)},s.parseEnabled=function(a){var c=process.env[r.ENV_nativeMetricsDisableAll],l=process.env[r.ENV_nativeMetricsDisablers];if(c)return{isEnabled:!1,disabledMetrics:{}};if(l){var u=l.split(","),f={};if(u.length>0)for(var d=0,p=u;d<p.length;d++){var h=p[d];f[h]=!0}return typeof a=="object"?{isEnabled:!0,disabledMetrics:e(e({},a),f)}:{isEnabled:a,disabledMetrics:f}}return typeof a=="boolean"?{isEnabled:a,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:a}},s.prototype._trackNativeMetrics=function(){var a=!0;typeof this._isEnabled!="object"&&(a=this._isEnabled),a&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},s.prototype._trackGarbageCollection=function(){var a;if(!this._disabledMetrics.gc){var c=s._emitter.getGCData();for(var l in c){var u=c[l].metrics,f=l+" Garbage Collection Duration",d=Math.sqrt(u.sumSquares/u.count-Math.pow(u.total/u.count,2))||0;this._client.trackMetric({name:f,value:u.total,count:u.count,max:u.max,min:u.min,stdDev:d,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackEventLoop=function(){var a;if(!this._disabledMetrics.loop){var c=s._emitter.getLoopData(),l=c.loopUsage;if(l.count!=0){var u="Event Loop CPU Time",f=Math.sqrt(l.sumSquares/l.count-Math.pow(l.total/l.count,2))||0;this._client.trackMetric({name:u,value:l.total,count:l.count,min:l.min,max:l.max,stdDev:f,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)})}}},s.prototype._trackHeapUsage=function(){var a,c,l;if(!this._disabledMetrics.heap){var u=process.memoryUsage(),f=u.heapUsed,d=u.heapTotal,p=u.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:f,count:1,tagOverrides:(a={},a[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,a)}),this._client.trackMetric({name:"Memory Total (Heap)",value:d,count:1,tagOverrides:(c={},c[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,c)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:p-d,count:1,tagOverrides:(l={},l[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+n.sdkVersion,l)})}},s}();t.AutoCollectNativePerformance=o}),sfe=L((t,e)=>{"use strict";var r=Lr(),n=function(){function i(o,s,a,c){this._buffer=[],this._lastSend=0,this._isDisabled=o,this._getBatchSize=s,this._getBatchIntervalMs=a,this._sender=c}return i.prototype.setUseDiskRetryCaching=function(o,s,a){this._sender.setDiskRetryMode(o,s,a)},i.prototype.send=function(o){var s=this;if(!this._isDisabled()){if(!o){r.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(o),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){s._timeoutHandle=null,s.triggerSend(!1)},this._getBatchIntervalMs()))}},i.prototype.triggerSend=function(o,s){var a=this._buffer.length<1;a||(o?(this._sender.saveOnCrash(this._buffer),typeof s=="function"&&s("data saved on crash")):this._sender.send(this._buffer,s)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,a&&typeof s=="function"&&s("no data to send")},i}();e.exports=n}),afe=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.azureRoleEnvironmentTelemetryProcessor=void 0;function e(r,n){process.env.WEBSITE_SITE_NAME&&(r.tags[n.keys.cloudRole]=process.env.WEBSITE_SITE_NAME)}t.azureRoleEnvironmentTelemetryProcessor=e}),cfe=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSamplingHashCode=t.samplingTelemetryProcessor=void 0;var e=bn();function r(i,o){var s=i.sampleRate,a=!1;return s==null||s>=100||i.data&&e.TelemetryType.Metric===e.baseTypeToTelemetryType(i.data.baseType)?!0:(o.correlationContext&&o.correlationContext.operation?a=n(o.correlationContext.operation.id)<s:a=Math.random()*100<s,a)}t.samplingTelemetryProcessor=r;function n(i){var o=-2147483648,s=2147483647,a=5381;if(!i)return 0;for(;i.length<8;)i=i+i;for(var c=0;c<i.length;c++)a=((a<<5)+a|0)+i.charCodeAt(c)|0;return a=a<=o?s:Math.abs(a),a/s*100}t.getSamplingHashCode=n}),lfe=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceMetricsTelemetryProcessor=void 0;var e=VP(),r=bn();function n(i,o){switch(o&&o.addDocument(i),i.data.baseType){case r.TelemetryTypeString.Exception:e.countException();break;case r.TelemetryTypeString.Request:var s=i.data.baseData;e.countRequest(s.duration,s.success);break;case r.TelemetryTypeString.Dependency:var a=i.data.baseData;e.countDependency(a.duration,a.success);break}return!0}t.performanceMetricsTelemetryProcessor=n}),ufe=L(t=>{"use strict";var e=t&&t.__assign||function(){return e=Object.assign||function(s){for(var a,c=1,l=arguments.length;c<l;c++){a=arguments[c];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u])}return s},e.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.preAggregatedMetricsTelemetryProcessor=void 0;var r=bn(),n=sV(),i=bn();function o(s,a){if(n.isEnabled())switch(s.data.baseType){case i.TelemetryTypeString.Exception:var c=s.data.baseData;c.properties=e(e({},c.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var l={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole]};n.countException(l);break;case i.TelemetryTypeString.Trace:var u=s.data.baseData;u.properties=e(e({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var f={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],traceSeverityLevel:r.SeverityLevel[u.severity]};n.countTrace(f);break;case i.TelemetryTypeString.Request:var d=s.data.baseData;d.properties=e(e({},d.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var p={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],requestSuccess:d.success,requestResultCode:d.responseCode};n.countRequest(d.duration,p);break;case i.TelemetryTypeString.Dependency:var h=s.data.baseData;h.properties=e(e({},h.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var m={cloudRoleInstance:s.tags[a.keys.cloudRoleInstance],cloudRoleName:s.tags[a.keys.cloudRole],operationSynthetic:s.tags[a.keys.operationSyntheticSource],dependencySuccess:h.success,dependencyType:h.type,dependencyTarget:h.target,dependencyResultCode:h.resultCode};n.countDependency(h.duration,m);break}return!0}t.preAggregatedMetricsTelemetryProcessor=o}),ffe=L(t=>{"use strict";var e=t&&t.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o),Object.defineProperty(n,s,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=t&&t.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&e(i,n,o)};Object.defineProperty(t,"__esModule",{value:!0}),r(afe(),t),r(cfe(),t),r(lfe(),t),r(ufe(),t)}),dfe=L((t,e)=>{"use strict";var r=t&&t.__awaiter||function(p,h,m,g){function v(y){return y instanceof m?y:new m(function(C){C(y)})}return new(m||(m=Promise))(function(y,C){function b(S){try{P(g.next(S))}catch(x){C(x)}}function _(S){try{P(g.throw(S))}catch(x){C(x)}}function P(S){S.done?y(S.value):v(S.value).then(b,_)}P((g=g.apply(p,h||[])).next())})},n=t&&t.__generator||function(p,h){var m={label:0,sent:function(){if(y[0]&1)throw y[1];return y[1]},trys:[],ops:[]},g,v,y,C;return C={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function b(P){return function(S){return _([P,S])}}function _(P){if(g)throw new TypeError("Generator is already executing.");for(;m;)try{if(g=1,v&&(y=P[0]&2?v.return:P[0]?v.throw||((y=v.return)&&y.call(v),0):v.next)&&!(y=y.call(v,P[1])).done)return y;switch(v=0,y&&(P=[P[0]&2,y.value]),P[0]){case 0:case 1:y=P;break;case 4:return m.label++,{value:P[1],done:!1};case 5:m.label++,v=P[1],P=[0];continue;case 7:P=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!(y=y.length>0&&y[y.length-1])&&(P[0]===6||P[0]===2)){m=0;continue}if(P[0]===3&&(!y||P[1]>y[0]&&P[1]<y[3])){m.label=P[1];break}if(P[0]===6&&m.label<y[1]){m.label=y[1],y=P;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(P);break}y[2]&&m.ops.pop(),m.trys.pop();continue}P=h.call(p,m)}catch(S){P=[6,S],v=0}finally{g=y=0}if(P[0]&5)throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}},i=require("fs"),o=require("os"),s=require("path"),a=require("zlib"),c=require("child_process"),l=Lr(),u=Sh(),f=Ei(),d=function(){function p(h,m,g){if(this._redirectedHost=null,this._config=h,this._onSuccess=m,this._onError=g,this._enableDiskRetryMode=!1,this._resendInterval=p.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=p.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._fileCleanupTimer=null,this._tempDir=s.join(o.tmpdir(),p.TEMPDIR_PREFIX+this._config.instrumentationKey),!p.OS_PROVIDES_FILE_PROTECTION)if(p.USE_ICACLS){try{p.OS_PROVIDES_FILE_PROTECTION=i.existsSync(p.ICACLS_PATH)}catch{}p.OS_PROVIDES_FILE_PROTECTION||l.warn(p.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else p.OS_PROVIDES_FILE_PROTECTION=!0}return p.prototype.setDiskRetryMode=function(h,m,g){var v=this;this._enableDiskRetryMode=p.OS_PROVIDES_FILE_PROTECTION&&h,typeof m=="number"&&m>=0&&(this._resendInterval=Math.floor(m)),typeof g=="number"&&g>=0&&(this._maxBytesOnDisk=Math.floor(g)),h&&!p.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,l.warn(p.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){v._fileCleanupTask()},p.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref()):this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer)},p.prototype.send=function(h,m){return r(this,void 0,void 0,function(){var g,v,y,C,b=this;return n(this,function(_){return h&&(g=this._redirectedHost||this._config.endpointUrl,v={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},y="",h.forEach(function(P){var S=b._stringify(P);typeof S=="string"&&(y+=S+`
`)}),y.length>0&&(y=y.substring(0,y.length-1)),C=Buffer.from?Buffer.from(y):new Buffer(y),a.gzip(C,function(P,S){var x=S;P?(l.warn(P),x=C,v.headers["Content-Length"]=C.length.toString()):(v.headers["Content-Encoding"]="gzip",v.headers["Content-Length"]=S.length.toString()),l.info(p.TAG,v),v[u.disableCollectionRequestOption]=!0;var T=function(N){N.setEncoding("utf-8");var q="";N.on("data",function(J){q+=J}),N.on("end",function(){if(b._numConsecutiveFailures=0,b._enableDiskRetryMode){if(N.statusCode===200)b._resendTimer||(b._resendTimer=setTimeout(function(){b._resendTimer=null,b._sendFirstFileOnDisk()},b._resendInterval),b._resendTimer.unref());else if(b._isRetriable(N.statusCode))try{var J=JSON.parse(q),Y=[];J.errors.forEach(function(re){b._isRetriable(re.statusCode)&&Y.push(h[re.index])}),Y.length>0&&b._storeToDisk(Y)}catch{b._storeToDisk(h)}}if(N.statusCode===307||N.statusCode===308)if(b._numConsecutiveRedirects++,b._numConsecutiveRedirects<10){var ee=N.headers.location?N.headers.location.toString():null;ee&&(b._redirectedHost=ee,b.send(h,m))}else typeof m=="function"&&m("Error sending telemetry because of circular redirects.");else b._numConsecutiveRedirects=0,typeof m=="function"&&m(q),l.info(p.TAG,q),typeof b._onSuccess=="function"&&b._onSuccess(q)})},A=f.makeRequest(b._config,g,v,T);A.on("error",function(N){if(b._numConsecutiveFailures++,!b._enableDiskRetryMode||b._numConsecutiveFailures>0&&b._numConsecutiveFailures%p.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var q="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";b._enableDiskRetryMode&&(q="Ingestion endpoint could not be reached "+b._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),l.warn(p.TAG,q,f.dumpObj(N))}else{var q="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";l.info(p.TAG,q,f.dumpObj(N))}b._onErrorHelper(N),typeof m=="function"&&(N&&m(f.dumpObj(N)),m("Error sending telemetry")),b._enableDiskRetryMode&&b._storeToDisk(h)}),A.write(x),A.end()})),[2]})})},p.prototype.saveOnCrash=function(h){this._enableDiskRetryMode&&this._storeToDiskSync(this._stringify(h))},p.prototype._isRetriable=function(h){return h===206||h===408||h===429||h===439||h===500||h===503},p.prototype._runICACLS=function(h,m){var g=c.spawn(p.ICACLS_PATH,h,{windowsHide:!0});g.on("error",function(v){return m(v)}),g.on("close",function(v,y){return m(v===0?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+v+")"))})},p.prototype._runICACLSSync=function(h){if(c.spawnSync){var m=c.spawnSync(p.ICACLS_PATH,h,{windowsHide:!0});if(m.error)throw m.error;if(m.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+m.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},p.prototype._getACLIdentity=function(h){if(p.ACL_IDENTITY)return h(null,p.ACL_IDENTITY);var m=c.spawn(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),g="";m.stdout.on("data",function(v){return g+=v}),m.on("error",function(v){return h(v,null)}),m.on("close",function(v,y){return p.ACL_IDENTITY=g&&g.trim(),h(v===0?null:new Error("Getting ACL identity did not succeed (PS returned code "+v+")"),p.ACL_IDENTITY)})},p.prototype._getACLIdentitySync=function(){if(p.ACL_IDENTITY)return p.ACL_IDENTITY;if(c.spawnSync){var h=c.spawnSync(p.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(h.error)throw h.error;if(h.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+h.status+")");return p.ACL_IDENTITY=h.stdout&&h.stdout.toString().trim(),p.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},p.prototype._getACLArguments=function(h,m){return[h,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",m+":(OI)(CI)F","/inheritance:r"]},p.prototype._applyACLRules=function(h,m){var g=this;if(!p.USE_ICACLS)return m(null);if(p.ACLED_DIRECTORIES[h]===void 0)p.ACLED_DIRECTORIES[h]=!1,this._getACLIdentity(function(v,y){if(v)return p.ACLED_DIRECTORIES[h]=!1,m(v);g._runICACLS(g._getACLArguments(h,y),function(C){return p.ACLED_DIRECTORIES[h]=!C,m(C)})});else return m(p.ACLED_DIRECTORIES[h]?null:new Error("Setting ACL restrictions did not succeed (cached result)"))},p.prototype._applyACLRulesSync=function(h){if(p.USE_ICACLS){if(p.ACLED_DIRECTORIES[h]===void 0){this._runICACLSSync(this._getACLArguments(h,this._getACLIdentitySync())),p.ACLED_DIRECTORIES[h]=!0;return}else if(!p.ACLED_DIRECTORIES[h])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},p.prototype._confirmDirExists=function(h,m){var g=this;i.lstat(h,function(v,y){v&&v.code==="ENOENT"?i.mkdir(h,function(C){C&&C.code!=="EEXIST"?m(C):g._applyACLRules(h,m)}):!v&&y.isDirectory()?g._applyACLRules(h,m):m(v||new Error("Path existed but was not a directory"))})},p.prototype._getShallowDirectorySize=function(h,m){i.readdir(h,function(g,v){if(g)return m(g,-1);var y=null,C=0,b=0;if(v.length===0){m(null,0);return}for(var _=0;_<v.length;_++)i.stat(s.join(h,v[_]),function(P,S){b++,P?y=P:S.isFile()&&(C+=S.size),b===v.length&&(y?m(y,-1):m(y,C))})})},p.prototype._getShallowDirectorySizeSync=function(h){for(var m=i.readdirSync(h),g=0,v=0;v<m.length;v++)g+=i.statSync(s.join(h,m[v])).size;return g},p.prototype._storeToDisk=function(h){var m=this;l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),this._confirmDirExists(this._tempDir,function(g){if(g){l.warn(p.TAG,"Error while checking/creating directory: "+(g&&g.message)),m._onErrorHelper(g);return}m._getShallowDirectorySize(m._tempDir,function(v,y){if(v||y<0){l.warn(p.TAG,"Error while checking directory size: "+(v&&v.message)),m._onErrorHelper(v);return}else if(y>m._maxBytesOnDisk){l.warn(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+y);return}var C=new Date().getTime()+".ai.json",b=s.join(m._tempDir,C);l.info(p.TAG,"saving data to disk at: "+b),i.writeFile(b,m._stringify(h),{mode:384},function(_){return m._onErrorHelper(_)})})})},p.prototype._storeToDiskSync=function(h){try{l.info(p.TAG,"Checking existence of data storage directory: "+this._tempDir),i.existsSync(this._tempDir)||i.mkdirSync(this._tempDir),this._applyACLRulesSync(this._tempDir);var m=this._getShallowDirectorySizeSync(this._tempDir);if(m>this._maxBytesOnDisk){l.info(p.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+m);return}var g=new Date().getTime()+".ai.json",v=s.join(this._tempDir,g);l.info(p.TAG,"saving data before crash to disk at: "+v),i.writeFileSync(v,h,{mode:384})}catch(y){l.warn(p.TAG,"Error while saving data to disk: "+(y&&y.message)),this._onErrorHelper(y)}},p.prototype._sendFirstFileOnDisk=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){if(g)h._onErrorHelper(g);else if(v=v.filter(function(b){return s.basename(b).indexOf(".ai.json")>-1}),v.length>0){var y=v[0],C=s.join(h._tempDir,y);i.readFile(C,function(b,_){b?h._onErrorHelper(b):i.unlink(C,function(P){if(P)h._onErrorHelper(P);else try{var S=JSON.parse(_.toString());h.send(S)}catch(x){l.warn("Failed to read persisted file",x)}})})}})})},p.prototype._onErrorHelper=function(h){typeof this._onError=="function"&&this._onError(h)},p.prototype._stringify=function(h){try{return JSON.stringify(h)}catch(m){l.warn("Failed to serialize payload",m,h)}},p.prototype._fileCleanupTask=function(){var h=this;i.exists(this._tempDir,function(m){m&&i.readdir(h._tempDir,function(g,v){g?h._onErrorHelper(g):(v=v.filter(function(y){return s.basename(y).indexOf(".ai.json")>-1}),v.length>0&&v.forEach(function(y){var C=new Date(parseInt(y.split(".ai.json")[0])),b=new Date(+new Date-p.FILE_RETEMPTION_PERIOD)>C;if(b){var _=s.join(h._tempDir,y);i.unlink(_,function(P){P&&h._onErrorHelper(P)})}}))})})},p.TAG="Sender",p.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",p.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",p.ACLED_DIRECTORIES={},p.ACL_IDENTITY=null,p.WAIT_BETWEEN_RESEND=60*1e3,p.MAX_BYTES_ON_DISK=50*1024*1024,p.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,p.CLEANUP_TIMEOUT=60*60*1e3,p.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,p.TEMPDIR_PREFIX="appInsights-node",p.OS_PROVIDES_FILE_PROTECTION=!1,p.USE_ICACLS=o.type()==="Windows_NT",p}();e.exports=d}),pfe=L((t,e)=>{"use strict";var r=bn(),n=Ei(),i=_f(),o=function(){function a(){}return a.createEnvelope=function(c,l,u,f,d){var p=null;switch(l){case r.TelemetryType.Trace:p=a.createTraceData(c);break;case r.TelemetryType.Dependency:p=a.createDependencyData(c);break;case r.TelemetryType.Event:p=a.createEventData(c);break;case r.TelemetryType.Exception:p=a.createExceptionData(c);break;case r.TelemetryType.Request:p=a.createRequestData(c);break;case r.TelemetryType.Metric:p=a.createMetricData(c);break;case r.TelemetryType.Availability:p=a.createAvailabilityData(c);break;case r.TelemetryType.PageView:p=a.createPageViewData(c);break}if(u&&r.domainSupportsProperties(p.baseData)){if(p&&p.baseData)if(!p.baseData.properties)p.baseData.properties=u;else for(var h in u)p.baseData.properties[h]||(p.baseData.properties[h]=u[h]);p.baseData.properties=n.validateStringMap(p.baseData.properties)}var m=d&&d.instrumentationKey||"",g=new r.Envelope;return g.data=p,g.iKey=m,g.name="Microsoft.ApplicationInsights."+m.replace(/-/g,"")+"."+p.baseType.substr(0,p.baseType.length-4),g.tags=this.getTags(f,c.tagOverrides),g.time=new Date().toISOString(),g.ver=1,g.sampleRate=d?d.samplingPercentage:100,l===r.TelemetryType.Metric&&(g.sampleRate=100),g},a.createTraceData=function(c){var l=new r.MessageData;l.message=c.message,l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Information:l.severityLevel=c.severity;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),u.baseData=l,u},a.createDependencyData=function(c){var l=new r.RemoteDependencyData;typeof c.name=="string"&&(l.name=c.name.length>1024?c.name.slice(0,1021)+"...":c.name),l.data=c.data,l.target=c.target,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.type=c.dependencyTypeName,l.properties=c.properties,l.resultCode=c.resultCode?c.resultCode+"":"",c.id?l.id=c.id:l.id=n.w3cTraceId();var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),u.baseData=l,u},a.createEventData=function(c){var l=new r.EventData;l.name=c.name,l.properties=c.properties,l.measurements=c.measurements;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),u.baseData=l,u},a.createExceptionData=function(c){var l=new r.ExceptionData;l.properties=c.properties,isNaN(c.severity)?l.severityLevel=r.SeverityLevel.Error:l.severityLevel=c.severity,l.measurements=c.measurements,l.exceptions=[];var u=c.exception.stack,f=new r.ExceptionDetails;f.message=c.exception.message,f.typeName=c.exception.name,f.parsedStack=this.parseStack(u),f.hasFullStack=n.isArray(f.parsedStack)&&f.parsedStack.length>0,l.exceptions.push(f);var d=new r.Data;return d.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),d.baseData=l,d},a.createRequestData=function(c){var l=new r.RequestData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.url=c.url,l.source=c.source,l.duration=n.msToTimeSpan(c.duration),l.responseCode=c.resultCode?c.resultCode+"":"",l.success=c.success,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),u.baseData=l,u},a.createMetricData=function(c){var l=new r.MetricData;l.metrics=[];var u=new r.DataPoint;u.count=isNaN(c.count)?1:c.count,u.kind=r.DataPointType.Aggregation,u.max=isNaN(c.max)?c.value:c.max,u.min=isNaN(c.min)?c.value:c.min,u.name=c.name,u.stdDev=isNaN(c.stdDev)?0:c.stdDev,u.value=c.value,l.metrics.push(u),l.properties=c.properties;var f=new r.Data;return f.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),f.baseData=l,f},a.createAvailabilityData=function(c){var l=new r.AvailabilityData;c.id?l.id=c.id:l.id=n.w3cTraceId(),l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.success=c.success,l.runLocation=c.runLocation,l.message=c.message,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),u.baseData=l,u},a.createPageViewData=function(c){var l=new r.PageViewData;l.name=c.name,l.duration=n.msToTimeSpan(c.duration),l.url=c.url,l.measurements=c.measurements,l.properties=c.properties;var u=new r.Data;return u.baseType=r.telemetryTypeToBaseType(r.TelemetryType.PageView),u.baseData=l,u},a.getTags=function(c,l){var u=i.CorrelationContextManager.getCurrentContext(),f={};if(c&&c.tags)for(var d in c.tags)f[d]=c.tags[d];if(l)for(var d in l)f[d]=l[d];return u&&(f[c.keys.operationId]=f[c.keys.operationId]||u.operation.id,f[c.keys.operationName]=f[c.keys.operationName]||u.operation.name,f[c.keys.operationParentId]=f[c.keys.operationParentId]||u.operation.parentId),f},a.parseStack=function(c){var l=void 0;if(typeof c=="string"){var u=c.split(`
`);l=[];for(var f=0,d=0,p=0;p<=u.length;p++){var h=u[p];if(s.regex.test(h)){var m=new s(u[p],f++);d+=m.sizeInBytes,l.push(m)}}var g=32*1024;if(d>g)for(var v=0,y=l.length-1,C=0,b=v,_=y;v<y;){var P=l[v].sizeInBytes,S=l[y].sizeInBytes;if(C+=P+S,C>g){var x=_-b+1;l.splice(b,x);break}b=v,_=y,v++,y--}}return l},a}(),s=function(){function a(c,l){this.sizeInBytes=0,this.level=l,this.method="<no_method>",this.assembly=n.trim(c);var u=c.match(a.regex);u&&u.length>=5&&(this.method=n.trim(u[2])||this.method,this.fileName=n.trim(u[4])||"<no_filename>",this.line=parseInt(u[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=a.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return a.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,a.baseSize=58,a}();e.exports=o}),hfe=L((t,e)=>{"use strict";var r=require("url"),n=cV(),i=Kw(),o=bn(),s=sfe(),a=ffe(),c=_f(),l=dfe(),u=Ei(),f=Lr(),d=pfe(),p=function(){function h(m){this._telemetryProcessors=[],this._enableAzureProperties=!1;var g=new n(m);this.config=g,this.context=new i,this.commonProperties={};var v=new l(this.config);this.channel=new s(function(){return g.disableAppInsights},function(){return g.maxBatchSize},function(){return g.maxBatchIntervalMs},v)}return h.prototype.trackAvailability=function(m){this.track(m,o.TelemetryType.Availability)},h.prototype.trackPageView=function(m){this.track(m,o.TelemetryType.PageView)},h.prototype.trackTrace=function(m){this.track(m,o.TelemetryType.Trace)},h.prototype.trackMetric=function(m){this.track(m,o.TelemetryType.Metric)},h.prototype.trackException=function(m){m&&m.exception&&!u.isError(m.exception)&&(m.exception=new Error(m.exception.toString())),this.track(m,o.TelemetryType.Exception)},h.prototype.trackEvent=function(m){this.track(m,o.TelemetryType.Event)},h.prototype.trackRequest=function(m){this.track(m,o.TelemetryType.Request)},h.prototype.trackDependency=function(m){m&&!m.target&&m.data&&(m.target=r.parse(m.data).host),this.track(m,o.TelemetryType.Dependency)},h.prototype.flush=function(m){this.channel.triggerSend(m?!!m.isAppCrashing:!1,m?m.callback:void 0)},h.prototype.track=function(m,g){if(m&&o.telemetryTypeToBaseType(g)){var v=d.createEnvelope(m,g,this.commonProperties,this.context,this.config);m.time&&(v.time=m.time.toISOString()),this._enableAzureProperties&&a.azureRoleEnvironmentTelemetryProcessor(v,this.context);var y=this.runTelemetryProcessors(v,m.contextObjects);y=y&&a.samplingTelemetryProcessor(v,{correlationContext:c.CorrelationContextManager.getCurrentContext()}),a.preAggregatedMetricsTelemetryProcessor(v,this.context),y&&(a.performanceMetricsTelemetryProcessor(v,this.quickPulseClient),this.channel.send(v))}else f.warn("track() requires telemetry object and telemetryType to be specified.")},h.prototype.setAutoPopulateAzureProperties=function(m){this._enableAzureProperties=m},h.prototype.addTelemetryProcessor=function(m){this._telemetryProcessors.push(m)},h.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},h.prototype.runTelemetryProcessors=function(m,g){var v=!0,y=this._telemetryProcessors.length;if(y===0)return v;g=g||{},g.correlationContext=c.CorrelationContextManager.getCurrentContext();for(var C=0;C<y;++C)try{var b=this._telemetryProcessors[C];if(b&&b.apply(null,[m,g])===!1){v=!1;break}}catch(_){v=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",_,m)}return v&&(m&&m.tags&&(m.tags=u.validateStringMap(m.tags)),m&&m.data&&m.data.baseData&&m.data.baseData.properties&&(m.data.baseData.properties=u.validateStringMap(m.data.baseData.properties))),v},h}();e.exports=p}),mfe=L((t,e)=>{"use strict";var r=t&&t.__extends||function(){var c=function(l,u){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)Object.prototype.hasOwnProperty.call(d,p)&&(f[p]=d[p])},c(l,u)};return function(l,u){c(l,u);function f(){this.constructor=l}l.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}(),n=hfe(),i=aV(),o=Sh(),s=Lr(),a=function(c){r(l,c);function l(){return c!==null&&c.apply(this,arguments)||this}return l.prototype.trackNodeHttpRequestSync=function(u){u&&u.request&&u.response&&u.duration?i.trackRequestSync(this,u):s.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},l.prototype.trackNodeHttpRequest=function(u){(u.duration||u.error)&&s.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),u&&u.request&&u.response?i.trackRequest(this,u):s.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},l.prototype.trackNodeHttpDependency=function(u){u&&u.request?o.trackRequest(this,u):s.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},l}(n);e.exports=a}),gfe=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})}),vfe=L(t=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.Configuration=t.wrapWithCorrelationContext=t.startOperation=t.getCorrelationContext=t.start=t.setup=t.liveMetricsClient=t.defaultClient=t.DistributedTracingModes=void 0;var e=_f(),r=Bue(),n=Hue(),i=VP(),o=sV(),s=Zue(),a=Sh(),c=aV(),l=Ef(),u=Lr(),f=nfe(),d=ofe();t.TelemetryClient=mfe(),t.Contracts=bn(),t.azureFunctionsTypes=gfe();var p;(function(De){De[De.AI=0]="AI",De[De.AI_AND_W3C=1]="AI_AND_W3C"})(p=t.DistributedTracingModes||(t.DistributedTracingModes={}));var h=!0,m=!1,g=!0,v=!0,y=!0,C=!1,b=!0,_=!0,P=!0,S=!0,x,T=!1,A=!0,N,q=void 0,J=void 0,Y,ee,re,j,F,D,$,K,X=!1,Q;function ve(De){return t.defaultClient?u.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(De),Y=new r(t.defaultClient),ee=new n(t.defaultClient),re=new i(t.defaultClient),j=new o(t.defaultClient),F=new s(t.defaultClient),$=new c(t.defaultClient),K=new a(t.defaultClient),D||(D=new d.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(P,q,J),_t}t.setup=ve;function Te(){return t.defaultClient?(X=!0,Y.enable(h,m),ee.enable(g),re.enable(v),j.enable(y),F.enable(C,t.defaultClient.config),D.enable(A,N),$.useAutoCorrelation(S,x),$.enable(b),K.enable(_),t.liveMetricsClient&&T&&t.liveMetricsClient.enable(T)):u.warn("Start cannot be called before setup"),_t}t.start=Te;function Se(){return S?e.CorrelationContextManager.getCurrentContext():null}t.getCorrelationContext=Se;function Re(De,Ie){return e.CorrelationContextManager.startOperation(De,Ie)}t.startOperation=Re;function Ee(De,Ie){return e.CorrelationContextManager.wrapCallback(De,Ie)}t.wrapWithCorrelationContext=Ee;var _t=function(){function De(){}return De.setDistributedTracingMode=function(Ie){return l.w3cEnabled=Ie===p.AI_AND_W3C,De},De.setAutoCollectConsole=function(Ie,Fe){return Fe===void 0&&(Fe=!1),h=Ie,m=Fe,X&&Y.enable(Ie,Fe),De},De.setAutoCollectExceptions=function(Ie){return g=Ie,X&&ee.enable(Ie),De},De.setAutoCollectPerformance=function(Ie,Fe){Fe===void 0&&(Fe=!0),v=Ie;var Xe=d.AutoCollectNativePerformance.parseEnabled(Fe);return A=Xe.isEnabled,N=Xe.disabledMetrics,X&&(re.enable(Ie),D.enable(Xe.isEnabled,Xe.disabledMetrics)),De},De.setAutoCollectPreAggregatedMetrics=function(Ie){return y=Ie,X&&j.enable(Ie),De},De.setAutoCollectHeartbeat=function(Ie){return C=Ie,X&&F.enable(Ie,t.defaultClient.config),De},De.setAutoCollectRequests=function(Ie){return b=Ie,X&&$.enable(Ie),De},De.setAutoCollectDependencies=function(Ie){return _=Ie,X&&K.enable(Ie),De},De.setAutoDependencyCorrelation=function(Ie,Fe){return S=Ie,x=Fe,X&&$.useAutoCorrelation(Ie,Fe),De},De.setUseDiskRetryCaching=function(Ie,Fe,Xe){return P=Ie,q=Fe,J=Xe,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(Ie,Fe,Xe),De},De.setInternalLogging=function(Ie,Fe){return Ie===void 0&&(Ie=!1),Fe===void 0&&(Fe=!0),u.enableDebug=Ie,u.disableWarnings=!Fe,De},De.setSendLiveMetrics=function(Ie){return Ie===void 0&&(Ie=!1),t.defaultClient?(!t.liveMetricsClient&&Ie?(t.liveMetricsClient=new f(t.defaultClient.config,null),Q=new i(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(Q),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(Ie),T=Ie,De):(u.warn("Live metrics client cannot be setup without the default client"),De)},De.start=Te,De}();t.Configuration=_t;function kt(){l.w3cEnabled=!0,t.defaultClient=null,X=!1,Y&&Y.dispose(),ee&&ee.dispose(),re&&re.dispose(),j&&j.dispose(),F&&F.dispose(),D&&D.dispose(),$&&$.dispose(),K&&K.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),T=!1,t.liveMetricsClient=void 0)}t.dispose=kt}),lV={};Yae(lV,{default:()=>Pfe});uV.exports=Jae(lV);var zP=zw(require("os")),ba=zw(require("vscode")),yfe=zw(require("https")),Yi=class{constructor(t){this.vscodeAPI=t}getTelemetryLevel(){let t="telemetry",e="enableTelemetry";try{let r=this.vscodeAPI.env.telemetryConfiguration;return r.isUsageEnabled&&r.isErrorsEnabled&&r.isCrashEnabled?"on":r.isErrorsEnabled&&r.isCrashEnabled?"error":"off"}catch{return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(t).get(e)?"on":"off"}}static applyReplacements(t,e){for(let r of Object.keys(t))for(let n of e)n.lookup.test(r)&&(n.replacementString!==void 0?t[r]=n.replacementString:delete t[r])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getInstance(t){return Yi._instance||(Yi._instance=new Yi(t)),Yi._instance}},wfe=class{constructor(t,e,r,n,i,o){this.extensionId=t,this.extensionVersion=e,this.telemetryAppender=r,this.osShim=n,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let t=Yi.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=t==="on",this.errorOptIn=t==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(t){if(!t)return"none";let e="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(r=>{t.indexOf(`${r}`)===0&&(e=r)}),e}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(t,e){if(t===null||typeof t!="object"||typeof e!="function")return t;let r={};for(let n in t)r[n]=e(n,t[n]);return r}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let t={};if(t["common.os"]=this.osShim.platform,t["common.nodeArch"]=this.osShim.architecture,t["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),t["common.extname"]=this.extensionId,t["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(t["common.vscodemachineid"]=this.vscodeAPI.env.machineId,t["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,t["common.vscodeversion"]=this.vscodeAPI.version,t["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",t["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:t["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:t["common.uikind"]="desktop";break;default:t["common.uikind"]="unknown"}t["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return t}anonymizeFilePaths(t,e){let r;if(t==null)return"";let n=[];this.vscodeAPI.env.appRoot!==""&&n.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=t;if(e){let o=[];for(let l of n)for(;(r=l.exec(t))&&r;)o.push([r.index,l.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,a=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(r=a.exec(t))&&r;)r[0]&&!s.test(r[0])&&o.every(([l,u])=>r.index<l||r.index>=u)&&(i+=t.substring(c,r.index)+"<REDACTED: user-file-path>",c=a.lastIndex);c<t.length&&(i+=t.substr(c))}for(let o of n)i=i.replace(o,"");return i}removePropertiesWithPossibleUserInfo(t){if(typeof t!="object")return;let e={};for(let r of Object.keys(t)){let n=t[r];if(!n)continue;let i=/@[a-zA-Z0-9-.]+/,o=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;o.test(n.toLowerCase())?e[r]="<REDACTED: secret>":i.test(n)?e[r]="<REDACTED: email>":s.test(n)?e[r]="<REDACTED: token>":e[r]=n}return e}get telemetryLevel(){switch(Yi.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(t,e,r,n,i){if((this.userOptIn||i)&&t!==""){if(e=ul(ul({},e),this.getCommonProperties()),n){let o=this.cloneAndChange(e,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));e=this.removePropertiesWithPossibleUserInfo(o)}e=e!=null?e:{},r=r!=null?r:{},t=`${this.extensionId}/${t}`,this.telemetryAppender.logEvent(t,{properties:e,measurements:r})}}sendTelemetryEvent(t,e,r){this.internalSendTelemetryEvent(t,e,r,!0,!1)}sendRawTelemetryEvent(t,e,r){this.internalSendTelemetryEvent(t,e,r,!1,!1)}sendDangerousTelemetryEvent(t,e,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(t,e,r,n,!0)}internalSendTelemetryErrorEvent(t,e,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&t!==""){if(e=ul(ul({},e),this.getCommonProperties()),n){let o=this.cloneAndChange(e,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));e=this.removePropertiesWithPossibleUserInfo(o)}e=e!=null?e:{},r=r!=null?r:{},t=`${this.extensionId}/${t}`,this.telemetryAppender.logEvent(t,{properties:e,measurements:r})}}sendTelemetryErrorEvent(t,e,r){this.internalSendTelemetryErrorEvent(t,e,r,!0,!1)}sendDangerousTelemetryErrorEvent(t,e,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(t,e,r,n,!0)}internalSendTelemetryException(t,e,r,n,i){if((this.shouldSendErrorTelemetry()||i)&&t){if(e=ul(ul({},e),this.getCommonProperties()),n){let o=this.cloneAndChange(e,(s,a)=>this.anonymizeFilePaths(a,this.firstParty));t.stack&&(t.stack=this.anonymizeFilePaths(t.stack,this.firstParty)),e=this.removePropertiesWithPossibleUserInfo(o)}e=e!=null?e:{},r=r!=null?r:{},this.telemetryAppender.logException(t,{properties:e,measurements:r})}}sendTelemetryException(t,e,r){this.internalSendTelemetryException(t,e,r,!0,!1)}sendDangerousTelemetryException(t,e,r,n=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(t,e,r,n,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(t=>t.dispose()))}},Cfe=class{constructor(t,e){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=e,this._key=t}logEvent(t,e){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:t,data:e});return}this._telemetryClient.logEvent(t,e)}logException(t,e){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:t,data:e});return}this._telemetryClient.logException(t,e)}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:e})=>this.logEvent(t,e)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:e})=>this.logException(t,e)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=2,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=2}))}},bfe=async(t,e,r)=>{let n=await Promise.resolve().then(()=>(ol(),OB)),i=await Promise.resolve().then(()=>(vH(),gH)),o=new n.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:r};a.extensionConfig[s.identifier]=l}let c=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{var u,f;!c||(l.ext=(u=l.ext)!=null?u:{},l.ext.utc=(f=l.ext.utc)!=null?f:{},l.ext.utc.flags=8462029)}),o},Efe=async(t,e,r)=>{let n=await bfe(t,e,r);return{logEvent:(i,o)=>{try{n==null||n.track({name:i,baseData:{name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements}})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},logException:(i,o)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:async()=>{try{n==null||n.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}},_fe=async(t,e)=>{let r;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let n=await Promise.resolve().then(()=>zw(vfe()));n.defaultClient?(r=new n.TelemetryClient(t),r.channel.setUseDiskRetryCaching(!0)):(n.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),r=n.defaultClient),ba&&ba.env&&(r.context.tags[r.context.keys.userId]=ba.env.machineId,r.context.tags[r.context.keys.sessionId]=ba.env.sessionId,r.context.tags[r.context.keys.cloudRole]=ba.env.appName,r.context.tags[r.context.keys.cloudRoleInstance]=ba.env.appName),t&&t.indexOf("AIF-")===0&&(r.config.endpointUrl="https://mobile.events.data.microsoft.com/collect/v1")}catch(n){return Promise.reject(`Failed to initialize app insights!
`+n.message)}return e!=null&&e.length&&Sfe(r,e),{logEvent:(n,i)=>{try{r==null||r.trackEvent({name:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log event to app insights!
`+o.message)}},logException:(n,i)=>{try{r==null||r.trackException({exception:n,properties:i==null?void 0:i.properties,measurements:i==null?void 0:i.measurements})}catch(o){throw new Error(`Failed to log exception to app insights!
`+o.message)}},flush:async()=>{try{r==null||r.flush()}catch(n){throw new Error(`Failed to flush app insights!
`+n.message)}}}};function Sfe(t,e){t.addTelemetryProcessor(r=>(Array.isArray(r.tags)?r.tags.forEach(n=>Yi.applyReplacements(n,e)):r.tags&&Yi.applyReplacements(r.tags,e),r.data.baseData&&Yi.applyReplacements(r.data.baseData,e),!0))}function xfe(){return{sendPOST:(t,e)=>{let r={method:"POST",headers:Kae(ul({},t.headers),{"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)})};try{let n=yfe.request(t.urlString,r,i=>{i.on("data",function(o){var s;e((s=i.statusCode)!=null?s:200,i.headers,o.toString())}),i.on("error",function(){e(0,{})})});n.write(t.data),n.end()}catch{e(0,{})}}}}var Pfe=class extends wfe{constructor(t,e,r,n,i){let o=a=>_fe(a,i);Yi.shouldUseOneDataSystemSDK(r)&&(o=a=>Efe(a,ba,xfe()));let s=new Cfe(r,o);r&&(r.indexOf("AIF-")===0||Yi.shouldUseOneDataSystemSDK(r))&&(n=!0),super(t,e,s,{release:zP.release(),platform:zP.platform(),architecture:zP.arch()},ba,n)}}});var GP=I(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var Yw=require("vscode"),xh=class{constructor(e,r,n){this.extensionName=e,this.extensionVersion=r,this.targetPopulation=n}static trimVersionSuffix(e){let r=/\-[a-zA-Z0-9]+$/;return e.split(r)[0]}getFilterValue(e){switch(e){case ys.ApplicationVersion:return xh.trimVersionSuffix(Yw.version);case ys.Build:return Yw.env.appName;case ys.ClientId:return Yw.env.machineId;case ys.ExtensionName:return this.extensionName;case ys.ExtensionVersion:return xh.trimVersionSuffix(this.extensionVersion);case ys.Language:return Yw.env.language;case ys.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,r=Object.values(ys);for(let n of r)e.set(n,this.getFilterValue(n));return e}};fl.VSCodeFilterProvider=xh;var ys;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(ys=fl.Filters||(fl.Filters={}));var kfe;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(kfe=fl.TargetPopulation||(fl.TargetPopulation={}))});var pV=I(WP=>{"use strict";Object.defineProperty(WP,"__esModule",{value:!0});var dV=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};WP.BaseFeatureProvider=dV});var mV=I(KP=>{"use strict";Object.defineProperty(KP,"__esModule",{value:!0});var Ife=pV(),hV=class extends Ife.BaseFeatureProvider{constructor(e,r){super(e);this.telemetry=e,this.filterProviders=r,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let r of this.filterProviders){let n=r.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let r=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",r]])),this.cachedTelemetryEvents.push(e)}};KP.FilteredFeatureProvider=hV});var vV=I(YP=>{"use strict";Object.defineProperty(YP,"__esModule",{value:!0});var Tfe=mV(),gV=class extends Tfe.FilteredFeatureProvider{constructor(e,r,n){super(r,n);this.httpClient=e,this.telemetry=r,this.filterProviders=n}async fetch(){let e=this.getFilters(),r={};for(let a of e.keys()){let c=e.get(a);r[a]=c}let n=await this.httpClient.get({headers:r});e.keys.length>0&&this.PostEventToTelemetry(r);let i=n.data,o=i.Configs,s=[];for(let a of o)if(!!a.Parameters)for(let c of Object.keys(a.Parameters)){let l=c+(a.Parameters[c]?"":"cf");s.includes(l)||s.push(l)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};YP.TasApiFeatureProvider=gV});var JP=I((ILe,yV)=>{"use strict";yV.exports=function(e,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(r,i)}}});var nn=I((TLe,bV)=>{"use strict";var Afe=JP(),dl=Object.prototype.toString;function QP(t){return dl.call(t)==="[object Array]"}function XP(t){return typeof t=="undefined"}function Dfe(t){return t!==null&&!XP(t)&&t.constructor!==null&&!XP(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Rfe(t){return dl.call(t)==="[object ArrayBuffer]"}function Ofe(t){return typeof FormData!="undefined"&&t instanceof FormData}function Nfe(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function Lfe(t){return typeof t=="string"}function Ffe(t){return typeof t=="number"}function wV(t){return t!==null&&typeof t=="object"}function Jw(t){if(dl.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function Mfe(t){return dl.call(t)==="[object Date]"}function qfe(t){return dl.call(t)==="[object File]"}function jfe(t){return dl.call(t)==="[object Blob]"}function CV(t){return dl.call(t)==="[object Function]"}function $fe(t){return wV(t)&&CV(t.pipe)}function Ufe(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function Bfe(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Hfe(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ZP(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),QP(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ek(){var t={};function e(i,o){Jw(t[o])&&Jw(i)?t[o]=ek(t[o],i):Jw(i)?t[o]=ek({},i):QP(i)?t[o]=i.slice():t[o]=i}for(var r=0,n=arguments.length;r<n;r++)ZP(arguments[r],e);return t}function Vfe(t,e,r){return ZP(e,function(i,o){r&&typeof i=="function"?t[o]=Afe(i,r):t[o]=i}),t}function zfe(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}bV.exports={isArray:QP,isArrayBuffer:Rfe,isBuffer:Dfe,isFormData:Ofe,isArrayBufferView:Nfe,isString:Lfe,isNumber:Ffe,isObject:wV,isPlainObject:Jw,isUndefined:XP,isDate:Mfe,isFile:qfe,isBlob:jfe,isFunction:CV,isStream:$fe,isURLSearchParams:Ufe,isStandardBrowserEnv:Hfe,forEach:ZP,merge:ek,extend:Vfe,trim:Bfe,stripBOM:zfe}});var Qw=I((ALe,_V)=>{"use strict";var Sf=nn();function EV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}_V.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(Sf.isURLSearchParams(r))i=r.toString();else{var o=[];Sf.forEach(r,function(c,l){c===null||typeof c=="undefined"||(Sf.isArray(c)?l=l+"[]":c=[c],Sf.forEach(c,function(f){Sf.isDate(f)?f=f.toISOString():Sf.isObject(f)&&(f=JSON.stringify(f)),o.push(EV(l)+"="+EV(f))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var xV=I((DLe,SV)=>{"use strict";var Gfe=nn();function Xw(){this.handlers=[]}Xw.prototype.use=function(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Xw.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Xw.prototype.forEach=function(e){Gfe.forEach(this.handlers,function(n){n!==null&&e(n)})};SV.exports=Xw});var kV=I((RLe,PV)=>{"use strict";var Wfe=nn();PV.exports=function(e,r){Wfe.forEach(e,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[o])})}});var Zw=I((OLe,IV)=>{"use strict";IV.exports=function(e,r,n,i,o){return e.config=r,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var eC=I((NLe,TV)=>{"use strict";var Kfe=Zw();TV.exports=function(e,r,n,i,o){var s=new Error(e);return Kfe(s,r,n,i,o)}});var tk=I((LLe,AV)=>{"use strict";var Yfe=eC();AV.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(Yfe("Request failed with status code "+n.status,n.config,null,n.request,n))}});var RV=I((FLe,DV)=>{"use strict";var tC=nn();DV.exports=tC.isStandardBrowserEnv()?function(){return{write:function(r,n,i,o,s,a){var c=[];c.push(r+"="+encodeURIComponent(n)),tC.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),tC.isString(o)&&c.push("path="+o),tC.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var NV=I((MLe,OV)=>{"use strict";OV.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var FV=I((qLe,LV)=>{"use strict";LV.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var rk=I((jLe,MV)=>{"use strict";var Jfe=NV(),Qfe=FV();MV.exports=function(e,r){return e&&!Jfe(r)?Qfe(e,r):r}});var jV=I(($Le,qV)=>{"use strict";var nk=nn(),Xfe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];qV.exports=function(e){var r={},n,i,o;return e&&nk.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),n=nk.trim(a.substr(0,o)).toLowerCase(),i=nk.trim(a.substr(o+1)),n){if(r[n]&&Xfe.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var BV=I((ULe,UV)=>{"use strict";var $V=nn();UV.exports=$V.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(o){var s=o;return e&&(r.setAttribute("href",s),s=r.href),r.setAttribute("href",s),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(s){var a=$V.isString(s)?i(s):s;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}()});var xf=I((BLe,HV)=>{"use strict";function ik(t){this.message=t}ik.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};ik.prototype.__CANCEL__=!0;HV.exports=ik});var zV=I((HLe,VV)=>{"use strict";var rC=nn(),Zfe=tk(),ede=RV(),tde=Qw(),rde=rk(),nde=jV(),ide=BV(),ok=eC(),ode=Pf(),sde=xf();VV.exports=function(e){return new Promise(function(n,i){var o=e.data,s=e.headers,a=e.responseType,c;function l(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}rC.isFormData(o)&&delete s["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(f+":"+d)}var p=rde(e.baseURL,e.url);u.open(e.method.toUpperCase(),tde(p,e.params,e.paramsSerializer),!0),u.timeout=e.timeout;function h(){if(!!u){var g="getAllResponseHeaders"in u?nde(u.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?u.responseText:u.response,y={data:v,status:u.status,statusText:u.statusText,headers:g,config:e,request:u};Zfe(function(b){n(b),l()},function(b){i(b),l()},y),u=null}}if("onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(h)},u.onabort=function(){!u||(i(ok("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){i(ok("Network Error",e,null,u)),u=null},u.ontimeout=function(){var v="timeout of "+e.timeout+"ms exceeded",y=e.transitional||ode.transitional;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),i(ok(v,e,y.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",u)),u=null},rC.isStandardBrowserEnv()){var m=(e.withCredentials||ide(p))&&e.xsrfCookieName?ede.read(e.xsrfCookieName):void 0;m&&(s[e.xsrfHeaderName]=m)}"setRequestHeader"in u&&rC.forEach(s,function(v,y){typeof o=="undefined"&&y.toLowerCase()==="content-type"?delete s[y]:u.setRequestHeader(y,v)}),rC.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&a!=="json"&&(u.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&u.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(g){!u||(i(!g||g&&g.type?new sde("canceled"):g),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),o||(o=null),u.send(o)})}});var nC=I((VLe,GV)=>{GV.exports={version:"0.22.0"}});var XV=I((zLe,QV)=>{"use strict";var Ph=nn(),WV=tk(),ade=rk(),cde=Qw(),lde=require("http"),ude=require("https"),fde=Zl().http,dde=Zl().https,KV=require("url"),pde=require("zlib"),hde=nC().version,iC=eC(),sk=Zw(),mde=Pf(),gde=xf(),YV=/https:?/;function JV(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(o){o.headers.host=o.host,JV(o,e,o.href)}}QV.exports=function(e){return new Promise(function(n,i){var o;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}var a=function(K){s(),n(K)},c=function(K){s(),i(K)},l=e.data,u=e.headers,f={};if(Object.keys(u).forEach(function(K){f[K.toLowerCase()]=K}),"user-agent"in f?u[f["user-agent"]]||delete u[f["user-agent"]]:u["User-Agent"]="axios/"+hde,l&&!Ph.isStream(l)){if(!Buffer.isBuffer(l))if(Ph.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(Ph.isString(l))l=Buffer.from(l,"utf-8");else return c(iC("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));f["content-length"]||(u["Content-Length"]=l.length)}var d=void 0;if(e.auth){var p=e.auth.username||"",h=e.auth.password||"";d=p+":"+h}var m=ade(e.baseURL,e.url),g=KV.parse(m),v=g.protocol||"http:";if(!d&&g.auth){var y=g.auth.split(":"),C=y[0]||"",b=y[1]||"";d=C+":"+b}d&&f.authorization&&delete u[f.authorization];var _=YV.test(v),P=_?e.httpsAgent:e.httpAgent,S={path:cde(g.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:u,agent:P,agents:{http:e.httpAgent,https:e.httpsAgent},auth:d};e.socketPath?S.socketPath=e.socketPath:(S.hostname=g.hostname,S.port=g.port);var x=e.proxy;if(!x&&x!==!1){var T=v.slice(0,-1)+"_proxy",A=process.env[T]||process.env[T.toUpperCase()];if(A){var N=KV.parse(A),q=process.env.no_proxy||process.env.NO_PROXY,J=!0;if(q){var Y=q.split(",").map(function(K){return K.trim()});J=!Y.some(function(K){return K?K==="*"||K[0]==="."&&g.hostname.substr(g.hostname.length-K.length)===K?!0:g.hostname===K:!1})}if(J&&(x={host:N.hostname,port:N.port,protocol:N.protocol},N.auth)){var ee=N.auth.split(":");x.auth={username:ee[0],password:ee[1]}}}}x&&(S.headers.host=g.hostname+(g.port?":"+g.port:""),JV(S,x,v+"//"+g.hostname+(g.port?":"+g.port:"")+S.path));var re,j=_&&(x?YV.test(x.protocol):!0);e.transport?re=e.transport:e.maxRedirects===0?re=j?ude:lde:(e.maxRedirects&&(S.maxRedirects=e.maxRedirects),re=j?dde:fde),e.maxBodyLength>-1&&(S.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(S.insecureHTTPParser=e.insecureHTTPParser);var F=re.request(S,function(K){if(!F.aborted){var X=K,Q=K.req||F;if(K.statusCode!==204&&Q.method!=="HEAD"&&e.decompress!==!1)switch(K.headers["content-encoding"]){case"gzip":case"compress":case"deflate":X=X.pipe(pde.createUnzip()),delete K.headers["content-encoding"];break}var ve={status:K.statusCode,statusText:K.statusMessage,headers:K.headers,config:e,request:Q};if(e.responseType==="stream")ve.data=X,WV(a,c,ve);else{var Te=[],Se=0;X.on("data",function(Ee){Te.push(Ee),Se+=Ee.length,e.maxContentLength>-1&&Se>e.maxContentLength&&(X.destroy(),c(iC("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,Q)))}),X.on("error",function(Ee){F.aborted||c(sk(Ee,e,null,Q))}),X.on("end",function(){var Ee=Buffer.concat(Te);e.responseType!=="arraybuffer"&&(Ee=Ee.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(Ee=Ph.stripBOM(Ee))),ve.data=Ee,WV(a,c,ve)})}}});if(F.on("error",function(K){F.aborted&&K.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(sk(K,e,null,F))}),e.timeout){var D=parseInt(e.timeout,10);if(isNaN(D)){c(iC("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",F));return}F.setTimeout(D,function(){F.abort();var K=e.transitional||mde.transitional;c(iC("timeout of "+D+"ms exceeded",e,K.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",F))})}(e.cancelToken||e.signal)&&(o=function($){F.aborted||(F.abort(),c(!$||$&&$.type?new gde("canceled"):$))},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),Ph.isStream(l)?l.on("error",function(K){c(sk(K,e,null,F))}).pipe(F):F.end(l)})}});var Pf=I((GLe,t3)=>{"use strict";var Fr=nn(),ZV=kV(),vde=Zw(),yde={"Content-Type":"application/x-www-form-urlencoded"};function e3(t,e){!Fr.isUndefined(t)&&Fr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function wde(){var t;return typeof XMLHttpRequest!="undefined"?t=zV():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(t=XV()),t}function Cde(t,e,r){if(Fr.isString(t))try{return(e||JSON.parse)(t),Fr.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}var oC={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:wde(),transformRequest:[function(e,r){return ZV(r,"Accept"),ZV(r,"Content-Type"),Fr.isFormData(e)||Fr.isArrayBuffer(e)||Fr.isBuffer(e)||Fr.isStream(e)||Fr.isFile(e)||Fr.isBlob(e)?e:Fr.isArrayBufferView(e)?e.buffer:Fr.isURLSearchParams(e)?(e3(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Fr.isObject(e)||r&&r["Content-Type"]==="application/json"?(e3(r,"application/json"),Cde(e)):e}],transformResponse:[function(e){var r=this.transitional||oC.transitional,n=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,o=!n&&this.responseType==="json";if(o||i&&Fr.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?vde(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Fr.forEach(["delete","get","head"],function(e){oC.headers[e]={}});Fr.forEach(["post","put","patch"],function(e){oC.headers[e]=Fr.merge(yde)});t3.exports=oC});var n3=I((WLe,r3)=>{"use strict";var bde=nn(),Ede=Pf();r3.exports=function(e,r,n){var i=this||Ede;return bde.forEach(n,function(s){e=s.call(i,e,r)}),e}});var ak=I((KLe,i3)=>{"use strict";i3.exports=function(e){return!!(e&&e.__CANCEL__)}});var a3=I((YLe,s3)=>{"use strict";var o3=nn(),ck=n3(),_de=ak(),Sde=Pf(),xde=xf();function lk(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xde("canceled")}s3.exports=function(e){lk(e),e.headers=e.headers||{},e.data=ck.call(e,e.data,e.headers,e.transformRequest),e.headers=o3.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o3.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||Sde.adapter;return r(e).then(function(i){return lk(e),i.data=ck.call(e,i.data,i.headers,e.transformResponse),i},function(i){return _de(i)||(lk(e),i&&i.response&&(i.response.data=ck.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var uk=I((JLe,c3)=>{"use strict";var Vn=nn();c3.exports=function(e,r){r=r||{};var n={};function i(u,f){return Vn.isPlainObject(u)&&Vn.isPlainObject(f)?Vn.merge(u,f):Vn.isPlainObject(f)?Vn.merge({},f):Vn.isArray(f)?f.slice():f}function o(u){if(Vn.isUndefined(r[u])){if(!Vn.isUndefined(e[u]))return i(void 0,e[u])}else return i(e[u],r[u])}function s(u){if(!Vn.isUndefined(r[u]))return i(void 0,r[u])}function a(u){if(Vn.isUndefined(r[u])){if(!Vn.isUndefined(e[u]))return i(void 0,e[u])}else return i(void 0,r[u])}function c(u){if(u in r)return i(e[u],r[u]);if(u in e)return i(void 0,e[u])}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Vn.forEach(Object.keys(e).concat(Object.keys(r)),function(f){var d=l[f]||o,p=d(f);Vn.isUndefined(p)&&d!==c||(n[f]=p)}),n}});var f3=I((QLe,u3)=>{"use strict";var Pde=nC().version,fk={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){fk[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});var l3={};fk.transitional=function(e,r,n){function i(o,s){return"[Axios v"+Pde+"] Transitional option '"+o+"'"+s+(n?". "+n:"")}return function(o,s,a){if(e===!1)throw new Error(i(s," has been removed"+(r?" in "+r:"")));return r&&!l3[s]&&(l3[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,s,a):!0}};function kde(t,e,r){if(typeof t!="object")throw new TypeError("options must be an object");for(var n=Object.keys(t),i=n.length;i-- >0;){var o=n[i],s=e[o];if(s){var a=t[o],c=a===void 0||s(a,o,t);if(c!==!0)throw new TypeError("option "+o+" must be "+c);continue}if(r!==!0)throw Error("Unknown option "+o)}}u3.exports={assertOptions:kde,validators:fk}});var v3=I((XLe,g3)=>{"use strict";var d3=nn(),Ide=Qw(),p3=xV(),h3=a3(),sC=uk(),m3=f3(),kf=m3.validators;function kh(t){this.defaults=t,this.interceptors={request:new p3,response:new p3}}kh.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=sC(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;r!==void 0&&m3.assertOptions(r,{silentJSONParsing:kf.transitional(kf.boolean),forcedJSONParsing:kf.transitional(kf.boolean),clarifyTimeoutError:kf.transitional(kf.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(d){typeof d.runWhen=="function"&&d.runWhen(e)===!1||(i=i&&d.synchronous,n.unshift(d.fulfilled,d.rejected))});var o=[];this.interceptors.response.forEach(function(d){o.push(d.fulfilled,d.rejected)});var s;if(!i){var a=[h3,void 0];for(Array.prototype.unshift.apply(a,n),a=a.concat(o),s=Promise.resolve(e);a.length;)s=s.then(a.shift(),a.shift());return s}for(var c=e;n.length;){var l=n.shift(),u=n.shift();try{c=l(c)}catch(f){u(f);break}}try{s=h3(c)}catch(f){return Promise.reject(f)}for(;o.length;)s=s.then(o.shift(),o.shift());return s};kh.prototype.getUri=function(e){return e=sC(this.defaults,e),Ide(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};d3.forEach(["delete","get","head","options"],function(e){kh.prototype[e]=function(r,n){return this.request(sC(n||{},{method:e,url:r,data:(n||{}).data}))}});d3.forEach(["post","put","patch"],function(e){kh.prototype[e]=function(r,n,i){return this.request(sC(i||{},{method:e,url:r,data:n}))}});g3.exports=kh});var w3=I((ZLe,y3)=>{"use strict";var Tde=xf();function If(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;this.promise.then(function(n){if(!!r._listeners){var i,o=r._listeners.length;for(i=0;i<o;i++)r._listeners[i](n);r._listeners=null}}),this.promise.then=function(n){var i,o=new Promise(function(s){r.subscribe(s),i=s}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i){r.reason||(r.reason=new Tde(i),e(r.reason))})}If.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};If.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};If.prototype.unsubscribe=function(e){if(!!this._listeners){var r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}};If.source=function(){var e,r=new If(function(i){e=i});return{token:r,cancel:e}};y3.exports=If});var b3=I((eFe,C3)=>{"use strict";C3.exports=function(e){return function(n){return e.apply(null,n)}}});var _3=I((tFe,E3)=>{"use strict";E3.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var P3=I((rFe,dk)=>{"use strict";var S3=nn(),Ade=JP(),aC=v3(),Dde=uk(),Rde=Pf();function x3(t){var e=new aC(t),r=Ade(aC.prototype.request,e);return S3.extend(r,aC.prototype,e),S3.extend(r,e),r.create=function(i){return x3(Dde(t,i))},r}var Po=x3(Rde);Po.Axios=aC;Po.Cancel=xf();Po.CancelToken=w3();Po.isCancel=ak();Po.VERSION=nC().version;Po.all=function(e){return Promise.all(e)};Po.spread=b3();Po.isAxiosError=_3();dk.exports=Po;dk.exports.default=Po});var I3=I((nFe,k3)=>{k3.exports=P3()});var A3=I(pk=>{"use strict";Object.defineProperty(pk,"__esModule",{value:!0});var Ode=I3(),T3=class{constructor(e){this.endpoint=e}get(e){return Ode.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};pk.AxiosHttpClient=T3});var R3=I(hk=>{"use strict";Object.defineProperty(hk,"__esModule",{value:!0});var D3=class{constructor(){this.storage=new Map}async getValue(e,r){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(r||void 0)}setValue(e,r){this.storage.set(e,r)}};hk.MemoryKeyValueStorage=D3});var N3=I(mk=>{"use strict";Object.defineProperty(mk,"__esModule",{value:!0});var Nde=R3(),O3=class{constructor(e,r,n,i,o,s){this.telemetry=e,this.featuresTelemetryPropertyName=r,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=i,this.storageKey=o,this.storage=s,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(s=new Nde.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((a,c)=>{this.resolveInitialFetchPromise=a})}get features(){return this._features}set features(e){this._features=e,this.telemetry&&(this.telemetry.setSharedProperty(this.featuresTelemetryPropertyName,this.features.features.join(";")),this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext))}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));try{let r=await this.fetchPromise;this.updateFeatures(r,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,r=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(r||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let r=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),r.features.includes(e)}getTreatmentVariable(e,r){var n;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${r}`),(n=this.features.configs.find(o=>o.Id===e))===null||n===void 0?void 0:n.Parameters[r]}async getTreatmentVariableAsync(e,r,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,r);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,r)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let r of e)this.featureProviders.push(r)}};mk.ExperimentationServiceBase=O3});var F3=I(gk=>{"use strict";Object.defineProperty(gk,"__esModule",{value:!0});var L3=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};gk.PollingService=L3});var q3=I(vk=>{"use strict";Object.defineProperty(vk,"__esModule",{value:!0});var Lde=N3(),Fde=F3(),M3=class extends Lde.ExperimentationServiceBase{constructor(e,r,n,i,o,s,a,c){super(e,i,o,s,a,c);if(this.telemetry=e,this.filterProviders=r,this.refreshRateMs=n,this.featuresTelemetryPropertyName=i,this.assignmentContextTelemetryPropertyName=o,this.telemetryEventName=s,this.storageKey=a,this.storage=c,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new Fde.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let r=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),r}else return await super.getFeaturesAsync(e)}};vk.ExperimentationServiceAutoPolling=M3});var j3=I(wk=>{"use strict";Object.defineProperty(wk,"__esModule",{value:!0});var Mde=vV(),qde=A3(),jde=q3(),yk=class extends jde.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.featuresTelemetryPropertyName,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage);this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new Mde.TasApiFeatureProvider(new qde.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};wk.ExperimentationService=yk;yk.REFRESH_RATE_IN_MINUTES=30});var $3=I(Ck=>{"use strict";Object.defineProperty(Ck,"__esModule",{value:!0});var $de=j3();Ck.ExperimentationService=$de.ExperimentationService});var B3=I(bk=>{"use strict";Object.defineProperty(bk,"__esModule",{value:!0});var U3=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,r){return await this.mementoGlobalStorage.get(e)||r}setValue(e,r){this.mementoGlobalStorage.update(e,r)}};bk.MementoKeyValueStorage=U3});var V3=I(Ek=>{"use strict";Object.defineProperty(Ek,"__esModule",{value:!0});var H3=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,r){}getTreatmentVariableAsync(e,r){return Promise.resolve(void 0)}};Ek.default=H3});var G3=I(cC=>{"use strict";Object.defineProperty(cC,"__esModule",{value:!0});var Ude=GP(),Bde=$3(),_k=require("vscode"),Hde=B3(),Vde=V3(),zde="https://default.exp-tas.com/vscode/ab",Gde="query-expfeature",Wde="VSCode.ABExp.Features",Kde="abexp.assignmentcontext",Yde="VSCode.ABExp.FeatureData",Jde=1e3*60*30;function z3(t,e,r,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=_k.workspace.getConfiguration("telemetry");if(!(_k.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):_k.env.isTelemetryEnabled))return new Vde.default;let l=[new Ude.VSCodeFilterProvider(t,e,r),...o],u=new Hde.MementoKeyValueStorage(i);return new Bde.ExperimentationService({filterProviders:l,telemetry:n,storageKey:Yde,keyValueStorage:u,featuresTelemetryPropertyName:Wde,assignmentContextTelemetryPropertyName:Kde,telemetryEventName:Gde,endpoint:zde,refetchInterval:Jde})}cC.getExperimentationService=z3;async function Qde(t,e,r,n,i,...o){let s=z3(t,e,r,n,i,...o);return await s.initializePromise,s}cC.getExperimentationServiceAsync=Qde});var K3=I(Ih=>{"use strict";Object.defineProperty(Ih,"__esModule",{value:!0});var W3=G3();Ih.getExperimentationService=W3.getExperimentationService;Ih.getExperimentationServiceAsync=W3.getExperimentationServiceAsync;var Xde=GP();Ih.TargetPopulation=Xde.TargetPopulation});var bt=I(Sr=>{"use strict";var Mk=Symbol.for("yaml.alias"),wz=Symbol.for("yaml.document"),wC=Symbol.for("yaml.map"),Cz=Symbol.for("yaml.pair"),qk=Symbol.for("yaml.scalar"),CC=Symbol.for("yaml.seq"),Ro=Symbol.for("yaml.node.type"),bpe=t=>!!t&&typeof t=="object"&&t[Ro]===Mk,Epe=t=>!!t&&typeof t=="object"&&t[Ro]===wz,_pe=t=>!!t&&typeof t=="object"&&t[Ro]===wC,Spe=t=>!!t&&typeof t=="object"&&t[Ro]===Cz,bz=t=>!!t&&typeof t=="object"&&t[Ro]===qk,xpe=t=>!!t&&typeof t=="object"&&t[Ro]===CC;function Ez(t){if(t&&typeof t=="object")switch(t[Ro]){case wC:case CC:return!0}return!1}function Ppe(t){if(t&&typeof t=="object")switch(t[Ro]){case Mk:case wC:case qk:case CC:return!0}return!1}var kpe=t=>(bz(t)||Ez(t))&&!!t.anchor,_z=class{constructor(e){Object.defineProperty(this,Ro,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}};Sr.ALIAS=Mk;Sr.DOC=wz;Sr.MAP=wC;Sr.NODE_TYPE=Ro;Sr.NodeBase=_z;Sr.PAIR=Cz;Sr.SCALAR=qk;Sr.SEQ=CC;Sr.hasAnchor=kpe;Sr.isAlias=bpe;Sr.isCollection=Ez;Sr.isDocument=Epe;Sr.isMap=_pe;Sr.isNode=Ppe;Sr.isPair=Spe;Sr.isScalar=bz;Sr.isSeq=xpe});var jh=I(Sz=>{"use strict";var En=bt(),ml=Symbol("break visit"),Ipe=Symbol("skip children"),qh=Symbol("remove node");function bC(t,e){typeof e=="object"&&(e.Collection||e.Node||e.Value)&&(e=Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e)),En.isDocument(t)?Of(null,t.contents,e,Object.freeze([t]))===qh&&(t.contents=null):Of(null,t,e,Object.freeze([]))}bC.BREAK=ml;bC.SKIP=Ipe;bC.REMOVE=qh;function Of(t,e,r,n){let i;if(typeof r=="function"?i=r(t,e,n):En.isMap(e)?r.Map&&(i=r.Map(t,e,n)):En.isSeq(e)?r.Seq&&(i=r.Seq(t,e,n)):En.isPair(e)?r.Pair&&(i=r.Pair(t,e,n)):En.isScalar(e)?r.Scalar&&(i=r.Scalar(t,e,n)):En.isAlias(e)&&r.Alias&&(i=r.Alias(t,e,n)),En.isNode(i)||En.isPair(i)){let o=n[n.length-1];if(En.isCollection(o))o.items[t]=i;else if(En.isPair(o))t==="key"?o.key=i:o.value=i;else if(En.isDocument(o))o.contents=i;else{let s=En.isAlias(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${s} parent`)}return Of(t,i,r,n)}if(typeof i!="symbol"){if(En.isCollection(e)){n=Object.freeze(n.concat(e));for(let o=0;o<e.items.length;++o){let s=Of(o,e.items[o],r,n);if(typeof s=="number")o=s-1;else{if(s===ml)return ml;s===qh&&(e.items.splice(o,1),o-=1)}}}else if(En.isPair(e)){n=Object.freeze(n.concat(e));let o=Of("key",e.key,r,n);if(o===ml)return ml;o===qh&&(e.key=null);let s=Of("value",e.value,r,n);if(s===ml)return ml;s===qh&&(e.value=null)}}return i}Sz.visit=bC});var jk=I(Pz=>{"use strict";var xz=bt(),Tpe=jh(),Ape={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Dpe=t=>t.replace(/[!,[\]{}]/g,e=>Ape[e]),zn=class{constructor(e,r){this.marker=null,this.yaml=Object.assign({},zn.defaultYaml,e),this.tags=Object.assign({},zn.defaultTags,r)}clone(){let e=new zn(this.yaml,this.tags);return e.marker=this.marker,e}atDocument(){let e=new zn(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:zn.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},zn.defaultTags);break}return e}add(e,r){this.atNextDocument&&(this.yaml={explicit:zn.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},zn.defaultTags),this.atNextDocument=!1);let n=e.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[o,s]=n;return this.tags[o]=s,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length<1)return r(0,"%YAML directive should contain exactly one part"),!1;let[o]=n;return o==="1.1"||o==="1.2"?(this.yaml.version=o,!0):(r(6,`Unsupported YAML version ${o}`,!0),!1)}default:return r(0,`Unknown directive ${i}`,!0),!1}}tagName(e,r){if(e==="!")return"!";if(e[0]!=="!")return r(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let s=e.slice(2,-1);return s==="!"||s==="!!"?(r(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&r("Verbatim tags must end with a >"),s)}let[,n,i]=e.match(/^(.*!)([^!]*)$/);i||r(`The ${e} tag has no suffix`);let o=this.tags[n];return o?o+decodeURIComponent(i):n==="!"?e:(r(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[r,n]of Object.entries(this.tags))if(e.startsWith(n))return r+Dpe(e.substring(n.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let r=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags),i;if(e&&n.length>0&&xz.isNode(e.contents)){let o={};Tpe.visit(e.contents,(s,a)=>{xz.isNode(a)&&a.tag&&(o[a.tag]=!0)}),i=Object.keys(o)}else i=[];for(let[o,s]of n)o==="!!"&&s==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(s)))&&r.push(`%TAG ${o} ${s}`);return r.join(`
`)}};zn.defaultYaml={explicit:!1,version:"1.2"};zn.defaultTags={"!!":"tag:yaml.org,2002:"};Pz.Directives=zn});var EC=I($h=>{"use strict";var kz=bt(),Rpe=jh();function Ope(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){let r=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(r)}return!0}function Iz(t){let e=new Set;return Rpe.visit(t,{Value(r,n){n.anchor&&e.add(n.anchor)}}),e}function Tz(t,e){for(let r=1;;++r){let n=`${t}${r}`;if(!e.has(n))return n}}function Npe(t,e){let r=[],n=new Map,i=null;return{onAnchor(o){r.push(o),i||(i=Iz(t));let s=Tz(e,i);return i.add(s),s},setAnchors(){for(let o of r){let s=n.get(o);if(typeof s=="object"&&s.anchor&&(kz.isScalar(s.node)||kz.isCollection(s.node)))s.node.anchor=s.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=o,a}}},sourceObjects:n}}$h.anchorIsValid=Ope;$h.anchorNames=Iz;$h.createNodeAnchors=Npe;$h.findNewAnchor=Tz});var Bh=I(Rz=>{"use strict";var Lpe=EC(),Az=jh(),Uh=bt(),Dz=class extends Uh.NodeBase{constructor(e){super(Uh.ALIAS);this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let r;return Az.visit(e,{Node:(n,i)=>{if(i===this)return Az.visit.BREAK;i.anchor===this.source&&(r=i)}}),r}toJSON(e,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:o}=r,s=this.resolve(i);if(!s){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=n.get(s);if(!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(o>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=_C(i,s,n)),a.count*a.aliasCount>o)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,r,n){let i=`*${this.source}`;if(e){if(Lpe.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let o=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(o)}if(e.implicitKey)return`${i} `}return i}};function _C(t,e,r){if(Uh.isAlias(e)){let n=e.resolve(t),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(Uh.isCollection(e)){let n=0;for(let i of e.items){let o=_C(t,i,r);o>n&&(n=o)}return n}else if(Uh.isPair(e)){let n=_C(t,e.key,r),i=_C(t,e.value,r);return Math.max(n,i)}return 1}Rz.Alias=Dz});var Nf=I(Nz=>{"use strict";var Fpe=bt();function Oz(t,e,r){if(Array.isArray(t))return t.map((n,i)=>Oz(n,String(i),r));if(t&&typeof t.toJSON=="function"){if(!r||!Fpe.hasAnchor(t))return t.toJSON(e,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(t,n),r.onCreate=o=>{n.res=o,delete r.onCreate};let i=t.toJSON(e,r);return r.onCreate&&r.onCreate(i),i}return typeof t=="bigint"&&!(r&&r.keep)?Number(t):t}Nz.toJS=Oz});var ur=I($k=>{"use strict";var Lz=bt(),Mpe=Nf(),qpe=t=>!t||typeof t!="function"&&typeof t!="object",gl=class extends Lz.NodeBase{constructor(e){super(Lz.SCALAR);this.value=e}toJSON(e,r){return r&&r.keep?this.value:Mpe.toJS(this.value,e,r)}toString(){return String(this.value)}};gl.BLOCK_FOLDED="BLOCK_FOLDED";gl.BLOCK_LITERAL="BLOCK_LITERAL";gl.PLAIN="PLAIN";gl.QUOTE_DOUBLE="QUOTE_DOUBLE";gl.QUOTE_SINGLE="QUOTE_SINGLE";$k.Scalar=gl;$k.isScalarValue=qpe});var Hh=I(Mz=>{"use strict";var jpe=Bh(),vl=bt(),Fz=ur(),$pe="tag:yaml.org,2002:";function Upe(t,e,r){if(e){let n=r.filter(o=>o.tag===e),i=n.find(o=>!o.format)||n[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return r.find(n=>n.identify&&n.identify(t)&&!n.format)}function Bpe(t,e,r){var n,i;if(vl.isDocument(t)&&(t=t.contents),vl.isNode(t))return t;if(vl.isPair(t)){let p=(i=(n=r.schema[vl.MAP]).createNode)===null||i===void 0?void 0:i.call(n,r.schema,null,r);return p.items.push(t),p}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt=="function"&&t instanceof BigInt)&&(t=t.valueOf());let{aliasDuplicateObjects:o,onAnchor:s,onTagObj:a,schema:c,sourceObjects:l}=r,u;if(o&&t&&typeof t=="object"){if(u=l.get(t),u)return u.anchor||(u.anchor=s(t)),new jpe.Alias(u.anchor);u={anchor:null,node:null},l.set(t,u)}e&&e.startsWith("!!")&&(e=$pe+e.slice(2));let f=Upe(t,e,c.tags);if(!f){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){let p=new Fz.Scalar(t);return u&&(u.node=p),p}f=t instanceof Map?c[vl.MAP]:Symbol.iterator in Object(t)?c[vl.SEQ]:c[vl.MAP]}a&&(a(f),delete r.onTagObj);let d=(f==null?void 0:f.createNode)?f.createNode(r.schema,t,r):new Fz.Scalar(t);return e&&(d.tag=e),u&&(u.node=d),d}Mz.createNode=Bpe});var Vh=I(SC=>{"use strict";var Hpe=Hh(),Xi=bt();function Uk(t,e,r){let n=r;for(let i=e.length-1;i>=0;--i){let o=e[i];if(typeof o=="number"&&Number.isInteger(o)&&o>=0){let s=[];s[o]=n,n=s}else n=new Map([[o,n]])}return Hpe.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}var qz=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done,Bk=class extends Xi.NodeBase{constructor(e,r){super(e);Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(e){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(r.schema=e),r.items=r.items.map(n=>Xi.isNode(n)||Xi.isPair(n)?n.clone(e):n),this.range&&(r.range=this.range.slice()),r}addIn(e,r){if(qz(e))this.add(r);else{let[n,...i]=e,o=this.get(n,!0);if(Xi.isCollection(o))o.addIn(i,r);else if(o===void 0&&this.schema)this.set(n,Uk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}deleteIn(e){let[r,...n]=e;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(Xi.isCollection(i))return i.deleteIn(n);throw new Error(`Expected YAML collection at ${r}. Remaining path: ${n}`)}getIn(e,r){let[n,...i]=e,o=this.get(n,!0);return i.length===0?!r&&Xi.isScalar(o)?o.value:o:Xi.isCollection(o)?o.getIn(i,r):void 0}hasAllNullValues(e){return this.items.every(r=>{if(!Xi.isPair(r))return!1;let n=r.value;return n==null||e&&Xi.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(e){let[r,...n]=e;if(n.length===0)return this.has(r);let i=this.get(r,!0);return Xi.isCollection(i)?i.hasIn(n):!1}setIn(e,r){let[n,...i]=e;if(i.length===0)this.set(n,r);else{let o=this.get(n,!0);if(Xi.isCollection(o))o.setIn(i,r);else if(o===void 0&&this.schema)this.set(n,Uk(this.schema,i,r));else throw new Error(`Expected YAML collection at ${n}. Remaining path: ${i}`)}}};Bk.maxFlowStringSingleLineLength=60;SC.Collection=Bk;SC.collectionFromPath=Uk;SC.isEmptyPath=qz});var zh=I(xC=>{"use strict";var Vpe=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function jz(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}var zpe=(t,e,r)=>r.includes(`
`)?`
`+jz(r,e):(t.endsWith(" ")?"":" ")+r;xC.indentComment=jz;xC.lineComment=zpe;xC.stringifyComment=Vpe});var Uz=I(Gh=>{"use strict";var Gpe="flow",Hk="block",PC="quoted";function Wpe(t,e,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:o=20,onFold:s,onOverflow:a}={}){if(!i||i<0)return t;let c=Math.max(1+o,1+i-e.length);if(t.length<=c)return t;let l=[],u={},f=i-e.length;typeof n=="number"&&(n>i-Math.max(2,o)?l.push(0):f=i-n);let d,p,h=!1,m=-1,g=-1,v=-1;r===Hk&&(m=$z(t,m),m!==-1&&(f=m+c));for(let C;C=t[m+=1];){if(r===PC&&C==="\\"){switch(g=m,t[m+1]){case"x":m+=3;break;case"u":m+=5;break;case"U":m+=9;break;default:m+=1}v=m}if(C===`
`)r===Hk&&(m=$z(t,m)),f=m+c,d=void 0;else{if(C===" "&&p&&p!==" "&&p!==`
`&&p!=="	"){let b=t[m+1];b&&b!==" "&&b!==`
`&&b!=="	"&&(d=m)}if(m>=f)if(d)l.push(d),f=d+c,d=void 0;else if(r===PC){for(;p===" "||p==="	";)p=C,C=t[m+=1],h=!0;let b=m>v+1?m-2:g-1;if(u[b])return t;l.push(b),u[b]=!0,f=b+c,d=void 0}else h=!0}p=C}if(h&&a&&a(),l.length===0)return t;s&&s();let y=t.slice(0,l[0]);for(let C=0;C<l.length;++C){let b=l[C],_=l[C+1]||t.length;b===0?y=`
${e}${t.slice(0,_)}`:(r===PC&&u[b]&&(y+=`${t[b]}\\`),y+=`
${e}${t.slice(b+1,_)}`)}return y}function $z(t,e){let r=t[e+1];for(;r===" "||r==="	";){do r=t[e+=1];while(r&&r!==`
`);r=t[e+1]}return e}Gh.FOLD_BLOCK=Hk;Gh.FOLD_FLOW=Gpe;Gh.FOLD_QUOTED=PC;Gh.foldFlowLines=Wpe});var Yh=I(Bz=>{"use strict";var Oo=ur(),Sa=Uz(),kC=t=>({indentAtStart:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),IC=t=>/^(%|---|\.\.\.)/m.test(t);function Kpe(t,e,r){if(!e||e<0)return!1;let n=e-r,i=t.length;if(i<=n)return!1;for(let o=0,s=0;o<i;++o)if(t[o]===`
`){if(o-s>n)return!0;if(s=o+1,i-s<=n)return!1}return!0}function Wh(t,e){let r=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=e,i=e.options.doubleQuotedMinMultiLineLength,o=e.indent||(IC(t)?"  ":""),s="",a=0;for(let c=0,l=r[c];l;l=r[++c])if(l===" "&&r[c+1]==="\\"&&r[c+2]==="n"&&(s+=r.slice(a,c)+"\\ ",c+=1,a=c,l="\\"),l==="\\")switch(r[c+1]){case"u":{s+=r.slice(a,c);let u=r.substr(c+2,4);switch(u){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:u.substr(0,2)==="00"?s+="\\x"+u.substr(2):s+=r.substr(c,6)}c+=5,a=c+1}break;case"n":if(n||r[c+2]==='"'||r.length<i)c+=1;else{for(s+=r.slice(a,c)+`

`;r[c+2]==="\\"&&r[c+3]==="n"&&r[c+4]!=='"';)s+=`
`,c+=2;s+=o,r[c+2]===" "&&(s+="\\"),c+=1,a=c+1}break;default:c+=1}return s=a?s+r.slice(a):r,n?s:Sa.foldFlowLines(s,o,Sa.FOLD_QUOTED,kC(e))}function Vk(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return Wh(t,e);let r=e.indent||(IC(t)?"  ":""),n="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${r}`)+"'";return e.implicitKey?n:Sa.foldFlowLines(n,r,Sa.FOLD_FLOW,kC(e))}function Kh(t,e){let{singleQuote:r}=e.options,n;if(r===!1)n=Wh;else{let i=t.includes('"'),o=t.includes("'");i&&!o?n=Vk:o&&!i?n=Wh:n=r?Vk:Wh}return n(t,e)}function TC({comment:t,type:e,value:r},n,i,o){let{blockQuote:s,commentString:a,lineWidth:c}=n.options;if(!s||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return Kh(r,n);let l=n.indent||(n.forceBlockIndent||IC(r)?"  ":""),u=s==="literal"?!0:s==="folded"||e===Oo.Scalar.BLOCK_FOLDED?!1:e===Oo.Scalar.BLOCK_LITERAL?!0:!Kpe(r,c,l.length);if(!r)return u?`|
`:`>
`;let f,d;for(d=r.length;d>0;--d){let P=r[d-1];if(P!==`
`&&P!=="	"&&P!==" ")break}let p=r.substring(d),h=p.indexOf(`
`);h===-1?f="-":r===p||h!==p.length-1?(f="+",o&&o()):f="",p&&(r=r.slice(0,-p.length),p[p.length-1]===`
`&&(p=p.slice(0,-1)),p=p.replace(/\n+(?!\n|$)/g,`$&${l}`));let m=!1,g,v=-1;for(g=0;g<r.length;++g){let P=r[g];if(P===" ")m=!0;else if(P===`
`)v=g;else break}let y=r.substring(0,v<g?v+1:g);y&&(r=r.substring(y.length),y=y.replace(/\n+/g,`$&${l}`));let b=(u?"|":">")+(m?l?"2":"1":"")+f;if(t&&(b+=" "+a(t.replace(/ ?[\r\n]+/g," ")),i&&i()),u)return r=r.replace(/\n+/g,`$&${l}`),`${b}
${l}${y}${r}${p}`;r=r.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${l}`);let _=Sa.foldFlowLines(`${y}${r}${p}`,l,Sa.FOLD_BLOCK,kC(n));return`${b}
${l}${_}`}function Ype(t,e,r,n){let{type:i,value:o}=t,{actualString:s,implicitKey:a,indent:c,inFlow:l}=e;if(a&&/[\n[\]{},]/.test(o)||l&&/[[\]{},]/.test(o))return Kh(o,e);if(!o||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(o))return a||l||o.indexOf(`
`)===-1?Kh(o,e):TC(t,e,r,n);if(!a&&!l&&i!==Oo.Scalar.PLAIN&&o.indexOf(`
`)!==-1)return TC(t,e,r,n);if(c===""&&IC(o))return e.forceBlockIndent=!0,TC(t,e,r,n);let u=o.replace(/\n+/g,`$&
${c}`);if(s){let f=h=>{var m;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((m=h.test)===null||m===void 0?void 0:m.test(u))},{compat:d,tags:p}=e.doc.schema;if(p.some(f)||(d==null?void 0:d.some(f)))return Kh(o,e)}return a?u:Sa.foldFlowLines(u,c,Sa.FOLD_FLOW,kC(e))}function Jpe(t,e,r,n){let{implicitKey:i,inFlow:o}=e,s=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)}),{type:a}=t;a!==Oo.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(a=Oo.Scalar.QUOTE_DOUBLE);let c=u=>{switch(u){case Oo.Scalar.BLOCK_FOLDED:case Oo.Scalar.BLOCK_LITERAL:return i||o?Kh(s.value,e):TC(s,e,r,n);case Oo.Scalar.QUOTE_DOUBLE:return Wh(s.value,e);case Oo.Scalar.QUOTE_SINGLE:return Vk(s.value,e);case Oo.Scalar.PLAIN:return Ype(s,e,r,n);default:return null}},l=c(a);if(l===null){let{defaultKeyType:u,defaultStringType:f}=e.options,d=i&&u||f;if(l=c(d),l===null)throw new Error(`Unsupported default string type ${d}`)}return l}Bz.stringifyString=Jpe});var Lf=I(zk=>{"use strict";var Qpe=EC(),xa=bt(),Xpe=zh(),Zpe=Yh();function ehe(t,e){let r=Object.assign({blockQuote:!0,commentString:Xpe.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:t,indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function the(t,e){if(e.tag){let i=t.filter(o=>o.tag===e.tag);if(i.length>0)return i.find(o=>o.format===e.format)||i[0]}let r,n;if(xa.isScalar(e)){n=e.value;let i=t.filter(o=>o.identify&&o.identify(n));r=i.find(o=>o.format===e.format)||i.find(o=>!o.format)}else n=e,r=t.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n&&n.constructor?n.constructor.name:typeof n;throw new Error(`Tag not resolved for ${i} value`)}return r}function rhe(t,e,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],o=(xa.isScalar(t)||xa.isCollection(t))&&t.anchor;o&&Qpe.anchorIsValid(o)&&(r.add(o),i.push(`&${o}`));let s=t.tag||(e.default?null:e.tag);return s&&i.push(n.directives.tagString(s)),i.join(" ")}function nhe(t,e,r,n){var i;if(xa.isPair(t))return t.toString(e,r,n);if(xa.isAlias(t)){if(e.doc.directives)return t.toString(e);if((i=e.resolvedAliases)===null||i===void 0?void 0:i.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o,s=xa.isNode(t)?t:e.doc.createNode(t,{onTagObj:l=>o=l});o||(o=the(e.doc.schema.tags,s));let a=rhe(s,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart||0)+a.length+1);let c=typeof o.stringify=="function"?o.stringify(s,e,r,n):xa.isScalar(s)?Zpe.stringifyString(s,e,r,n):s.toString(e,r,n);return a?xa.isScalar(s)||c[0]==="{"||c[0]==="["?`${a} ${c}`:`${a}
${e.indent}${c}`:c}zk.createStringifyContext=ehe;zk.stringify=nhe});var Gz=I(zz=>{"use strict";var Pa=bt(),Hz=ur(),Vz=Lf(),Jh=zh();function ihe({key:t,value:e},r,n,i){let{allNullValues:o,doc:s,indent:a,indentStep:c,options:{commentString:l,indentSeq:u,simpleKeys:f}}=r,d=Pa.isNode(t)&&t.comment||null;if(f){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Pa.isCollection(t)){let P="With simple keys, collection cannot be used as a key value";throw new Error(P)}}let p=!f&&(!t||d&&e==null&&!r.inFlow||Pa.isCollection(t)||(Pa.isScalar(t)?t.type===Hz.Scalar.BLOCK_FOLDED||t.type===Hz.Scalar.BLOCK_LITERAL:typeof t=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(f||!o),indent:a+c});let h=!1,m=!1,g=Vz.stringify(t,r,()=>h=!0,()=>m=!0);if(!p&&!r.inFlow&&g.length>1024){if(f)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(o||e==null)return h&&n&&n(),p?`? ${g}`:g}else if(o&&!f||e==null&&p)return g=`? ${g}`,d&&!h?g+=Jh.lineComment(g,r.indent,l(d)):m&&i&&i(),g;h&&(d=null),p?(d&&(g+=Jh.lineComment(g,r.indent,l(d))),g=`? ${g}
${a}:`):(g=`${g}:`,d&&(g+=Jh.lineComment(g,r.indent,l(d))));let v="",y=null;if(Pa.isNode(e)){if(e.spaceBefore&&(v=`
`),e.commentBefore){let P=l(e.commentBefore);v+=`
${Jh.indentComment(P,r.indent)}`}y=e.comment}else e&&typeof e=="object"&&(e=s.createNode(e));r.implicitKey=!1,!p&&!d&&Pa.isScalar(e)&&(r.indentAtStart=g.length+1),m=!1,!u&&c.length>=2&&!r.inFlow&&!p&&Pa.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(r.indent=r.indent.substr(2));let C=!1,b=Vz.stringify(e,r,()=>C=!0,()=>m=!0),_=" ";return v||d?_=b===""&&!r.inFlow?v:`${v}
${r.indent}`:!p&&Pa.isCollection(e)?(!(b[0]==="["||b[0]==="{")||b.includes(`
`))&&(_=`
${r.indent}`):(b===""||b[0]===`
`)&&(_=""),g+=_+b,r.inFlow?C&&n&&n():y&&!C?g+=Jh.lineComment(g,r.indent,l(y)):m&&i&&i(),g}zz.stringifyPair=ihe});var Wk=I(Gk=>{"use strict";function ohe(t,...e){t==="debug"&&console.log(...e)}function she(t,e){(t==="debug"||t==="warn")&&(typeof process!="undefined"&&process.emitWarning?process.emitWarning(e):console.warn(e))}Gk.debug=ohe;Gk.warn=she});var Jk=I(Kz=>{"use strict";var ahe=Wk(),che=Lf(),Ff=bt(),lhe=ur(),Kk=Nf(),Wz="<<";function uhe(t,e,{key:r,value:n}){if(t&&t.doc.schema.merge&&fhe(r))if(n=Ff.isAlias(n)?n.resolve(t.doc):n,Ff.isSeq(n))for(let i of n.items)Yk(t,e,i);else if(Array.isArray(n))for(let i of n)Yk(t,e,i);else Yk(t,e,n);else{let i=Kk.toJS(r,"",t);if(e instanceof Map)e.set(i,Kk.toJS(n,i,t));else if(e instanceof Set)e.add(i);else{let o=dhe(r,i,t),s=Kk.toJS(n,o,t);o in e?Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0}):e[o]=s}}return e}var fhe=t=>t===Wz||Ff.isScalar(t)&&t.value===Wz&&(!t.type||t.type===lhe.Scalar.PLAIN);function Yk(t,e,r){let n=t&&Ff.isAlias(r)?r.resolve(t.doc):r;if(!Ff.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,t,Map);for(let[o,s]of i)e instanceof Map?e.has(o)||e.set(o,s):e instanceof Set?e.add(o):Object.prototype.hasOwnProperty.call(e,o)||Object.defineProperty(e,o,{value:s,writable:!0,enumerable:!0,configurable:!0});return e}function dhe(t,e,r){if(e===null)return"";if(typeof e!="object")return String(e);if(Ff.isNode(t)&&r&&r.doc){let n=che.createStringifyContext(r.doc,{});n.anchors=new Set;for(let o of r.anchors.keys())n.anchors.add(o.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=t.toString(n);if(!r.mapKeyWarned){let o=JSON.stringify(i);o.length>40&&(o=o.substring(0,36)+'..."'),ahe.warn(r.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${o}. Set mapAsMap: true to use object keys.`),r.mapKeyWarned=!0}return i}return JSON.stringify(e)}Kz.addPairToJSMap=uhe});var Es=I(Qk=>{"use strict";var Yz=Hh(),phe=Gz(),hhe=Jk(),AC=bt();function mhe(t,e,r){let n=Yz.createNode(t,void 0,r),i=Yz.createNode(e,void 0,r);return new Qh(n,i)}var Qh=class{constructor(e,r=null){Object.defineProperty(this,AC.NODE_TYPE,{value:AC.PAIR}),this.key=e,this.value=r}clone(e){let{key:r,value:n}=this;return AC.isNode(r)&&(r=r.clone(e)),AC.isNode(n)&&(n=n.clone(e)),new Qh(r,n)}toJSON(e,r){let n=r&&r.mapAsMap?new Map:{};return hhe.addPairToJSMap(r,n,this)}toString(e,r,n){return e&&e.doc?phe.stringifyPair(this,e,r,n):JSON.stringify(this)}};Qk.Pair=Qh;Qk.createPair=mhe});var DC=I(Jz=>{"use strict";var ghe={intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"};Jz.defaultOptions=ghe});var Xk=I(Xz=>{"use strict";var vhe=Vh(),yl=bt(),Qz=Lf(),Xh=zh();function yhe(t,e,r){var n;return(((n=e.inFlow)!==null&&n!==void 0?n:t.flow)?Che:whe)(t,e,r)}function whe({comment:t,items:e},r,{blockItemPrefix:n,flowChars:i,itemIndent:o,onChompKeep:s,onComment:a}){let{indent:c,options:{commentString:l}}=r,u=Object.assign({},r,{indent:o,type:null}),f=!1,d=[];for(let h=0;h<e.length;++h){let m=e[h],g=null;if(yl.isNode(m))!f&&m.spaceBefore&&d.push(""),RC(r,d,m.commentBefore,f),m.comment&&(g=m.comment);else if(yl.isPair(m)){let y=yl.isNode(m.key)?m.key:null;y&&(!f&&y.spaceBefore&&d.push(""),RC(r,d,y.commentBefore,f))}f=!1;let v=Qz.stringify(m,u,()=>g=null,()=>f=!0);g&&(v+=Xh.lineComment(v,o,l(g))),f&&g&&(f=!1),d.push(n+v)}let p;if(d.length===0)p=i.start+i.end;else{p=d[0];for(let h=1;h<d.length;++h){let m=d[h];p+=m?`
${c}${m}`:`
`}}return t?(p+=`
`+Xh.indentComment(l(t),c),a&&a()):f&&s&&s(),p}function Che({comment:t,items:e},r,{flowChars:n,itemIndent:i,onComment:o}){let{indent:s,indentStep:a,options:{commentString:c}}=r;i+=a;let l=Object.assign({},r,{indent:i,inFlow:!0,type:null}),u=!1,f=0,d=[];for(let g=0;g<e.length;++g){let v=e[g],y=null;if(yl.isNode(v))v.spaceBefore&&d.push(""),RC(r,d,v.commentBefore,!1),v.comment&&(y=v.comment);else if(yl.isPair(v)){let b=yl.isNode(v.key)?v.key:null;b&&(b.spaceBefore&&d.push(""),RC(r,d,b.commentBefore,!1),b.comment&&(u=!0));let _=yl.isNode(v.value)?v.value:null;_?(_.comment&&(y=_.comment),_.commentBefore&&(u=!0)):v.value==null&&b&&b.comment&&(y=b.comment)}y&&(u=!0);let C=Qz.stringify(v,l,()=>y=null);g<e.length-1&&(C+=","),y&&(C+=Xh.lineComment(C,i,c(y))),!u&&(d.length>f||C.includes(`
`))&&(u=!0),d.push(C),f=d.length}let p,{start:h,end:m}=n;if(d.length===0)p=h+m;else if(u||(u=d.reduce((v,y)=>v+y.length+2,2)>vhe.Collection.maxFlowStringSingleLineLength),u){p=h;for(let g of d)p+=g?`
${a}${s}${g}`:`
`;p+=`
${s}${m}`}else p=`${h} ${d.join(" ")} ${m}`;return t&&(p+=Xh.lineComment(p,c(t),s),o&&o()),p}function RC({indent:t,options:{commentString:e}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let o=Xh.indentComment(e(n),t);r.push(o.trimStart())}}Xz.stringifyCollection=yhe});var wl=I(eI=>{"use strict";var bhe=Xk(),Ehe=Jk(),_he=Vh(),ka=bt(),Zk=Es(),She=ur();function Zh(t,e){let r=ka.isScalar(e)?e.value:e;for(let n of t)if(ka.isPair(n)&&(n.key===e||n.key===r||ka.isScalar(n.key)&&n.key.value===r))return n}var Zz=class extends _he.Collection{constructor(e){super(ka.MAP,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,r){let n;ka.isPair(e)?n=e:!e||typeof e!="object"||!("key"in e)?n=new Zk.Pair(e,e.value):n=new Zk.Pair(e.key,e.value);let i=Zh(this.items,n.key),o=this.schema&&this.schema.sortMapEntries;if(i){if(!r)throw new Error(`Key ${n.key} already set`);ka.isScalar(i.value)&&She.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(o){let s=this.items.findIndex(a=>o(n,a)<0);s===-1?this.items.push(n):this.items.splice(s,0,n)}else this.items.push(n)}delete(e){let r=Zh(this.items,e);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(e,r){let n=Zh(this.items,e),i=n&&n.value;return!r&&ka.isScalar(i)?i.value:i}has(e){return!!Zh(this.items,e)}set(e,r){this.add(new Zk.Pair(e,r),!0)}toJSON(e,r,n){let i=n?new n:r&&r.mapAsMap?new Map:{};r&&r.onCreate&&r.onCreate(i);for(let o of this.items)Ehe.addPairToJSMap(r,i,o);return i}toString(e,r,n){if(!e)return JSON.stringify(this);for(let i of this.items)if(!ka.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),bhe.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:r})}};eI.YAMLMap=Zz;eI.findPair=Zh});var Mf=I(tG=>{"use strict";var xhe=bt(),Phe=Es(),eG=wl();function khe(t,e,r){let{keepUndefined:n,replacer:i}=r,o=new eG.YAMLMap(t),s=(a,c)=>{if(typeof i=="function")c=i.call(e,a,c);else if(Array.isArray(i)&&!i.includes(a))return;(c!==void 0||n)&&o.items.push(Phe.createPair(a,c,r))};if(e instanceof Map)for(let[a,c]of e)s(a,c);else if(e&&typeof e=="object")for(let a of Object.keys(e))s(a,e[a]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}var Ihe={collection:"map",createNode:khe,default:!0,nodeClass:eG.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(t,e){return xhe.isMap(t)||e("Expected a mapping for this tag"),t}};tG.map=Ihe});var Cl=I(nG=>{"use strict";var The=Xk(),Ahe=Vh(),OC=bt(),Dhe=ur(),Rhe=Nf(),rG=class extends Ahe.Collection{constructor(e){super(OC.SEQ,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){let r=NC(e);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(e,r){let n=NC(e);if(typeof n!="number")return;let i=this.items[n];return!r&&OC.isScalar(i)?i.value:i}has(e){let r=NC(e);return typeof r=="number"&&r<this.items.length}set(e,r){let n=NC(e);if(typeof n!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[n];OC.isScalar(i)&&Dhe.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(e,r){let n=[];r&&r.onCreate&&r.onCreate(n);let i=0;for(let o of this.items)n.push(Rhe.toJS(o,String(i++),r));return n}toString(e,r,n){return e?The.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}};function NC(t){let e=OC.isScalar(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}nG.YAMLSeq=rG});var qf=I(oG=>{"use strict";var Ohe=Hh(),Nhe=bt(),iG=Cl();function Lhe(t,e,r){let{replacer:n}=r,i=new iG.YAMLSeq(t);if(e&&Symbol.iterator in Object(e)){let o=0;for(let s of e){if(typeof n=="function"){let a=e instanceof Set?s:String(o++);s=n.call(e,a,s)}i.items.push(Ohe.createNode(s,void 0,r))}}return i}var Fhe={collection:"seq",createNode:Lhe,default:!0,nodeClass:iG.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(t,e){return Nhe.isSeq(t)||e("Expected a sequence for this tag"),t}};oG.seq=Fhe});var em=I(sG=>{"use strict";var Mhe=Yh(),qhe={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,r,n){return e=Object.assign({actualString:!0},e),Mhe.stringifyString(t,e,r,n)}};sG.string=qhe});var LC=I(lG=>{"use strict";var aG=ur(),cG={identify:t=>t==null,createNode:()=>new aG.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new aG.Scalar(null),stringify:({source:t},e)=>t&&cG.test.test(t)?t:e.options.nullStr};lG.nullTag=cG});var tI=I(fG=>{"use strict";var jhe=ur(),uG={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new jhe.Scalar(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},r){if(t&&uG.test.test(t)){let n=t[0]==="t"||t[0]==="T";if(e===n)return t}return e?r.options.trueStr:r.options.falseStr}};fG.boolTag=uG});var jf=I(dG=>{"use strict";function $he({format:t,minFractionDigits:e,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let o=JSON.stringify(n);if(!t&&e&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(o)){let s=o.indexOf(".");s<0&&(s=o.length,o+=".");let a=e-(o.length-s-1);for(;a-- >0;)o+="0"}return o}dG.stringifyNumber=$he});var nI=I(FC=>{"use strict";var Uhe=ur(),rI=jf(),Bhe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:rI.stringifyNumber},Hhe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():rI.stringifyNumber(t)}},Vhe={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){let e=new Uhe.Scalar(parseFloat(t)),r=t.indexOf(".");return r!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-r-1),e},stringify:rI.stringifyNumber};FC.float=Vhe;FC.floatExp=Hhe;FC.floatNaN=Bhe});var oI=I(qC=>{"use strict";var pG=jf(),MC=t=>typeof t=="bigint"||Number.isInteger(t),iI=(t,e,r,{intAsBigInt:n})=>n?BigInt(t):parseInt(t.substring(e),r);function hG(t,e,r){let{value:n}=t;return MC(n)&&n>=0?r+n.toString(e):pG.stringifyNumber(t)}var zhe={identify:t=>MC(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,r)=>iI(t,2,8,r),stringify:t=>hG(t,8,"0o")},Ghe={identify:MC,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,r)=>iI(t,0,10,r),stringify:pG.stringifyNumber},Whe={identify:t=>MC(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,r)=>iI(t,2,16,r),stringify:t=>hG(t,16,"0x")};qC.int=Ghe;qC.intHex=Whe;qC.intOct=zhe});var gG=I(mG=>{"use strict";var Khe=Mf(),Yhe=LC(),Jhe=qf(),Qhe=em(),Xhe=tI(),sI=nI(),aI=oI(),Zhe=[Khe.map,Jhe.seq,Qhe.string,Yhe.nullTag,Xhe.boolTag,aI.intOct,aI.int,aI.intHex,sI.floatNaN,sI.floatExp,sI.float];mG.schema=Zhe});var wG=I(yG=>{"use strict";var eme=ur(),tme=Mf(),rme=qf();function vG(t){return typeof t=="bigint"||Number.isInteger(t)}var jC=({value:t})=>JSON.stringify(t),nme=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:jC},{identify:t=>t==null,createNode:()=>new eme.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:jC},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:jC},{identify:vG,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:r})=>r?BigInt(t):parseInt(t,10),stringify:({value:t})=>vG(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:jC}],ime={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},ome=[tme.map,rme.seq].concat(nme,ime);yG.schema=ome});var lI=I(CG=>{"use strict";var cI=ur(),sme=Yh(),ame={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){let r=atob(t.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:r},n,i,o){let s=r,a;if(typeof Buffer=="function")a=s instanceof Buffer?s.toString("base64"):Buffer.from(s.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let l=0;l<s.length;++l)c+=String.fromCharCode(s[l]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=cI.Scalar.BLOCK_LITERAL),e!==cI.Scalar.QUOTE_DOUBLE){let c=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),l=Math.ceil(a.length/c),u=new Array(l);for(let f=0,d=0;f<l;++f,d+=c)u[f]=a.substr(d,c);a=u.join(e===cI.Scalar.BLOCK_LITERAL?`
`:" ")}return sme.stringifyString({comment:t,type:e,value:a},n,i,o)}};CG.binary=ame});var BC=I(UC=>{"use strict";var $C=bt(),uI=Es(),cme=ur(),lme=Cl();function bG(t,e){if($C.isSeq(t))for(let r=0;r<t.items.length;++r){let n=t.items[r];if(!$C.isPair(n)){if($C.isMap(n)){n.items.length>1&&e("Each pair must have its own sequence indicator");let i=n.items[0]||new uI.Pair(new cme.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${n.commentBefore}
${i.key.commentBefore}`:n.commentBefore),n.comment){let o=i.value||i.key;o.comment=o.comment?`${n.comment}
${o.comment}`:n.comment}n=i}t.items[r]=$C.isPair(n)?n:new uI.Pair(n)}}else e("Expected a sequence for this tag");return t}function EG(t,e,r){let{replacer:n}=r,i=new lme.YAMLSeq(t);i.tag="tag:yaml.org,2002:pairs";let o=0;if(e&&Symbol.iterator in Object(e))for(let s of e){typeof n=="function"&&(s=n.call(e,String(o++),s));let a,c;if(Array.isArray(s))if(s.length===2)a=s[0],c=s[1];else throw new TypeError(`Expected [key, value] tuple: ${s}`);else if(s&&s instanceof Object){let l=Object.keys(s);if(l.length===1)a=l[0],c=s[a];else throw new TypeError(`Expected { key: value } tuple: ${s}`)}else a=s;i.items.push(uI.createPair(a,c,r))}return i}var ume={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:bG,createNode:EG};UC.createPairs=EG;UC.pairs=ume;UC.resolvePairs=bG});var pI=I(dI=>{"use strict";var fme=Cl(),fI=Nf(),_G=bt(),tm=wl(),SG=BC(),Ia=class extends fme.YAMLSeq{constructor(){super();this.add=tm.YAMLMap.prototype.add.bind(this),this.delete=tm.YAMLMap.prototype.delete.bind(this),this.get=tm.YAMLMap.prototype.get.bind(this),this.has=tm.YAMLMap.prototype.has.bind(this),this.set=tm.YAMLMap.prototype.set.bind(this),this.tag=Ia.tag}toJSON(e,r){if(!r)return super.toJSON(e);let n=new Map;r&&r.onCreate&&r.onCreate(n);for(let i of this.items){let o,s;if(_G.isPair(i)?(o=fI.toJS(i.key,"",r),s=fI.toJS(i.value,o,r)):o=fI.toJS(i,"",r),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,s)}return n}};Ia.tag="tag:yaml.org,2002:omap";var dme={collection:"seq",identify:t=>t instanceof Map,nodeClass:Ia,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){let r=SG.resolvePairs(t,e),n=[];for(let{key:i}of r.items)_G.isScalar(i)&&(n.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):n.push(i.value));return Object.assign(new Ia,r)},createNode(t,e,r){let n=SG.createPairs(t,e,r),i=new Ia;return i.items=n.items,i}};dI.YAMLOMap=Ia;dI.omap=dme});var TG=I(hI=>{"use strict";var xG=ur();function PG({value:t,source:e},r){return e&&(t?kG:IG).test.test(e)?e:t?r.options.trueStr:r.options.falseStr}var kG={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new xG.Scalar(!0),stringify:PG},IG={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new xG.Scalar(!1),stringify:PG};hI.falseTag=IG;hI.trueTag=kG});var AG=I(HC=>{"use strict";var pme=ur(),mI=jf(),hme={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:mI.stringifyNumber},mme={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){let e=Number(t.value);return isFinite(e)?e.toExponential():mI.stringifyNumber(t)}},gme={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){let e=new pme.Scalar(parseFloat(t.replace(/_/g,""))),r=t.indexOf(".");if(r!==-1){let n=t.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(e.minFractionDigits=n.length)}return e},stringify:mI.stringifyNumber};HC.float=gme;HC.floatExp=mme;HC.floatNaN=hme});var RG=I(nm=>{"use strict";var DG=jf(),rm=t=>typeof t=="bigint"||Number.isInteger(t);function VC(t,e,r,{intAsBigInt:n}){let i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),n){switch(r){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}let s=BigInt(t);return i==="-"?BigInt(-1)*s:s}let o=parseInt(t,r);return i==="-"?-1*o:o}function gI(t,e,r){let{value:n}=t;if(rm(n)){let i=n.toString(e);return n<0?"-"+r+i.substr(1):r+i}return DG.stringifyNumber(t)}var vme={identify:rm,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,r)=>VC(t,2,2,r),stringify:t=>gI(t,2,"0b")},yme={identify:rm,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,r)=>VC(t,1,8,r),stringify:t=>gI(t,8,"0")},wme={identify:rm,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,r)=>VC(t,0,10,r),stringify:DG.stringifyNumber},Cme={identify:rm,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,r)=>VC(t,2,16,r),stringify:t=>gI(t,16,"0x")};nm.int=wme;nm.intBin=vme;nm.intHex=Cme;nm.intOct=yme});var yI=I(vI=>{"use strict";var zC=bt(),GC=Es(),WC=wl(),Ta=class extends WC.YAMLMap{constructor(e){super(e);this.tag=Ta.tag}add(e){let r;zC.isPair(e)?r=e:typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?r=new GC.Pair(e.key,null):r=new GC.Pair(e,null),WC.findPair(this.items,r.key)||this.items.push(r)}get(e,r){let n=WC.findPair(this.items,e);return!r&&zC.isPair(n)?zC.isScalar(n.key)?n.key.value:n.key:n}set(e,r){if(typeof r!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof r}`);let n=WC.findPair(this.items,e);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new GC.Pair(e))}toJSON(e,r){return super.toJSON(e,r,Set)}toString(e,r,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}};Ta.tag="tag:yaml.org,2002:set";var bme={collection:"map",identify:t=>t instanceof Set,nodeClass:Ta,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(zC.isMap(t)){if(t.hasAllNullValues(!0))return Object.assign(new Ta,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,r){let{replacer:n}=r,i=new Ta(t);if(e&&Symbol.iterator in Object(e))for(let o of e)typeof n=="function"&&(o=n.call(e,o,o)),i.items.push(GC.createPair(o,null,r));return i}};vI.YAMLSet=Ta;vI.set=bme});var CI=I(KC=>{"use strict";var Eme=jf();function wI(t,e){let r=t[0],n=r==="-"||r==="+"?t.substring(1):t,i=s=>e?BigInt(s):Number(s),o=n.replace(/_/g,"").split(":").reduce((s,a)=>s*i(60)+i(a),i(0));return r==="-"?i(-1)*o:o}function OG(t){let{value:e}=t,r=s=>s;if(typeof e=="bigint")r=s=>BigInt(s);else if(isNaN(e)||!isFinite(e))return Eme.stringifyNumber(t);let n="";e<0&&(n="-",e*=r(-1));let i=r(60),o=[e%i];return e<60?o.unshift(0):(e=(e-o[0])/i,o.unshift(e%i),e>=60&&(e=(e-o[0])/i,o.unshift(e))),n+o.map(s=>s<10?"0"+String(s):String(s)).join(":").replace(/000000\d*$/,"")}var _me={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:r})=>wI(t,r),stringify:OG},Sme={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>wI(t,!1),stringify:OG},NG={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){let e=t.match(NG.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,o,s,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,l=Date.UTC(r,n-1,i,o||0,s||0,a||0,c),u=e[8];if(u&&u!=="Z"){let f=wI(u,!1);Math.abs(f)<30&&(f*=60),l-=6e4*f}return new Date(l)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};KC.floatTime=Sme;KC.intTime=_me;KC.timestamp=NG});var MG=I(FG=>{"use strict";var xme=Mf(),Pme=LC(),kme=qf(),Ime=em(),Tme=lI(),LG=TG(),bI=AG(),YC=RG(),Ame=pI(),Dme=BC(),Rme=yI(),EI=CI(),Ome=[xme.map,kme.seq,Ime.string,Pme.nullTag,LG.trueTag,LG.falseTag,YC.intBin,YC.intOct,YC.int,YC.intHex,bI.floatNaN,bI.floatExp,bI.float,Tme.binary,Ame.omap,Dme.pairs,Rme.set,EI.intTime,EI.floatTime,EI.timestamp];FG.schema=Ome});var WG=I(xI=>{"use strict";var qG=Mf(),Nme=LC(),jG=qf(),Lme=em(),Fme=tI(),_I=nI(),SI=oI(),Mme=gG(),qme=wG(),$G=lI(),UG=pI(),BG=BC(),HG=MG(),VG=yI(),JC=CI(),zG=new Map([["core",Mme.schema],["failsafe",[qG.map,jG.seq,Lme.string]],["json",qme.schema],["yaml11",HG.schema],["yaml-1.1",HG.schema]]),GG={binary:$G.binary,bool:Fme.boolTag,float:_I.float,floatExp:_I.floatExp,floatNaN:_I.floatNaN,floatTime:JC.floatTime,int:SI.int,intHex:SI.intHex,intOct:SI.intOct,intTime:JC.intTime,map:qG.map,null:Nme.nullTag,omap:UG.omap,pairs:BG.pairs,seq:jG.seq,set:VG.set,timestamp:JC.timestamp},jme={"tag:yaml.org,2002:binary":$G.binary,"tag:yaml.org,2002:omap":UG.omap,"tag:yaml.org,2002:pairs":BG.pairs,"tag:yaml.org,2002:set":VG.set,"tag:yaml.org,2002:timestamp":JC.timestamp};function $me(t,e){let r=zG.get(e);if(!r)if(Array.isArray(t))r=[];else{let n=Array.from(zG.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${n} or define customTags array`)}if(Array.isArray(t))for(let n of t)r=r.concat(n);else typeof t=="function"&&(r=t(r.slice()));return r.map(n=>{if(typeof n!="string")return n;let i=GG[n];if(i)return i;let o=Object.keys(GG).map(s=>JSON.stringify(s)).join(", ");throw new Error(`Unknown custom tag "${n}"; use one of ${o}`)})}xI.coreKnownTags=jme;xI.getTags=$me});var kI=I(KG=>{"use strict";var PI=bt(),Ume=Mf(),Bme=qf(),Hme=em(),QC=WG(),Vme=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0,XC=class{constructor({compat:e,customTags:r,merge:n,resolveKnownTags:i,schema:o,sortMapEntries:s,toStringDefaults:a}){this.compat=Array.isArray(e)?QC.getTags(e,"compat"):e?QC.getTags(null,e):null,this.merge=!!n,this.name=typeof o=="string"&&o||"core",this.knownTags=i?QC.coreKnownTags:{},this.tags=QC.getTags(r,this.name),this.toStringOptions=a||null,Object.defineProperty(this,PI.MAP,{value:Ume.map}),Object.defineProperty(this,PI.SCALAR,{value:Hme.string}),Object.defineProperty(this,PI.SEQ,{value:Bme.seq}),this.sortMapEntries=s===!0?Vme:s||null}clone(){let e=Object.create(XC.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};KG.Schema=XC});var JG=I(YG=>{"use strict";var zme=bt(),II=Lf(),ZC=zh();function Gme(t,e){let r=[],n=e.directives===!0;if(e.directives!==!1&&t.directives){let l=t.directives.toString(t);l?(r.push(l),n=!0):t.directives.marker&&(n=!0)}n&&r.push("---");let i=II.createStringifyContext(t,e),{commentString:o}=i.options;if(t.commentBefore){r.length!==1&&r.unshift("");let l=o(t.commentBefore);r.unshift(ZC.indentComment(l,""))}let s=!1,a=null;if(t.contents){if(zme.isNode(t.contents)){if(t.contents.spaceBefore&&n&&r.push(""),t.contents.commentBefore){let f=o(t.contents.commentBefore);r.push(ZC.indentComment(f,""))}i.forceBlockIndent=!!t.comment,a=t.contents.comment}let l=a?void 0:()=>s=!0,u=II.stringify(t.contents,i,()=>a=null,l);a&&(u+=ZC.lineComment(u,"",o(a))),(u[0]==="|"||u[0]===">")&&r[r.length-1]==="---"?r[r.length-1]=`--- ${u}`:r.push(u)}else r.push(II.stringify(t.contents,i));let c=t.comment;return c&&s&&(c=c.replace(/^\n+/,"")),c&&((!s||a)&&r[r.length-1]!==""&&r.push(""),r.push(ZC.indentComment(o(c),""))),r.join(`
`)+`
`}YG.stringifyDocument=Gme});var XG=I(QG=>{"use strict";function im(t,e,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,o=n.length;i<o;++i){let s=n[i],a=im(t,n,String(i),s);a===void 0?delete n[i]:a!==s&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let o=n.get(i),s=im(t,n,i,o);s===void 0?n.delete(i):s!==o&&n.set(i,s)}else if(n instanceof Set)for(let i of Array.from(n)){let o=im(t,n,i,i);o===void 0?n.delete(i):o!==i&&(n.delete(i),n.add(o))}else for(let[i,o]of Object.entries(n)){let s=im(t,n,i,o);s===void 0?delete n[i]:s!==o&&(n[i]=s)}return t.call(e,r,n)}QG.applyReviver=im});var om=I(ZG=>{"use strict";var Wme=Bh(),$f=Vh(),_i=bt(),Kme=Es(),Yme=Nf(),Jme=DC(),Qme=kI(),Xme=Lf(),Zme=JG(),TI=EC(),ege=XG(),tge=Hh(),AI=jk(),e0=class{constructor(e,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,_i.NODE_TYPE,{value:_i.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let o=Object.assign({},Jme.defaultOptions,n);this.options=o;let{version:s}=o;(n==null?void 0:n.directives)?(this.directives=n.directives.atDocument(),this.directives.yaml.explicit&&(s=this.directives.yaml.version)):this.directives=new AI.Directives({version:s}),this.setSchema(s,n),e===void 0?this.contents=null:this.contents=this.createNode(e,i,n)}clone(){let e=Object.create(e0.prototype,{[_i.NODE_TYPE]:{value:_i.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_i.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){Uf(this.contents)&&this.contents.add(e)}addIn(e,r){Uf(this.contents)&&this.contents.addIn(e,r)}createAlias(e,r){if(!e.anchor){let n=TI.anchorNames(this);e.anchor=!r||n.has(r)?TI.findNewAnchor(r||"a",n):r}return new Wme.Alias(e.anchor)}createNode(e,r,n){let i;if(typeof r=="function")e=r.call({"":e},"",e),i=r;else if(Array.isArray(r)){let g=y=>typeof y=="number"||y instanceof String||y instanceof Number,v=r.filter(g).map(String);v.length>0&&(r=r.concat(v)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:o,anchorPrefix:s,flow:a,keepUndefined:c,onTagObj:l,tag:u}=n||{},{onAnchor:f,setAnchors:d,sourceObjects:p}=TI.createNodeAnchors(this,s||"a"),h={aliasDuplicateObjects:o!=null?o:!0,keepUndefined:c!=null?c:!1,onAnchor:f,onTagObj:l,replacer:i,schema:this.schema,sourceObjects:p},m=tge.createNode(e,u,h);return a&&_i.isCollection(m)&&(m.flow=!0),d(),m}createPair(e,r,n={}){let i=this.createNode(e,null,n),o=this.createNode(r,null,n);return new Kme.Pair(i,o)}delete(e){return Uf(this.contents)?this.contents.delete(e):!1}deleteIn(e){return $f.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):Uf(this.contents)?this.contents.deleteIn(e):!1}get(e,r){return _i.isCollection(this.contents)?this.contents.get(e,r):void 0}getIn(e,r){return $f.isEmptyPath(e)?!r&&_i.isScalar(this.contents)?this.contents.value:this.contents:_i.isCollection(this.contents)?this.contents.getIn(e,r):void 0}has(e){return _i.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return $f.isEmptyPath(e)?this.contents!==void 0:_i.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,r){this.contents==null?this.contents=$f.collectionFromPath(this.schema,[e],r):Uf(this.contents)&&this.contents.set(e,r)}setIn(e,r){$f.isEmptyPath(e)?this.contents=r:this.contents==null?this.contents=$f.collectionFromPath(this.schema,Array.from(e),r):Uf(this.contents)&&this.contents.setIn(e,r)}setSchema(e,r={}){typeof e=="number"&&(e=String(e));let n;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new AI.Directives({version:"1.1"}),n={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":this.directives?this.directives.yaml.version="1.2":this.directives=new AI.Directives({version:"1.2"}),n={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new Qme.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:o,reviver:s}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:Xme.stringify},c=Yme.toJS(this.contents,r||"",a);if(typeof o=="function")for(let{count:l,res:u}of a.anchors.values())o(u,l);return typeof s=="function"?ege.applyReviver(s,{"":c},"",c):c}toJSON(e,r){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:r})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let r=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${r}`)}return Zme.stringifyDocument(this,e)}};function Uf(t){if(_i.isCollection(t))return!0;throw new Error("Expected a YAML collection as document contents")}ZG.Document=e0});var am=I(sm=>{"use strict";var t0=class extends Error{constructor(e,r,n,i){super();this.name=e,this.code=n,this.message=i,this.pos=r}},eW=class extends t0{constructor(e,r,n){super("YAMLParseError",e,r,n)}},tW=class extends t0{constructor(e,r,n){super("YAMLWarning",e,r,n)}},rge=(t,e)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>e.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=` at line ${n}, column ${i}`;let o=i-1,s=t.substring(e.lineStarts[n-1],e.lineStarts[n]).replace(/[\n\r]+$/,"");if(o>=60&&s.length>80){let a=Math.min(o-39,s.length-79);s="\u2026"+s.substring(a),o-=a-1}if(s.length>80&&(s=s.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(s.substring(0,o))){let a=t.substring(e.lineStarts[n-2],e.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),s=a+s}if(/[^ ]/.test(s)){let a=1,c=r.linePos[1];c&&c.line===n&&c.col>i&&(a=Math.min(c.col-i,80-o));let l=" ".repeat(o)+"^".repeat(a);r.message+=`:

${s}
${l}
`}};sm.YAMLError=t0;sm.YAMLParseError=eW;sm.YAMLWarning=tW;sm.prettifyError=rge});var cm=I(rW=>{"use strict";function nge(t,{flow:e,indicator:r,next:n,offset:i,onError:o,startOnNewline:s}){let a=!1,c=s,l=s,u="",f="",d=!1,p=!1,h=null,m=null,g=null,v=null,y=null;for(let _ of t)switch(p&&(_.type!=="space"&&_.type!=="newline"&&_.type!=="comma"&&o(_.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),p=!1),_.type){case"space":!e&&c&&r!=="doc-start"&&_.source[0]==="	"&&o(_,"TAB_AS_INDENT","Tabs are not allowed as indentation"),l=!0;break;case"comment":{l||o(_,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let P=_.source.substring(1)||" ";u?u+=f+P:u=P,f="",c=!1;break}case"newline":c?u?u+=_.source:a=!0:f+=_.source,c=!0,d=!0,l=!0;break;case"anchor":h&&o(_,"MULTIPLE_ANCHORS","A node can have at most one anchor"),h=_,y===null&&(y=_.offset),c=!1,l=!1,p=!0;break;case"tag":{m&&o(_,"MULTIPLE_TAGS","A node can have at most one tag"),m=_,y===null&&(y=_.offset),c=!1,l=!1,p=!0;break}case r:(h||m)&&o(_,"BAD_PROP_ORDER",`Anchors and tags must be after the ${_.source} indicator`),v&&o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.source} in ${e||"collection"}`),v=_,c=!1,l=!1;break;case"comma":if(e){g&&o(_,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),g=_,c=!1,l=!1;break}default:o(_,"UNEXPECTED_TOKEN",`Unexpected ${_.type} token`),c=!1,l=!1}let C=t[t.length-1],b=C?C.offset+C.source.length:i;return p&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&o(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:g,found:v,spaceBefore:a,comment:u,hasNewline:d,anchor:h,tag:m,end:b,start:y!=null?y:b}}rW.resolveProps=nge});var r0=I(nW=>{"use strict";function DI(t){if(!t)return null;switch(t.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(t.source.includes(`
`))return!0;if(t.end){for(let e of t.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of t.items){for(let r of e.start)if(r.type==="newline")return!0;if(e.sep){for(let r of e.sep)if(r.type==="newline")return!0}if(DI(e.key)||DI(e.value))return!0}return!1;default:return!0}}nW.containsNewline=DI});var RI=I(iW=>{"use strict";var ige=r0();function oge(t,e,r){if((e==null?void 0:e.type)==="flow-collection"){let n=e.end[0];n.indent===t&&(n.source==="]"||n.source==="}")&&ige.containsNewline(e)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}iW.flowIndentCheck=oge});var OI=I(sW=>{"use strict";var oW=bt();function sge(t,e,r){let{uniqueKeys:n}=t.options;if(n===!1)return!1;let i=typeof n=="function"?n:(o,s)=>o===s||oW.isScalar(o)&&oW.isScalar(s)&&o.value===s.value&&!(o.value==="<<"&&t.schema.merge);return e.some(o=>i(o.key,r))}sW.mapIncludes=sge});var dW=I(fW=>{"use strict";var aW=Es(),age=wl(),cW=cm(),cge=r0(),lW=RI(),lge=OI(),uW="All mapping items must start at the same column";function uge({composeNode:t,composeEmptyNode:e},r,n,i){var o;let s=new age.YAMLMap(r.schema);r.atRoot&&(r.atRoot=!1);let a=n.offset;for(let c of n.items){let{start:l,key:u,sep:f,value:d}=c,p=cW.resolveProps(l,{indicator:"explicit-key-ind",next:u||(f==null?void 0:f[0]),offset:a,onError:i,startOnNewline:!0}),h=!p.found;if(h){if(u&&(u.type==="block-seq"?i(a,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in u&&u.indent!==n.indent&&i(a,"BAD_INDENT",uW)),!p.anchor&&!p.tag&&!f){p.comment&&(s.comment?s.comment+=`
`+p.comment:s.comment=p.comment);continue}}else((o=p.found)===null||o===void 0?void 0:o.indent)!==n.indent&&i(a,"BAD_INDENT",uW);h&&cge.containsNewline(u)&&i(u,"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");let m=p.end,g=u?t(r,u,p,i):e(r,m,l,null,p,i);r.schema.compat&&lW.flowIndentCheck(n.indent,u,i),lge.mapIncludes(r,s.items,g)&&i(m,"DUPLICATE_KEY","Map keys must be unique");let v=cW.resolveProps(f||[],{indicator:"map-value-ind",next:d,offset:g.range[2],onError:i,startOnNewline:!u||u.type==="block-scalar"});if(a=v.end,v.found){h&&((d==null?void 0:d.type)==="block-map"&&!v.hasNewline&&i(a,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&p.start<v.found.offset-1024&&i(g.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let y=d?t(r,d,v,i):e(r,a,f,null,v,i);r.schema.compat&&lW.flowIndentCheck(n.indent,d,i),a=y.range[2];let C=new aW.Pair(g,y);r.options.keepSourceTokens&&(C.srcToken=c),s.items.push(C)}else{h&&i(g.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),v.comment&&(g.comment?g.comment+=`
`+v.comment:g.comment=v.comment);let y=new aW.Pair(g);r.options.keepSourceTokens&&(y.srcToken=c),s.items.push(y)}}return s.range=[n.offset,a,a],s}fW.resolveBlockMap=uge});var hW=I(pW=>{"use strict";var fge=Cl(),dge=cm(),pge=RI();function hge({composeNode:t,composeEmptyNode:e},r,n,i){let o=new fge.YAMLSeq(r.schema);r.atRoot&&(r.atRoot=!1);let s=n.offset;for(let{start:a,value:c}of n.items){let l=dge.resolveProps(a,{indicator:"seq-item-ind",next:c,offset:s,onError:i,startOnNewline:!0});if(s=l.end,!l.found)if(l.anchor||l.tag||c)c&&c.type==="block-seq"?i(s,"BAD_INDENT","All sequence items must start at the same column"):i(s,"MISSING_CHAR","Sequence item without - indicator");else{l.comment&&(o.comment=l.comment);continue}let u=c?t(r,c,l,i):e(r,s,a,null,l,i);r.schema.compat&&pge.flowIndentCheck(n.indent,c,i),s=u.range[2],o.items.push(u)}return o.range=[n.offset,s,s],o}pW.resolveBlockSeq=hge});var Bf=I(mW=>{"use strict";function mge(t,e,r,n){let i="";if(t){let o=!1,s="";for(let a of t){let{source:c,type:l}=a;switch(l){case"space":o=!0;break;case"comment":{r&&!o&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let u=c.substring(1)||" ";i?i+=s+u:i=u,s="";break}case"newline":i&&(s+=c),o=!0;break;default:n(a,"UNEXPECTED_TOKEN",`Unexpected ${l} at node end`)}e+=c.length}}return{comment:i,offset:e}}mW.resolveEnd=mge});var wW=I(yW=>{"use strict";var gge=bt(),vge=Es(),gW=wl(),yge=Cl(),wge=Bf(),vW=cm(),Cge=r0(),bge=OI(),NI="Block collections are not allowed within flow collections",LI=t=>t&&(t.type==="block-map"||t.type==="block-seq");function Ege({composeNode:t,composeEmptyNode:e},r,n,i){let o=n.start.source==="{",s=o?"flow map":"flow sequence",a=o?new gW.YAMLMap(r.schema):new yge.YAMLSeq(r.schema);a.flow=!0;let c=r.atRoot;c&&(r.atRoot=!1);let l=n.offset+n.start.source.length;for(let h=0;h<n.items.length;++h){let m=n.items[h],{start:g,key:v,sep:y,value:C}=m,b=vW.resolveProps(g,{flow:s,indicator:"explicit-key-ind",next:v||(y==null?void 0:y[0]),offset:l,onError:i,startOnNewline:!1});if(!b.found){if(!b.anchor&&!b.tag&&!y&&!C){h===0&&b.comma?i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`):h<n.items.length-1&&i(b.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${s}`),b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment),l=b.end;continue}!o&&r.options.strict&&Cge.containsNewline(v)&&i(v,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(h===0)b.comma&&i(b.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${s}`);else if(b.comma||i(b.start,"MISSING_CHAR",`Missing , between ${s} items`),b.comment){let _="";e:for(let P of g)switch(P.type){case"comma":case"space":break;case"comment":_=P.source.substring(1);break e;default:break e}if(_){let P=a.items[a.items.length-1];gge.isPair(P)&&(P=P.value||P.key),P.comment?P.comment+=`
`+_:P.comment=_,b.comment=b.comment.substring(_.length+1)}}if(!o&&!y&&!b.found){let _=C?t(r,C,b,i):e(r,b.end,y,null,b,i);a.items.push(_),l=_.range[2],LI(C)&&i(_.range,"BLOCK_IN_FLOW",NI)}else{let _=b.end,P=v?t(r,v,b,i):e(r,_,g,null,b,i);LI(v)&&i(P.range,"BLOCK_IN_FLOW",NI);let S=vW.resolveProps(y||[],{flow:s,indicator:"map-value-ind",next:C,offset:P.range[2],onError:i,startOnNewline:!1});if(S.found){if(!o&&!b.found&&r.options.strict){if(y)for(let A of y){if(A===S.found)break;if(A.type==="newline"){i(A,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}b.start<S.found.offset-1024&&i(S.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else C&&("source"in C&&C.source&&C.source[0]===":"?i(C,"MISSING_CHAR",`Missing space after : in ${s}`):i(S.start,"MISSING_CHAR",`Missing , or : between ${s} items`));let x=C?t(r,C,S,i):S.found?e(r,S.end,y,null,S,i):null;x?LI(C)&&i(x.range,"BLOCK_IN_FLOW",NI):S.comment&&(P.comment?P.comment+=`
`+S.comment:P.comment=S.comment);let T=new vge.Pair(P,x);if(r.options.keepSourceTokens&&(T.srcToken=m),o){let A=a;bge.mapIncludes(r,A.items,P)&&i(_,"DUPLICATE_KEY","Map keys must be unique"),A.items.push(T)}else{let A=new gW.YAMLMap(r.schema);A.flow=!0,A.items.push(T),a.items.push(A)}l=x?x.range[2]:S.end}}let u=o?"}":"]",[f,...d]=n.end,p=l;if(f&&f.source===u)p=f.offset+f.source.length;else{let h=s[0].toUpperCase()+s.substring(1),m=c?`${h} must end with a ${u}`:`${h} in block collection must be sufficiently indented and end with a ${u}`;i(l,c?"MISSING_CHAR":"BAD_INDENT",m),f&&f.source.length!==1&&d.unshift(f)}if(d.length>0){let h=wge.resolveEnd(d,p,r.options.strict,i);h.comment&&(a.comment?a.comment+=`
`+h.comment:a.comment=h.comment),a.range=[n.offset,p,h.offset]}else a.range=[n.offset,p,p];return a}yW.resolveFlowCollection=Ege});var EW=I(bW=>{"use strict";var CW=bt(),_ge=ur(),Sge=dW(),xge=hW(),Pge=wW();function kge(t,e,r,n,i){let o;switch(r.type){case"block-map":{o=Sge.resolveBlockMap(t,e,r,i);break}case"block-seq":{o=xge.resolveBlockSeq(t,e,r,i);break}case"flow-collection":{o=Pge.resolveFlowCollection(t,e,r,i);break}}if(!n)return o;let s=e.directives.tagName(n.source,d=>i(n,"TAG_RESOLVE_FAILED",d));if(!s)return o;let a=o.constructor;if(s==="!"||s===a.tagName)return o.tag=a.tagName,o;let c=CW.isMap(o)?"map":"seq",l=e.schema.tags.find(d=>d.collection===c&&d.tag===s);if(!l){let d=e.schema.knownTags[s];if(d&&d.collection===c)e.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${s}`,!0),o.tag=s,o}let u=l.resolve(o,d=>i(n,"TAG_RESOLVE_FAILED",d),e.options),f=CW.isNode(u)?u:new _ge.Scalar(u);return f.range=o.range,f.tag=s,(l==null?void 0:l.format)&&(f.format=l.format),f}bW.composeCollection=kge});var MI=I(_W=>{"use strict";var FI=ur();function Ige(t,e,r){let n=t.offset,i=Tge(t,e,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let o=i.mode===">"?FI.Scalar.BLOCK_FOLDED:FI.Scalar.BLOCK_LITERAL,s=t.source?Age(t.source):[],a=s.length;for(let m=s.length-1;m>=0;--m){let g=s[m][1];if(g===""||g==="\r")a=m;else break}if(!t.source||a===0){let m=i.chomp==="+"?`
`.repeat(Math.max(0,s.length-1)):"",g=n+i.length;return t.source&&(g+=t.source.length),{value:m,type:o,comment:i.comment,range:[n,g,g]}}let c=t.indent+i.indent,l=t.offset+i.length,u=0;for(let m=0;m<a;++m){let[g,v]=s[m];if(v===""||v==="\r")i.indent===0&&g.length>c&&(c=g.length);else{if(g.length<c){let y="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";r(l+g.length,"MISSING_CHAR",y)}i.indent===0&&(c=g.length),u=m;break}l+=g.length+v.length+1}let f="",d="",p=!1;for(let m=0;m<u;++m)f+=s[m][0].slice(c)+`
`;for(let m=u;m<a;++m){let[g,v]=s[m];l+=g.length+v.length+1;let y=v[v.length-1]==="\r";if(y&&(v=v.slice(0,-1)),v&&g.length<c){let b=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;r(l-v.length-(y?2:1),"BAD_INDENT",b),g=""}o===FI.Scalar.BLOCK_LITERAL?(f+=d+g.slice(c)+v,d=`
`):g.length>c||v[0]==="	"?(d===" "?d=`
`:!p&&d===`
`&&(d=`

`),f+=d+g.slice(c)+v,d=`
`,p=!0):v===""?d===`
`?f+=`
`:d=`
`:(f+=d+v,d=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let m=a;m<s.length;++m)f+=`
`+s[m][0].slice(c);f[f.length-1]!==`
`&&(f+=`
`);break;default:f+=`
`}let h=n+i.length+t.source.length;return{value:f,type:o,comment:i.comment,range:[n,h,h]}}function Tge({offset:t,props:e},r,n){if(e[0].type!=="block-scalar-header")return n(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],o=i[0],s=0,a="",c=-1;for(let d=1;d<i.length;++d){let p=i[d];if(!a&&(p==="-"||p==="+"))a=p;else{let h=Number(p);!s&&h?s=h:c===-1&&(c=t+d)}}c!==-1&&n(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let l=!1,u="",f=i.length;for(let d=1;d<e.length;++d){let p=e[d];switch(p.type){case"space":l=!0;case"newline":f+=p.source.length;break;case"comment":r&&!l&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),f+=p.source.length,u=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),f+=p.source.length;break;default:{let h=`Unexpected token in block scalar header: ${p.type}`;n(p,"UNEXPECTED_TOKEN",h);let m=p.source;m&&typeof m=="string"&&(f+=m.length)}}}return{mode:o,indent:s,chomp:a,comment:u,length:f}}function Age(t){let e=t.split(/\n( *)/),r=e[0],n=r.match(/^( *)/),o=[n&&n[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let s=1;s<e.length;s+=2)o.push([e[s],e[s+1]]);return o}_W.resolveBlockScalar=Ige});var jI=I(xW=>{"use strict";var qI=ur(),Dge=Bf();function Rge(t,e,r){let{offset:n,type:i,source:o,end:s}=t,a,c,l=(d,p,h)=>r(n+d,p,h);switch(i){case"scalar":a=qI.Scalar.PLAIN,c=Oge(o,l);break;case"single-quoted-scalar":a=qI.Scalar.QUOTE_SINGLE,c=Nge(o,l);break;case"double-quoted-scalar":a=qI.Scalar.QUOTE_DOUBLE,c=Lge(o,l);break;default:return r(t,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[n,n+o.length,n+o.length]}}let u=n+o.length,f=Dge.resolveEnd(s,u,e,r);return{value:c,type:a,comment:f.comment,range:[n,u,f.offset]}}function Oge(t,e){let r="";switch(t[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r=`block scalar indicator ${t[0]}`;break}case"@":case"`":{r=`reserved character ${t[0]}`;break}}return r&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${r}`),SW(t)}function Nge(t,e){return(t[t.length-1]!=="'"||t.length===1)&&e(t.length,"MISSING_CHAR","Missing closing 'quote"),SW(t.slice(1,-1)).replace(/''/g,"'")}function SW(t){let e,r;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),r=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=e.exec(t);if(!n)return t;let i=n[1],o=" ",s=e.lastIndex;for(r.lastIndex=s;n=r.exec(t);)n[1]===""?o===`
`?i+=o:o=`
`:(i+=o+n[1],o=" "),s=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=s,n=a.exec(t),i+o+(n&&n[1]||"")}function Lge(t,e){let r="";for(let n=1;n<t.length-1;++n){let i=t[n];if(!(i==="\r"&&t[n+1]===`
`))if(i===`
`){let{fold:o,offset:s}=Fge(t,n);r+=o,n=s}else if(i==="\\"){let o=t[++n],s=Mge[o];if(s)r+=s;else if(o===`
`)for(o=t[n+1];o===" "||o==="	";)o=t[++n+1];else if(o==="\r"&&t[n+1]===`
`)for(o=t[++n+1];o===" "||o==="	";)o=t[++n+1];else if(o==="x"||o==="u"||o==="U"){let a={x:2,u:4,U:8}[o];r+=qge(t,n+1,a,e),n+=a}else{let a=t.substr(n-1,2);e(n-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),r+=a}}else if(i===" "||i==="	"){let o=n,s=t[n+1];for(;s===" "||s==="	";)s=t[++n+1];s!==`
`&&!(s==="\r"&&t[n+2]===`
`)&&(r+=n>o?t.slice(o,n+1):i)}else r+=i}return(t[t.length-1]!=='"'||t.length===1)&&e(t.length,"MISSING_CHAR",'Missing closing "quote'),r}function Fge(t,e){let r="",n=t[e+1];for(;(n===" "||n==="	"||n===`
`||n==="\r")&&!(n==="\r"&&t[e+2]!==`
`);)n===`
`&&(r+=`
`),e+=1,n=t[e+1];return r||(r=" "),{fold:r,offset:e}}var Mge={"0":"\0",a:"\x07",b:"\b",e:"",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function qge(t,e,r,n){let i=t.substr(e,r),s=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(s)){let a=t.substr(e-2,r+2);return n(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(s)}xW.resolveFlowScalar=Rge});var IW=I(kW=>{"use strict";var Hf=bt(),PW=ur(),jge=MI(),$ge=jI();function Uge(t,e,r,n){let{value:i,type:o,comment:s,range:a}=e.type==="block-scalar"?jge.resolveBlockScalar(e,t.options.strict,n):$ge.resolveFlowScalar(e,t.options.strict,n),c=r?t.directives.tagName(r.source,f=>n(r,"TAG_RESOLVE_FAILED",f)):null,l=r&&c?Bge(t.schema,i,c,r,n):e.type==="scalar"?Hge(t,i,e,n):t.schema[Hf.SCALAR],u;try{let f=l.resolve(i,d=>n(r||e,"TAG_RESOLVE_FAILED",d),t.options);u=Hf.isScalar(f)?f:new PW.Scalar(f)}catch(f){let d=f instanceof Error?f.message:String(f);n(r||e,"TAG_RESOLVE_FAILED",d),u=new PW.Scalar(i)}return u.range=a,u.source=i,o&&(u.type=o),c&&(u.tag=c),l.format&&(u.format=l.format),s&&(u.comment=s),u}function Bge(t,e,r,n,i){var o;if(r==="!")return t[Hf.SCALAR];let s=[];for(let c of t.tags)if(!c.collection&&c.tag===r)if(c.default&&c.test)s.push(c);else return c;for(let c of s)if((o=c.test)===null||o===void 0?void 0:o.test(e))return c;let a=t.knownTags[r];return a&&!a.collection?(t.tags.push(Object.assign({},a,{default:!1,test:void 0})),a):(i(n,"TAG_RESOLVE_FAILED",`Unresolved tag: ${r}`,r!=="tag:yaml.org,2002:str"),t[Hf.SCALAR])}function Hge({directives:t,schema:e},r,n,i){let o=e.tags.find(s=>{var a;return s.default&&((a=s.test)===null||a===void 0?void 0:a.test(r))})||e[Hf.SCALAR];if(e.compat){let s=e.compat.find(a=>{var c;return a.default&&((c=a.test)===null||c===void 0?void 0:c.test(r))})||e[Hf.SCALAR];if(o.tag!==s.tag){let a=t.tagString(o.tag),c=t.tagString(s.tag),l=`Value may be parsed as either ${a} or ${c}`;i(n,"TAG_RESOLVE_FAILED",l,!0)}}return o}kW.composeScalar=Uge});var AW=I(TW=>{"use strict";function Vge(t,e,r){if(e){r===null&&(r=e.length);for(let n=r-1;n>=0;--n){let i=e[n];switch(i.type){case"space":case"comment":case"newline":t-=i.source.length;continue}for(i=e[++n];(i==null?void 0:i.type)==="space";)t+=i.source.length,i=e[++n];break}}return t}TW.emptyScalarPosition=Vge});var NW=I($I=>{"use strict";var zge=Bh(),Gge=EW(),DW=IW(),Wge=Bf(),Kge=AW(),Yge={composeNode:RW,composeEmptyNode:OW};function RW(t,e,r,n){let{spaceBefore:i,comment:o,anchor:s,tag:a}=r,c;switch(e.type){case"alias":c=Jge(t,e,n),(s||a)&&n(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=DW.composeScalar(t,e,a,n),s&&(c.anchor=s.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=Gge.composeCollection(Yge,t,e,a,n),s&&(c.anchor=s.source.substring(1));break;default:throw console.log(e),new Error(`Unsupporten token type: ${e.type}`)}return s&&c.anchor===""&&n(s,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),o&&(e.type==="scalar"&&e.source===""?c.comment=o:c.commentBefore=o),t.options.keepSourceTokens&&(c.srcToken=e),c}function OW(t,e,r,n,{spaceBefore:i,comment:o,anchor:s,tag:a},c){let l={type:"scalar",offset:Kge.emptyScalarPosition(e,r,n),indent:-1,source:""},u=DW.composeScalar(t,l,a,c);return s&&(u.anchor=s.source.substring(1),u.anchor===""&&c(s,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),o&&(u.comment=o),u}function Jge({options:t},{offset:e,source:r,end:n},i){let o=new zge.Alias(r.substring(1));o.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string");let s=e+r.length,a=Wge.resolveEnd(n,s,t.strict,i);return o.range=[e,s,a.offset],a.comment&&(o.comment=a.comment),o}$I.composeEmptyNode=OW;$I.composeNode=RW});var MW=I(FW=>{"use strict";var Qge=om(),LW=NW(),Xge=Bf(),Zge=cm();function eve(t,e,{offset:r,start:n,value:i,end:o},s){let a=Object.assign({directives:e},t),c=new Qge.Document(void 0,a),l={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},u=Zge.resolveProps(n,{indicator:"doc-start",next:i||(o==null?void 0:o[0]),offset:r,onError:s,startOnNewline:!0});u.found&&(c.directives.marker=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!u.hasNewline&&s(u.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?LW.composeNode(l,i,u,s):LW.composeEmptyNode(l,u.end,n,null,u,s);let f=c.contents.range[2],d=Xge.resolveEnd(o,f,!1,s);return d.comment&&(c.comment=d.comment),c.range=[r,f,d.offset],c}FW.composeDoc=eve});var UI=I(UW=>{"use strict";var tve=jk(),rve=om(),lm=am(),qW=bt(),nve=DC(),ive=MW(),ove=Bf();function um(t){if(typeof t=="number")return[t,t+1];if(Array.isArray(t))return t.length===2?t:[t[0],t[1]];let{offset:e,source:r}=t;return[e,e+(typeof r=="string"?r.length:1)]}function jW(t){var e;let r="",n=!1,i=!1;for(let o=0;o<t.length;++o){let s=t[o];switch(s[0]){case"#":r+=(r===""?"":i?`

`:`
`)+(s.substring(1)||" "),n=!0,i=!1;break;case"%":((e=t[o+1])===null||e===void 0?void 0:e[0])!=="#"&&(o+=1),n=!1;break;default:n||(i=!0),n=!1}}return{comment:r,afterEmptyLine:i}}var $W=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,o)=>{let s=um(r);o?this.warnings.push(new lm.YAMLWarning(s,n,i)):this.errors.push(new lm.YAMLParseError(s,n,i))},this.directives=new tve.Directives({version:e.version||nve.defaultOptions.version}),this.options=e}decorate(e,r){let{comment:n,afterEmptyLine:i}=jW(this.prelude);if(n){let o=e.contents;if(r)e.comment=e.comment?`${e.comment}
${n}`:n;else if(i||e.directives.marker||!o)e.commentBefore=n;else if(qW.isCollection(o)&&!o.flow&&o.items.length>0){let s=o.items[0];qW.isPair(s)&&(s=s.key);let a=s.commentBefore;s.commentBefore=a?`${n}
${a}`:n}else{let s=o.commentBefore;o.commentBefore=s?`${n}
${s}`:n}}r?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:jW(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,r=!1,n=-1){for(let i of e)yield*this.next(i);yield*this.end(r,n)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(r,n,i)=>{let o=um(e);o[0]+=r,this.onError(o,"BAD_DIRECTIVE",n,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let r=ive.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!r.directives.marker&&this.onError(e,"MISSING_CHAR","Missing directives-end indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let r=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,n=new lm.YAMLParseError(um(e),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new lm.YAMLParseError(um(e),"UNEXPECTED_TOKEN",n));break}let r=ove.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?`${n}
${r.comment}`:r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new lm.YAMLParseError(um(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let n=Object.assign({directives:this.directives},this.options),i=new rve.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};UW.Composer=$W});var VW=I(n0=>{"use strict";var sve=MI(),ave=jI(),cve=am(),BW=Yh();function lve(t,e=!0,r){if(t){let n=(i,o,s)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,o,s);else throw new cve.YAMLParseError([a,a+1],o,s)};switch(t.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ave.resolveFlowScalar(t,e,n);case"block-scalar":return sve.resolveBlockScalar(t,e,n)}}return null}function uve(t,e){var r;let{implicitKey:n=!1,indent:i,inFlow:o=!1,offset:s=-1,type:a="PLAIN"}=e,c=BW.stringifyString({type:a,value:t},{implicitKey:n,indent:i>0?" ".repeat(i):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}}),l=(r=e.end)!==null&&r!==void 0?r:[{type:"newline",offset:-1,indent:i,source:`
`}];switch(c[0]){case"|":case">":{let u=c.indexOf(`
`),f=c.substring(0,u),d=c.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:i,source:f}];return HW(p,l)||p.push({type:"newline",offset:-1,indent:i,source:`
`}),{type:"block-scalar",offset:s,indent:i,props:p,source:d}}case'"':return{type:"double-quoted-scalar",offset:s,indent:i,source:c,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:i,source:c,end:l};default:return{type:"scalar",offset:s,indent:i,source:c,end:l}}}function fve(t,e,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:o=!1,type:s}=r,a="indent"in t?t.indent:null;if(n&&typeof a=="number"&&(a+=2),!s)switch(t.type){case"single-quoted-scalar":s="QUOTE_SINGLE";break;case"double-quoted-scalar":s="QUOTE_DOUBLE";break;case"block-scalar":{let l=t.props[0];if(l.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s=l.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:s="PLAIN"}let c=BW.stringifyString({type:s,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:o,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":dve(t,c);break;case'"':BI(t,c,"double-quoted-scalar");break;case"'":BI(t,c,"single-quoted-scalar");break;default:BI(t,c,"scalar")}}function dve(t,e){let r=e.indexOf(`
`),n=e.substring(0,r),i=e.substring(r+1)+`
`;if(t.type==="block-scalar"){let o=t.props[0];if(o.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o.source=n,t.source=i}else{let{offset:o}=t,s="indent"in t?t.indent:-1,a=[{type:"block-scalar-header",offset:o,indent:s,source:n}];HW(a,"end"in t?t.end:void 0)||a.push({type:"newline",offset:-1,indent:s,source:`
`});for(let c of Object.keys(t))c!=="type"&&c!=="offset"&&delete t[c];Object.assign(t,{type:"block-scalar",indent:s,props:a,source:i})}}function HW(t,e){if(e)for(let r of e)switch(r.type){case"space":case"comment":t.push(r);break;case"newline":return t.push(r),!0}return!1}function BI(t,e,r){switch(t.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":t.type=r,t.source=e;break;case"block-scalar":{let n=t.props.slice(1),i=e.length;t.props[0].type==="block-scalar-header"&&(i-=t.props[0].source.length);for(let o of n)o.offset+=i;delete t.props,Object.assign(t,{type:r,source:e,end:n});break}case"block-map":case"block-seq":{let n=t.offset+e.length,i={type:"newline",offset:n,indent:t.indent,source:`
`};delete t.items,Object.assign(t,{type:r,source:e,end:[i]});break}default:{let n="indent"in t?t.indent:-1,i="end"in t&&Array.isArray(t.end)?t.end.filter(o=>o.type==="space"||o.type==="comment"||o.type==="newline"):[];for(let o of Object.keys(t))o!=="type"&&o!=="offset"&&delete t[o];Object.assign(t,{type:r,indent:n,source:e,end:i})}}}n0.createScalarToken=uve;n0.resolveAsScalar=lve;n0.setScalarValue=fve});var GW=I(zW=>{"use strict";var pve=t=>"type"in t?i0(t):o0(t);function i0(t){switch(t.type){case"block-scalar":{let e="";for(let r of t.props)e+=i0(r);return e+t.source}case"block-map":case"block-seq":{let e="";for(let r of t.items)e+=o0(r);return e}case"flow-collection":{let e=t.start.source;for(let r of t.items)e+=o0(r);for(let r of t.end)e+=r.source;return e}case"document":{let e=o0(t);if(t.end)for(let r of t.end)e+=r.source;return e}default:{let e=t.source;if("end"in t&&t.end)for(let r of t.end)e+=r.source;return e}}}function o0({start:t,key:e,sep:r,value:n}){let i="";for(let o of t)i+=o.source;if(e&&(i+=i0(e)),r)for(let o of r)i+=o.source;return n&&(i+=i0(n)),i}zW.stringify=pve});var JW=I(YW=>{"use strict";var HI=Symbol("break visit"),hve=Symbol("skip children"),WW=Symbol("remove item");function bl(t,e){"type"in t&&t.type==="document"&&(t={start:t.start,value:t.value}),KW(Object.freeze([]),t,e)}bl.BREAK=HI;bl.SKIP=hve;bl.REMOVE=WW;bl.itemAtPath=(t,e)=>{let r=t;for(let[n,i]of e){let o=r&&r[n];if(o&&"items"in o)r=o.items[i];else return}return r};bl.parentCollection=(t,e)=>{let r=bl.itemAtPath(t,e.slice(0,-1)),n=e[e.length-1][0],i=r&&r[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function KW(t,e,r){let n=r(e,t);if(typeof n=="symbol")return n;for(let i of["key","value"]){let o=e[i];if(o&&"items"in o){for(let s=0;s<o.items.length;++s){let a=KW(Object.freeze(t.concat([[i,s]])),o.items[s],r);if(typeof a=="number")s=a-1;else{if(a===HI)return HI;a===WW&&(o.items.splice(s,1),s-=1)}}typeof n=="function"&&i==="key"&&(n=n(e,t))}}return typeof n=="function"?n(e,t):n}YW.visit=bl});var s0=I(_n=>{"use strict";var VI=VW(),mve=GW(),gve=JW(),zI="\uFEFF",GI="",WI="",KI="",vve=t=>!!t&&"items"in t,yve=t=>!!t&&(t.type==="scalar"||t.type==="single-quoted-scalar"||t.type==="double-quoted-scalar"||t.type==="block-scalar");function wve(t){switch(t){case zI:return"<BOM>";case GI:return"<DOC>";case WI:return"<FLOW_END>";case KI:return"<SCALAR>";default:return JSON.stringify(t)}}function Cve(t){switch(t){case zI:return"byte-order-mark";case GI:return"doc-mode";case WI:return"flow-error-end";case KI:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(t[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}_n.createScalarToken=VI.createScalarToken;_n.resolveAsScalar=VI.resolveAsScalar;_n.setScalarValue=VI.setScalarValue;_n.stringify=mve.stringify;_n.visit=gve.visit;_n.BOM=zI;_n.DOCUMENT=GI;_n.FLOW_END=WI;_n.SCALAR=KI;_n.isCollection=vve;_n.isScalar=yve;_n.prettyToken=wve;_n.tokenType=Cve});var JI=I(e4=>{"use strict";var fm=s0();function Si(t){switch(t){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var QW="0123456789ABCDEFabcdef".split(""),bve="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),XW=",[]{}".split(""),Eve=` ,[]{}
\r	`.split(""),YI=t=>!t||Eve.includes(t),ZW=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,r=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!r;let n=this.next||"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let e=this.pos,r=this.buffer[e];for(;r===" "||r==="	";)r=this.buffer[++e];return!r||r==="#"||r===`
`?!0:r==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let r=this.buffer[e];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+e];if(r==="\r"){let i=this.buffer[n+e+1];if(i===`
`||!i&&!this.atEnd)return e+n+1}return r===`
`||n>=this.indentNext||!r&&!this.atEnd?e+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(e,3);if((n==="---"||n==="...")&&Si(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===fm.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let r=e.length,n=e.indexOf("#");if(n!==-1){let o=e[n-1];(o===" "||o==="	")&&(r=n-1)}for(;;){let o=e[r-1];if(o===" "||o==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-r),yield*this.pushNewline(),"stream"}return yield fm.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if(r==="---"&&Si(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(r==="..."&&Si(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Si(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Si(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(e[r]){case"#":yield*this.pushCount(e.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(YI),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,r,n=-1;do e=yield*this.pushNewline(),r=yield*this.pushSpaces(!0),e>0&&(this.indentValue=n=r);while(e+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&Si(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield fm.FLOW_END,yield*this.parseLineStart();let o=0;for(;i[o]===",";)o+=yield*this.pushCount(1),o+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(o+=yield*this.pushIndicators(),i[o]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-o),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(YI),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let s=this.charAt(1);if(this.flowKey||Si(s)||s===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),r=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let o=0;for(;this.buffer[r-1-o]==="\\";)o+=1;if(o%2==0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let o=this.continueScalar(i+1);if(o===-1)break;i=n.indexOf(`
`,o)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let r=this.buffer[++e];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>Si(r)||r==="#")}*parseBlockScalar(){let e=this.pos-1,r=0,n;e:for(let i=this.pos;n=this.buffer[i];++i)switch(n){case" ":r+=1;break;case`
`:e=i,r=0;break;case"\r":{let o=this.buffer[i+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,o=this.buffer[i];for(o==="\r"&&(o=this.buffer[--i]);o===" "||o==="	";)o=this.buffer[--i];if(o===`
`&&i>=this.pos)e=i;else break}while(!0);return yield fm.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let o=this.buffer[n+1];if(Si(o)||e&&o===",")break;r=n}else if(Si(i)){let o=this.buffer[n+1];if(i==="\r"&&(o===`
`?(n+=1,i=`
`,o=this.buffer[n+1]):r=n),o==="#"||e&&XW.includes(o))break;if(i===`
`){let s=this.continueScalar(n+1);if(s===-1)break;n=Math.max(n,s-2)}}else{if(e&&XW.includes(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield fm.SCALAR,yield*this.pushToIndex(r+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,r){let n=this.buffer.slice(this.pos,e);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(YI))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case":":case"?":case"-":if(Si(this.charAt(1)))return this.flowLevel===0?this.indentNext=this.indentValue+1:this.flowKey&&(this.flowKey=!1),(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,r=this.buffer[e];for(;!Si(r)&&r!==">";)r=this.buffer[++e];return yield*this.pushToIndex(r===">"?e+1:e,!1)}else{let e=this.pos+1,r=this.buffer[e];for(;r;)if(bve.includes(r))r=this.buffer[++e];else if(r==="%"&&QW.includes(this.buffer[e+1])&&QW.includes(this.buffer[e+2]))r=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||e&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(e){let r=this.pos,n=this.buffer[r];for(;!e(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};e4.Lexer=ZW});var QI=I(r4=>{"use strict";var t4=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let r=0,n=this.lineStarts.length;for(;r<n;){let o=r+n>>1;this.lineStarts[o]<e?r=o+1:n=o}if(this.lineStarts[r]===e)return{line:r+1,col:1};if(r===0)return{line:0,col:e};let i=this.lineStarts[r-1];return{line:r,col:e-i+1}}}};r4.LineCounter=t4});var ZI=I(a4=>{"use strict";var n4=s0(),_ve=JI();function No(t,e){for(let r=0;r<t.length;++r)if(t[r].type===e)return!0;return!1}function XI(t){for(let e=0;e<t.length;++e)switch(t[e].type){case"space":case"comment":case"newline":break;default:return!0}return!1}function i4(t){switch(t==null?void 0:t.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function a0(t){switch(t.type){case"document":return t.start;case"block-map":{let e=t.items[t.items.length-1];return e.sep||e.start}case"block-seq":return t.items[t.items.length-1].start;default:return[]}}function dm(t){var e;if(t.length===0)return[];let r=t.length;e:for(;--r>=0;)switch(t[r].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((e=t[++r])===null||e===void 0?void 0:e.type)==="space";);return t.splice(r,t.length)}function o4(t){if(t.start.type==="flow-seq-start")for(let e of t.items)e.sep&&!e.value&&!No(e.start,"explicit-key-ind")&&!No(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,i4(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var s4=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new _ve.Lexer,this.onNewLine=e}*parse(e,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(e,r))yield*this.next(n);r||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",n4.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let r=n4.tokenType(e);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let n=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:n,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let r=e||this.stack.pop();if(r)if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&o4(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!No(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&!XI(i.start)&&(r.indent===0||i.start.every(o=>o.type!=="comment"||o.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}else{let n="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:n}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{XI(e.start)?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let r=a0(this.peek(2)),n=dm(r),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let o={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:n,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=o}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){var r;let n=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else if(n.sep)n.sep.push(this.sourceToken);else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let i=!this.onKeyLine&&this.indent===e.indent&&(n.sep||XI(n.start));switch(this.type){case"anchor":case"tag":i||n.value?(e.items.push({start:[this.sourceToken]}),this.onKeyLine=!0):n.sep?n.sep.push(this.sourceToken):n.start.push(this.sourceToken);return;case"explicit-key-ind":!n.sep&&!No(n.start,"explicit-key-ind")?n.start.push(this.sourceToken):i||n.value?e.items.push({start:[this.sourceToken]}):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(!n.sep)Object.assign(n,{key:null,sep:[this.sourceToken]});else if(n.value||i&&!No(n.start,"explicit-key-ind"))e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(No(n.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]});else if(No(n.start,"explicit-key-ind")&&i4(n.key)&&!No(n.sep,"newline")){let o=dm(n.start),s=n.key,a=n.sep;a.push(this.sourceToken),delete n.key,delete n.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:s,sep:a}]})}else n.sep.push(this.sourceToken);this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||n.value?(e.items.push({start:[],key:o,sep:[]}),this.onKeyLine=!0):n.sep?this.stack.push(o):(Object.assign(n,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){i&&o.type!=="block-seq"&&No(n.start,"explicit-key-ind")&&e.items.push({start:[]}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){var r;let n=e.items[e.items.length-1];switch(this.type){case"newline":if(n.value){let i="end"in n.value?n.value.end:void 0,o=Array.isArray(i)?i[i.length-1]:void 0;(o==null?void 0:o.type)==="comment"?i==null||i.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else n.start.push(this.sourceToken);return;case"space":case"comment":if(n.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(n.start,e.indent)){let i=e.items[e.items.length-2],o=(r=i==null?void 0:i.value)===null||r===void 0?void 0:r.end;if(Array.isArray(o)){Array.prototype.push.apply(o,n.start),o.push(this.sourceToken),e.items.pop();return}}n.start.push(this.sourceToken)}return;case"anchor":case"tag":if(n.value||this.indent<=e.indent)break;n.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;n.value||No(n.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):n.start.push(this.sourceToken);return}if(this.indent>e.indent){let i=this.startBlockValue(e);if(i){this.stack.push(i);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let r=e.items[e.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?e.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?e.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?e.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let n=this.startBlockValue(e);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=a0(n),o=dm(i);o4(e);let s=e.end.splice(1,e.end.length);s.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:o,key:e,sep:s}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let r=this.source.indexOf(`
`)+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf(`
`,r)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=a0(e),n=dm(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n}]}}case"map-value-ind":{this.onKeyLine=!0;let r=a0(e),n=dm(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,r){return this.type!=="comment"||this.indent<=r?!1:e.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};a4.Parser=s4});var d4=I(hm=>{"use strict";var c4=UI(),Sve=om(),pm=am(),xve=Wk(),Pve=QI(),l4=ZI();function u4(t){let e=t.prettyErrors!==!1;return{lineCounter:t.lineCounter||e&&new Pve.LineCounter||null,prettyErrors:e}}function kve(t,e={}){let{lineCounter:r,prettyErrors:n}=u4(e),i=new l4.Parser(r==null?void 0:r.addNewLine),o=new c4.Composer(e),s=Array.from(o.compose(i.parse(t)));if(n&&r)for(let a of s)a.errors.forEach(pm.prettifyError(t,r)),a.warnings.forEach(pm.prettifyError(t,r));return s.length>0?s:Object.assign([],{empty:!0},o.streamInfo())}function f4(t,e={}){let{lineCounter:r,prettyErrors:n}=u4(e),i=new l4.Parser(r==null?void 0:r.addNewLine),o=new c4.Composer(e),s=null;for(let a of o.compose(i.parse(t),!0,t.length))if(!s)s=a;else if(s.options.logLevel!=="silent"){s.errors.push(new pm.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(s.errors.forEach(pm.prettifyError(t,r)),s.warnings.forEach(pm.prettifyError(t,r))),s}function Ive(t,e,r){let n;typeof e=="function"?n=e:r===void 0&&e&&typeof e=="object"&&(r=e);let i=f4(t,r);if(!i)return null;if(i.warnings.forEach(o=>xve.warn(i.options.logLevel,o)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function Tve(t,e,r){let n=null;if(typeof e=="function"||Array.isArray(e)?n=e:r===void 0&&e&&(r=e),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(t===void 0){let{keepUndefined:i}=r||e||{};if(!i)return}return new Sve.Document(t,n,r).toString(r)}hm.parse=Ive;hm.parseAllDocuments=kve;hm.parseDocument=f4;hm.stringify=Tve});var tT=I(Et=>{"use strict";var Ave=UI(),Dve=om(),Rve=kI(),eT=am(),Ove=Bh(),Aa=bt(),Nve=Es(),Lve=ur(),Fve=wl(),Mve=Cl(),qve=DC(),jve=s0(),$ve=JI(),Uve=QI(),Bve=ZI(),c0=d4(),Hve=jh();Et.Composer=Ave.Composer;Et.Document=Dve.Document;Et.Schema=Rve.Schema;Et.YAMLError=eT.YAMLError;Et.YAMLParseError=eT.YAMLParseError;Et.YAMLWarning=eT.YAMLWarning;Et.Alias=Ove.Alias;Et.isAlias=Aa.isAlias;Et.isCollection=Aa.isCollection;Et.isDocument=Aa.isDocument;Et.isMap=Aa.isMap;Et.isNode=Aa.isNode;Et.isPair=Aa.isPair;Et.isScalar=Aa.isScalar;Et.isSeq=Aa.isSeq;Et.Pair=Nve.Pair;Et.Scalar=Lve.Scalar;Et.YAMLMap=Fve.YAMLMap;Et.YAMLSeq=Mve.YAMLSeq;Et.defaultOptions=qve.defaultOptions;Et.CST=jve;Et.Lexer=$ve.Lexer;Et.LineCounter=Uve.LineCounter;Et.Parser=Bve.Parser;Et.parse=c0.parse;Et.parseAllDocuments=c0.parseAllDocuments;Et.parseDocument=c0.parseDocument;Et.stringify=c0.stringify;Et.visit=Hve.visit});var p4=I((yqe,Vve)=>{Vve.exports={Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",amp:"&",AMP:"&",andand:"\u2A55",And:"\u2A53",and:"\u2227",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angmsd:"\u2221",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",apacir:"\u2A6F",ap:"\u2248",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",barwed:"\u2305",Barwed:"\u2306",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",because:"\u2235",Because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxdl:"\u2510",boxdL:"\u2555",boxDl:"\u2556",boxDL:"\u2557",boxdr:"\u250C",boxdR:"\u2552",boxDr:"\u2553",boxDR:"\u2554",boxh:"\u2500",boxH:"\u2550",boxhd:"\u252C",boxHd:"\u2564",boxhD:"\u2565",boxHD:"\u2566",boxhu:"\u2534",boxHu:"\u2567",boxhU:"\u2568",boxHU:"\u2569",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxul:"\u2518",boxuL:"\u255B",boxUl:"\u255C",boxUL:"\u255D",boxur:"\u2514",boxuR:"\u2558",boxUr:"\u2559",boxUR:"\u255A",boxv:"\u2502",boxV:"\u2551",boxvh:"\u253C",boxvH:"\u256A",boxVh:"\u256B",boxVH:"\u256C",boxvl:"\u2524",boxvL:"\u2561",boxVl:"\u2562",boxVL:"\u2563",boxvr:"\u251C",boxvR:"\u255E",boxVr:"\u255F",boxVR:"\u2560",bprime:"\u2035",breve:"\u02D8",Breve:"\u02D8",brvbar:"\xA6",bscr:"\u{1D4B7}",Bscr:"\u212C",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsolb:"\u29C5",bsol:"\\",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",cap:"\u2229",Cap:"\u22D2",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",centerdot:"\xB7",CenterDot:"\xB7",cfr:"\u{1D520}",Cfr:"\u212D",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cir:"\u25CB",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",colon:":",Colon:"\u2237",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",conint:"\u222E",Conint:"\u222F",ContourIntegral:"\u222E",copf:"\u{1D554}",Copf:"\u2102",coprod:"\u2210",Coproduct:"\u2210",copy:"\xA9",COPY:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",cross:"\u2717",Cross:"\u2A2F",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",cupbrcap:"\u2A48",cupcap:"\u2A46",CupCap:"\u224D",cup:"\u222A",Cup:"\u22D3",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",dagger:"\u2020",Dagger:"\u2021",daleth:"\u2138",darr:"\u2193",Darr:"\u21A1",dArr:"\u21D3",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",ddagger:"\u2021",ddarr:"\u21CA",DD:"\u2145",dd:"\u2146",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",diamond:"\u22C4",Diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrowBar:"\u2913",downarrow:"\u2193",DownArrow:"\u2193",Downarrow:"\u21D3",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVectorBar:"\u2956",DownLeftVector:"\u21BD",DownRightTeeVector:"\u295F",DownRightVectorBar:"\u2957",DownRightVector:"\u21C1",DownTeeArrow:"\u21A7",DownTee:"\u22A4",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",Ecirc:"\xCA",ecirc:"\xEA",ecir:"\u2256",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",edot:"\u0117",eDot:"\u2251",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",escr:"\u212F",Escr:"\u2130",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",exponentiale:"\u2147",ExponentialE:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",forall:"\u2200",ForAll:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",fscr:"\u{1D4BB}",Fscr:"\u2131",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",ge:"\u2265",gE:"\u2267",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",gescc:"\u2AA9",ges:"\u2A7E",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",gg:"\u226B",Gg:"\u22D9",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gla:"\u2AA5",gl:"\u2277",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gnE:"\u2269",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gt:">",GT:">",Gt:"\u226B",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",harrcir:"\u2948",harr:"\u2194",hArr:"\u21D4",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",Hfr:"\u210C",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",hopf:"\u{1D559}",Hopf:"\u210D",horbar:"\u2015",HorizontalLine:"\u2500",hscr:"\u{1D4BD}",Hscr:"\u210B",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",ifr:"\u{1D526}",Ifr:"\u2111",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",Im:"\u2111",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",incare:"\u2105",in:"\u2208",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",intcal:"\u22BA",int:"\u222B",Int:"\u222C",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",iscr:"\u{1D4BE}",Iscr:"\u2110",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",lang:"\u27E8",Lang:"\u27EA",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",larrb:"\u21E4",larrbfs:"\u291F",larr:"\u2190",Larr:"\u219E",lArr:"\u21D0",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",latail:"\u2919",lAtail:"\u291B",lat:"\u2AAB",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lBarr:"\u290E",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",lE:"\u2266",LeftAngleBracket:"\u27E8",LeftArrowBar:"\u21E4",leftarrow:"\u2190",LeftArrow:"\u2190",Leftarrow:"\u21D0",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVectorBar:"\u2959",LeftDownVector:"\u21C3",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",leftrightarrow:"\u2194",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTeeArrow:"\u21A4",LeftTee:"\u22A3",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangleBar:"\u29CF",LeftTriangle:"\u22B2",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVectorBar:"\u2958",LeftUpVector:"\u21BF",LeftVectorBar:"\u2952",LeftVector:"\u21BC",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",lescc:"\u2AA8",les:"\u2A7D",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",llarr:"\u21C7",ll:"\u226A",Ll:"\u22D8",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoustache:"\u23B0",lmoust:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lnE:"\u2268",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",longleftarrow:"\u27F5",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftrightarrow:"\u27F7",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longmapsto:"\u27FC",longrightarrow:"\u27F6",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",Lscr:"\u2112",lsh:"\u21B0",Lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",lt:"<",LT:"<",Lt:"\u226A",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midast:"*",midcir:"\u2AF0",mid:"\u2223",middot:"\xB7",minusb:"\u229F",minus:"\u2212",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",mscr:"\u{1D4C2}",Mscr:"\u2133",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natural:"\u266E",naturals:"\u2115",natur:"\u266E",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",nearhk:"\u2924",nearr:"\u2197",neArr:"\u21D7",nearrow:"\u2197",ne:"\u2260",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nharr:"\u21AE",nhArr:"\u21CE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlarr:"\u219A",nlArr:"\u21CD",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nleftarrow:"\u219A",nLeftarrow:"\u21CD",nleftrightarrow:"\u21AE",nLeftrightarrow:"\u21CE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nopf:"\u{1D55F}",Nopf:"\u2115",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangle:"\u22EA",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangle:"\u22EB",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",nparallel:"\u2226",npar:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",nprec:"\u2280",npreceq:"\u2AAF\u0338",npre:"\u2AAF\u0338",nrarrc:"\u2933\u0338",nrarr:"\u219B",nrArr:"\u21CF",nrarrw:"\u219D\u0338",nrightarrow:"\u219B",nRightarrow:"\u21CF",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvDash:"\u22AD",nVdash:"\u22AE",nVDash:"\u22AF",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwarr:"\u2196",nwArr:"\u21D6",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",Ocirc:"\xD4",ocirc:"\xF4",ocir:"\u229A",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",orarr:"\u21BB",Or:"\u2A54",or:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",otimesas:"\u2A36",Otimes:"\u2A37",otimes:"\u2297",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",para:"\xB6",parallel:"\u2225",par:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plus:"+",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",popf:"\u{1D561}",Popf:"\u2119",pound:"\xA3",prap:"\u2AB7",Pr:"\u2ABB",pr:"\u227A",prcue:"\u227C",precapprox:"\u2AB7",prec:"\u227A",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",pre:"\u2AAF",prE:"\u2AB3",precsim:"\u227E",prime:"\u2032",Prime:"\u2033",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportional:"\u221D",Proportion:"\u2237",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",qopf:"\u{1D562}",Qopf:"\u211A",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",quot:'"',QUOT:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",rang:"\u27E9",Rang:"\u27EB",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarr:"\u2192",Rarr:"\u21A0",rArr:"\u21D2",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",ratail:"\u291A",rAtail:"\u291C",ratio:"\u2236",rationals:"\u211A",rbarr:"\u290D",rBarr:"\u290F",RBarr:"\u2910",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",Re:"\u211C",rect:"\u25AD",reg:"\xAE",REG:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",rfr:"\u{1D52F}",Rfr:"\u211C",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrowBar:"\u21E5",rightarrow:"\u2192",RightArrow:"\u2192",Rightarrow:"\u21D2",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVectorBar:"\u2955",RightDownVector:"\u21C2",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTeeArrow:"\u21A6",RightTee:"\u22A2",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangleBar:"\u29D0",RightTriangle:"\u22B3",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVectorBar:"\u2954",RightUpVector:"\u21BE",RightVectorBar:"\u2953",RightVector:"\u21C0",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoustache:"\u23B1",rmoust:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",ropf:"\u{1D563}",Ropf:"\u211D",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",rscr:"\u{1D4C7}",Rscr:"\u211B",rsh:"\u21B1",Rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",Sc:"\u2ABC",sc:"\u227B",sccue:"\u227D",sce:"\u2AB0",scE:"\u2AB4",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdotb:"\u22A1",sdot:"\u22C5",sdote:"\u2A66",searhk:"\u2925",searr:"\u2198",seArr:"\u21D8",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",solbar:"\u233F",solb:"\u29C4",sol:"/",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",square:"\u25A1",Square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squ:"\u25A1",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",sub:"\u2282",Sub:"\u22D0",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subset:"\u2282",Subset:"\u22D0",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succapprox:"\u2AB8",succ:"\u227B",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",sum:"\u2211",Sum:"\u2211",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",sup:"\u2283",Sup:"\u22D1",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",supset:"\u2283",Supset:"\u22D1",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swarr:"\u2199",swArr:"\u21D9",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",therefore:"\u2234",Therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",tilde:"\u02DC",Tilde:"\u223C",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",timesbar:"\u2A31",timesb:"\u22A0",times:"\xD7",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",topbot:"\u2336",topcir:"\u2AF1",top:"\u22A4",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",trade:"\u2122",TRADE:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",uarr:"\u2191",Uarr:"\u219F",uArr:"\u21D1",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrowBar:"\u2912",uparrow:"\u2191",UpArrow:"\u2191",Uparrow:"\u21D1",UpArrowDownArrow:"\u21C5",updownarrow:"\u2195",UpDownArrow:"\u2195",Updownarrow:"\u21D5",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",upsi:"\u03C5",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTeeArrow:"\u21A5",UpTee:"\u22A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",varr:"\u2195",vArr:"\u21D5",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",vBar:"\u2AE8",Vbar:"\u2AEB",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",vdash:"\u22A2",vDash:"\u22A8",Vdash:"\u22A9",VDash:"\u22AB",Vdashl:"\u2AE6",veebar:"\u22BB",vee:"\u2228",Vee:"\u22C1",veeeq:"\u225A",vellip:"\u22EE",verbar:"|",Verbar:"\u2016",vert:"|",Vert:"\u2016",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",wedge:"\u2227",Wedge:"\u22C0",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xharr:"\u27F7",xhArr:"\u27FA",Xi:"\u039E",xi:"\u03BE",xlarr:"\u27F5",xlArr:"\u27F8",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrarr:"\u27F6",xrArr:"\u27F9",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",yuml:"\xFF",Yuml:"\u0178",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",zfr:"\u{1D537}",Zfr:"\u2128",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",Zopf:"\u2124",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"}});var rT=I((wqe,h4)=>{"use strict";h4.exports=p4()});var l0=I((Cqe,m4)=>{m4.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/});var y4=I((bqe,v4)=>{"use strict";var g4={};function zve(t){var e,r,n=g4[t];if(n)return n;for(n=g4[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),/^[0-9a-z]$/i.test(r)?n.push(r):n.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)n[t.charCodeAt(e)]=t[e];return n}function u0(t,e,r){var n,i,o,s,a,c="";for(typeof e!="string"&&(r=e,e=u0.defaultChars),typeof r=="undefined"&&(r=!0),a=zve(e),n=0,i=t.length;n<i;n++){if(o=t.charCodeAt(n),r&&o===37&&n+2<i&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3))){c+=t.slice(n,n+3),n+=2;continue}if(o<128){c+=a[o];continue}if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<i&&(s=t.charCodeAt(n+1),s>=56320&&s<=57343)){c+=encodeURIComponent(t[n]+t[n+1]),n++;continue}c+="%EF%BF%BD";continue}c+=encodeURIComponent(t[n])}return c}u0.defaultChars=";/?:@&=+$,-_.!~*'()#";u0.componentChars="-_.!~*'()";v4.exports=u0});var b4=I((Eqe,C4)=>{"use strict";var w4={};function Gve(t){var e,r,n=w4[t];if(n)return n;for(n=w4[t]=[],e=0;e<128;e++)r=String.fromCharCode(e),n.push(r);for(e=0;e<t.length;e++)r=t.charCodeAt(e),n[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return n}function f0(t,e){var r;return typeof e!="string"&&(e=f0.defaultChars),r=Gve(e),t.replace(/(%[a-f0-9]{2})+/gi,function(n){var i,o,s,a,c,l,u,f="";for(i=0,o=n.length;i<o;i+=3){if(s=parseInt(n.slice(i+1,i+3),16),s<128){f+=r[s];continue}if((s&224)==192&&i+3<o&&(a=parseInt(n.slice(i+4,i+6),16),(a&192)==128)){u=s<<6&1984|a&63,u<128?f+="\uFFFD\uFFFD":f+=String.fromCharCode(u),i+=3;continue}if((s&240)==224&&i+6<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),(a&192)==128&&(c&192)==128)){u=s<<12&61440|a<<6&4032|c&63,u<2048||u>=55296&&u<=57343?f+="\uFFFD\uFFFD\uFFFD":f+=String.fromCharCode(u),i+=6;continue}if((s&248)==240&&i+9<o&&(a=parseInt(n.slice(i+4,i+6),16),c=parseInt(n.slice(i+7,i+9),16),l=parseInt(n.slice(i+10,i+12),16),(a&192)==128&&(c&192)==128&&(l&192)==128)){u=s<<18&1835008|a<<12&258048|c<<6&4032|l&63,u<65536||u>1114111?f+="\uFFFD\uFFFD\uFFFD\uFFFD":(u-=65536,f+=String.fromCharCode(55296+(u>>10),56320+(u&1023))),i+=9;continue}f+="\uFFFD"}return f})}f0.defaultChars=";/?:@&=+$,#";f0.componentChars="";C4.exports=f0});var _4=I((_qe,E4)=>{"use strict";E4.exports=function(e){var r="";return r+=e.protocol||"",r+=e.slashes?"//":"",r+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?r+="["+e.hostname+"]":r+=e.hostname||"",r+=e.port?":"+e.port:"",r+=e.pathname||"",r+=e.search||"",r+=e.hash||"",r}});var A4=I((Sqe,T4)=>{"use strict";function d0(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Wve=/^([a-z0-9.+-]+:)/i,Kve=/:[0-9]*$/,Yve=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Jve=["<",">",'"',"`"," ","\r",`
`,"	"],Qve=["{","}","|","\\","^","`"].concat(Jve),Xve=["'"].concat(Qve),S4=["%","/","?",";","#"].concat(Xve),x4=["/","?","#"],Zve=255,P4=/^[+a-z0-9A-Z_-]{0,63}$/,eye=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,k4={javascript:!0,"javascript:":!0},I4={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function tye(t,e){if(t&&t instanceof d0)return t;var r=new d0;return r.parse(t,e),r}d0.prototype.parse=function(t,e){var r,n,i,o,s,a=t;if(a=a.trim(),!e&&t.split("#").length===1){var c=Yve.exec(a);if(c)return this.pathname=c[1],c[2]&&(this.search=c[2]),this}var l=Wve.exec(a);if(l&&(l=l[0],i=l.toLowerCase(),this.protocol=l,a=a.substr(l.length)),(e||l||a.match(/^\/\/[^@\/]+@[^@\/]+/))&&(s=a.substr(0,2)==="//",s&&!(l&&k4[l])&&(a=a.substr(2),this.slashes=!0)),!k4[l]&&(s||l&&!I4[l])){var u=-1;for(r=0;r<x4.length;r++)o=a.indexOf(x4[r]),o!==-1&&(u===-1||o<u)&&(u=o);var f,d;for(u===-1?d=a.lastIndexOf("@"):d=a.lastIndexOf("@",u),d!==-1&&(f=a.slice(0,d),a=a.slice(d+1),this.auth=f),u=-1,r=0;r<S4.length;r++)o=a.indexOf(S4[r]),o!==-1&&(u===-1||o<u)&&(u=o);u===-1&&(u=a.length),a[u-1]===":"&&u--;var p=a.slice(0,u);a=a.slice(u),this.parseHost(p),this.hostname=this.hostname||"";var h=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!h){var m=this.hostname.split(/\./);for(r=0,n=m.length;r<n;r++){var g=m[r];if(!!g&&!g.match(P4)){for(var v="",y=0,C=g.length;y<C;y++)g.charCodeAt(y)>127?v+="x":v+=g[y];if(!v.match(P4)){var b=m.slice(0,r),_=m.slice(r+1),P=g.match(eye);P&&(b.push(P[1]),_.unshift(P[2])),_.length&&(a=_.join(".")+a),this.hostname=b.join(".");break}}}}this.hostname.length>Zve&&(this.hostname=""),h&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var S=a.indexOf("#");S!==-1&&(this.hash=a.substr(S),a=a.slice(0,S));var x=a.indexOf("?");return x!==-1&&(this.search=a.substr(x),a=a.slice(0,x)),a&&(this.pathname=a),I4[i]&&this.hostname&&!this.pathname&&(this.pathname=""),this};d0.prototype.parseHost=function(t){var e=Kve.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};T4.exports=tye});var nT=I((xqe,mm)=>{"use strict";mm.exports.encode=y4();mm.exports.decode=b4();mm.exports.format=_4();mm.exports.parse=A4()});var iT=I((Pqe,D4)=>{D4.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/});var oT=I((kqe,R4)=>{R4.exports=/[\0-\x1F\x7F-\x9F]/});var N4=I((Iqe,O4)=>{O4.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/});var sT=I((Tqe,L4)=>{L4.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/});var F4=I(Vf=>{"use strict";Vf.Any=iT();Vf.Cc=oT();Vf.Cf=N4();Vf.P=l0();Vf.Z=sT()});var wt=I(vr=>{"use strict";function rye(t){return Object.prototype.toString.call(t)}function nye(t){return rye(t)==="[object String]"}var iye=Object.prototype.hasOwnProperty;function M4(t,e){return iye.call(t,e)}function oye(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){t[n]=r[n]})}}),t}function sye(t,e,r){return[].concat(t.slice(0,e),r,t.slice(e+1))}function q4(t){return!(t>=55296&&t<=57343||t>=64976&&t<=65007||(t&65535)==65535||(t&65535)==65534||t>=0&&t<=8||t===11||t>=14&&t<=31||t>=127&&t<=159||t>1114111)}function j4(t){if(t>65535){t-=65536;var e=55296+(t>>10),r=56320+(t&1023);return String.fromCharCode(e,r)}return String.fromCharCode(t)}var $4=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,aye=/&([a-z#][a-z0-9]{1,31});/gi,cye=new RegExp($4.source+"|"+aye.source,"gi"),lye=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,U4=rT();function uye(t,e){var r=0;return M4(U4,e)?U4[e]:e.charCodeAt(0)===35&&lye.test(e)&&(r=e[1].toLowerCase()==="x"?parseInt(e.slice(2),16):parseInt(e.slice(1),10),q4(r))?j4(r):t}function fye(t){return t.indexOf("\\")<0?t:t.replace($4,"$1")}function dye(t){return t.indexOf("\\")<0&&t.indexOf("&")<0?t:t.replace(cye,function(e,r,n){return r||uye(e,n)})}var pye=/[&<>"]/,hye=/[&<>"]/g,mye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function gye(t){return mye[t]}function vye(t){return pye.test(t)?t.replace(hye,gye):t}var yye=/[.?*+^$[\]\\(){}|-]/g;function wye(t){return t.replace(yye,"\\$&")}function Cye(t){switch(t){case 9:case 32:return!0}return!1}function bye(t){if(t>=8192&&t<=8202)return!0;switch(t){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var Eye=l0();function _ye(t){return Eye.test(t)}function Sye(t){switch(t){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function xye(t){return t=t.trim().replace(/\s+/g," "),"\u1E9E".toLowerCase()==="\u1E7E"&&(t=t.replace(/ẞ/g,"\xDF")),t.toLowerCase().toUpperCase()}vr.lib={};vr.lib.mdurl=nT();vr.lib.ucmicro=F4();vr.assign=oye;vr.isString=nye;vr.has=M4;vr.unescapeMd=fye;vr.unescapeAll=dye;vr.isValidEntityCode=q4;vr.fromCodePoint=j4;vr.escapeHtml=vye;vr.arrayReplaceAt=sye;vr.isSpace=Cye;vr.isWhiteSpace=bye;vr.isMdAsciiPunct=Sye;vr.isPunctChar=_ye;vr.escapeRE=wye;vr.normalizeReference=xye});var H4=I((Rqe,B4)=>{"use strict";B4.exports=function(e,r,n){var i,o,s,a,c=-1,l=e.posMax,u=e.pos;for(e.pos=r+1,i=1;e.pos<l;){if(s=e.src.charCodeAt(e.pos),s===93&&(i--,i===0)){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),s===91){if(a===e.pos-1)i++;else if(n)return e.pos=u,-1}}return o&&(c=e.pos),e.pos=u,c}});var G4=I((Oqe,z4)=>{"use strict";var V4=wt().unescapeAll;z4.exports=function(e,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<n;){if(i=e.charCodeAt(r),i===10||i===60)return c;if(i===62)return c.pos=r+1,c.str=V4(e.slice(a+1,r)),c.ok=!0,c;if(i===92&&r+1<n){r+=2;continue}r++}return c}for(o=0;r<n&&(i=e.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(o++,o>32))return c;if(i===41){if(o===0)break;o--}r++}return a===r||o!==0||(c.str=V4(e.slice(a,r)),c.lines=s,c.pos=r,c.ok=!0),c}});var K4=I((Nqe,W4)=>{"use strict";var Pye=wt().unescapeAll;W4.exports=function(e,r,n){var i,o,s=0,a=r,c={ok:!1,pos:0,lines:0,str:""};if(r>=n||(o=e.charCodeAt(r),o!==34&&o!==39&&o!==40))return c;for(r++,o===40&&(o=41);r<n;){if(i=e.charCodeAt(r),i===o)return c.pos=r+1,c.lines=s,c.str=Pye(e.slice(a+1,r)),c.ok=!0,c;if(i===40&&o===41)return c;i===10?s++:i===92&&r+1<n&&(r++,e.charCodeAt(r)===10&&s++),r++}return c}});var Y4=I(p0=>{"use strict";p0.parseLinkLabel=H4();p0.parseLinkDestination=G4();p0.parseLinkTitle=K4()});var Q4=I((Fqe,J4)=>{"use strict";var kye=wt().assign,Iye=wt().unescapeAll,El=wt().escapeHtml,Lo={};Lo.code_inline=function(t,e,r,n,i){var o=t[e];return"<code"+i.renderAttrs(o)+">"+El(t[e].content)+"</code>"};Lo.code_block=function(t,e,r,n,i){var o=t[e];return"<pre"+i.renderAttrs(o)+"><code>"+El(t[e].content)+`</code></pre>
`};Lo.fence=function(t,e,r,n,i){var o=t[e],s=o.info?Iye(o.info).trim():"",a="",c="",l,u,f,d,p;return s&&(f=s.split(/(\s+)/g),a=f[0],c=f.slice(2).join("")),r.highlight?l=r.highlight(o.content,a,c)||El(o.content):l=El(o.content),l.indexOf("<pre")===0?l+`
`:s?(u=o.attrIndex("class"),d=o.attrs?o.attrs.slice():[],u<0?d.push(["class",r.langPrefix+a]):(d[u]=d[u].slice(),d[u][1]+=" "+r.langPrefix+a),p={attrs:d},"<pre><code"+i.renderAttrs(p)+">"+l+`</code></pre>
`):"<pre><code"+i.renderAttrs(o)+">"+l+`</code></pre>
`};Lo.image=function(t,e,r,n,i){var o=t[e];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,r,n),i.renderToken(t,e,r)};Lo.hardbreak=function(t,e,r){return r.xhtmlOut?`<br />
`:`<br>
`};Lo.softbreak=function(t,e,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};Lo.text=function(t,e){return El(t[e].content)};Lo.html_block=function(t,e){return t[e].content};Lo.html_inline=function(t,e){return t[e].content};function zf(){this.rules=kye({},Lo)}zf.prototype.renderAttrs=function(e){var r,n,i;if(!e.attrs)return"";for(i="",r=0,n=e.attrs.length;r<n;r++)i+=" "+El(e.attrs[r][0])+'="'+El(e.attrs[r][1])+'"';return i};zf.prototype.renderToken=function(e,r,n){var i,o="",s=!1,a=e[r];return a.hidden?"":(a.block&&a.nesting!==-1&&r&&e[r-1].hidden&&(o+=`
`),o+=(a.nesting===-1?"</":"<")+a.tag,o+=this.renderAttrs(a),a.nesting===0&&n.xhtmlOut&&(o+=" /"),a.block&&(s=!0,a.nesting===1&&r+1<e.length&&(i=e[r+1],(i.type==="inline"||i.hidden||i.nesting===-1&&i.tag===a.tag)&&(s=!1))),o+=s?`>
`:">",o)};zf.prototype.renderInline=function(t,e,r){for(var n,i="",o=this.rules,s=0,a=t.length;s<a;s++)n=t[s].type,typeof o[n]!="undefined"?i+=o[n](t,s,e,r,this):i+=this.renderToken(t,s,e);return i};zf.prototype.renderInlineAsText=function(t,e,r){for(var n="",i=0,o=t.length;i<o;i++)t[i].type==="text"?n+=t[i].content:t[i].type==="image"?n+=this.renderInlineAsText(t[i].children,e,r):t[i].type==="softbreak"&&(n+=`
`);return n};zf.prototype.render=function(t,e,r){var n,i,o,s="",a=this.rules;for(n=0,i=t.length;n<i;n++)o=t[n].type,o==="inline"?s+=this.renderInline(t[n].children,e,r):typeof a[o]!="undefined"?s+=a[t[n].type](t,n,e,r,this):s+=this.renderToken(t,n,e,r);return s};J4.exports=zf});var h0=I((Mqe,X4)=>{"use strict";function Zi(){this.__rules__=[],this.__cache__=null}Zi.prototype.__find__=function(t){for(var e=0;e<this.__rules__.length;e++)if(this.__rules__[e].name===t)return e;return-1};Zi.prototype.__compile__=function(){var t=this,e=[""];t.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){e.indexOf(n)<0&&e.push(n)})}),t.__cache__={},e.forEach(function(r){t.__cache__[r]=[],t.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||t.__cache__[r].push(n.fn)})})};Zi.prototype.at=function(t,e,r){var n=this.__find__(t),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+t);this.__rules__[n].fn=e,this.__rules__[n].alt=i.alt||[],this.__cache__=null};Zi.prototype.before=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Zi.prototype.after=function(t,e,r,n){var i=this.__find__(t),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+t);this.__rules__.splice(i+1,0,{name:e,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};Zi.prototype.push=function(t,e,r){var n=r||{};this.__rules__.push({name:t,enabled:!0,fn:e,alt:n.alt||[]}),this.__cache__=null};Zi.prototype.enable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(n){var i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!0,r.push(n)},this),this.__cache__=null,r};Zi.prototype.enableOnly=function(t,e){Array.isArray(t)||(t=[t]),this.__rules__.forEach(function(r){r.enabled=!1}),this.enable(t,e)};Zi.prototype.disable=function(t,e){Array.isArray(t)||(t=[t]);var r=[];return t.forEach(function(n){var i=this.__find__(n);if(i<0){if(e)return;throw new Error("Rules manager: invalid rule name "+n)}this.__rules__[i].enabled=!1,r.push(n)},this),this.__cache__=null,r};Zi.prototype.getRules=function(t){return this.__cache__===null&&this.__compile__(),this.__cache__[t]||[]};X4.exports=Zi});var e6=I((qqe,Z4)=>{"use strict";var Tye=/\r\n?|\n/g,Aye=/\0/g;Z4.exports=function(e){var r;r=e.src.replace(Tye,`
`),r=r.replace(Aye,"\uFFFD"),e.src=r}});var r6=I((jqe,t6)=>{"use strict";t6.exports=function(e){var r;e.inlineMode?(r=new e.Token("inline","",0),r.content=e.src,r.map=[0,1],r.children=[],e.tokens.push(r)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}});var i6=I(($qe,n6)=>{"use strict";n6.exports=function(e){var r=e.tokens,n,i,o;for(i=0,o=r.length;i<o;i++)n=r[i],n.type==="inline"&&e.md.inline.parse(n.content,e.md,e.env,n.children)}});var s6=I((Uqe,o6)=>{"use strict";var Dye=wt().arrayReplaceAt;function Rye(t){return/^<a[>\s]/i.test(t)}function Oye(t){return/^<\/a\s*>/i.test(t)}o6.exports=function(e){var r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y=e.tokens,C;if(!!e.md.options.linkify){for(n=0,i=y.length;n<i;n++)if(!(y[n].type!=="inline"||!e.md.linkify.pretest(y[n].content)))for(o=y[n].children,h=0,r=o.length-1;r>=0;r--){if(a=o[r],a.type==="link_close"){for(r--;o[r].level!==a.level&&o[r].type!=="link_open";)r--;continue}if(a.type==="html_inline"&&(Rye(a.content)&&h>0&&h--,Oye(a.content)&&h++),!(h>0)&&a.type==="text"&&e.md.linkify.test(a.content)){for(u=a.content,C=e.md.linkify.match(u),c=[],p=a.level,d=0,l=0;l<C.length;l++)m=C[l].url,g=e.md.normalizeLink(m),!!e.md.validateLink(g)&&(v=C[l].text,C[l].schema?C[l].schema==="mailto:"&&!/^mailto:/i.test(v)?v=e.md.normalizeLinkText("mailto:"+v).replace(/^mailto:/,""):v=e.md.normalizeLinkText(v):v=e.md.normalizeLinkText("http://"+v).replace(/^http:\/\//,""),f=C[l].index,f>d&&(s=new e.Token("text","",0),s.content=u.slice(d,f),s.level=p,c.push(s)),s=new e.Token("link_open","a",1),s.attrs=[["href",g]],s.level=p++,s.markup="linkify",s.info="auto",c.push(s),s=new e.Token("text","",0),s.content=v,s.level=p,c.push(s),s=new e.Token("link_close","a",-1),s.level=--p,s.markup="linkify",s.info="auto",c.push(s),d=C[l].lastIndex);d<u.length&&(s=new e.Token("text","",0),s.content=u.slice(d),s.level=p,c.push(s)),y[n].children=o=Dye(o,r,c)}}}}});var l6=I((Bqe,c6)=>{"use strict";var a6=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Nye=/\((c|tm|r|p)\)/i,Lye=/\((c|tm|r|p)\)/ig,Fye={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function Mye(t,e){return Fye[e.toLowerCase()]}function qye(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)r=t[e],r.type==="text"&&!n&&(r.content=r.content.replace(Lye,Mye)),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}function jye(t){var e,r,n=0;for(e=t.length-1;e>=0;e--)r=t[e],r.type==="text"&&!n&&a6.test(r.content)&&(r.content=r.content.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1\u2014").replace(/(^|\s)--(?=\s|$)/mg,"$1\u2013").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1\u2013")),r.type==="link_open"&&r.info==="auto"&&n--,r.type==="link_close"&&r.info==="auto"&&n++}c6.exports=function(e){var r;if(!!e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type==="inline"&&(Nye.test(e.tokens[r].content)&&qye(e.tokens[r].children),a6.test(e.tokens[r].content)&&jye(e.tokens[r].children))}});var g6=I((Hqe,m6)=>{"use strict";var u6=wt().isWhiteSpace,f6=wt().isPunctChar,d6=wt().isMdAsciiPunct,$ye=/['"]/,p6=/['"]/g,h6="\u2019";function m0(t,e,r){return t.substr(0,e)+r+t.substr(e+1)}function Uye(t,e){var r,n,i,o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P;for(b=[],r=0;r<t.length;r++){for(n=t[r],c=t[r].level,y=b.length-1;y>=0&&!(b[y].level<=c);y--);if(b.length=y+1,n.type!=="text")continue;i=n.content,s=0,a=i.length;e:for(;s<a&&(p6.lastIndex=s,o=p6.exec(i),!!o);){if(g=v=!0,s=o.index+1,C=o[0]==="'",u=32,o.index-1>=0)u=i.charCodeAt(o.index-1);else for(y=r-1;y>=0&&!(t[y].type==="softbreak"||t[y].type==="hardbreak");y--)if(!!t[y].content){u=t[y].content.charCodeAt(t[y].content.length-1);break}if(f=32,s<a)f=i.charCodeAt(s);else for(y=r+1;y<t.length&&!(t[y].type==="softbreak"||t[y].type==="hardbreak");y++)if(!!t[y].content){f=t[y].content.charCodeAt(0);break}if(d=d6(u)||f6(String.fromCharCode(u)),p=d6(f)||f6(String.fromCharCode(f)),h=u6(u),m=u6(f),m?g=!1:p&&(h||d||(g=!1)),h?v=!1:d&&(m||p||(v=!1)),f===34&&o[0]==='"'&&u>=48&&u<=57&&(v=g=!1),g&&v&&(g=d,v=p),!g&&!v){C&&(n.content=m0(n.content,o.index,h6));continue}if(v){for(y=b.length-1;y>=0&&(l=b[y],!(b[y].level<c));y--)if(l.single===C&&b[y].level===c){l=b[y],C?(_=e.md.options.quotes[2],P=e.md.options.quotes[3]):(_=e.md.options.quotes[0],P=e.md.options.quotes[1]),n.content=m0(n.content,o.index,P),t[l.token].content=m0(t[l.token].content,l.pos,_),s+=P.length-1,l.token===r&&(s+=_.length-1),i=n.content,a=i.length,b.length=y;continue e}}g?b.push({token:r,pos:o.index,single:C,level:c}):v&&C&&(n.content=m0(n.content,o.index,h6))}}}m6.exports=function(e){var r;if(!!e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)e.tokens[r].type!=="inline"||!$ye.test(e.tokens[r].content)||Uye(e.tokens[r].children,e)}});var g0=I((Vqe,v6)=>{"use strict";function Gf(t,e,r){this.type=t,this.tag=e,this.attrs=null,this.map=null,this.nesting=r,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Gf.prototype.attrIndex=function(e){var r,n,i;if(!this.attrs)return-1;for(r=this.attrs,n=0,i=r.length;n<i;n++)if(r[n][0]===e)return n;return-1};Gf.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]};Gf.prototype.attrSet=function(e,r){var n=this.attrIndex(e),i=[e,r];n<0?this.attrPush(i):this.attrs[n]=i};Gf.prototype.attrGet=function(e){var r=this.attrIndex(e),n=null;return r>=0&&(n=this.attrs[r][1]),n};Gf.prototype.attrJoin=function(e,r){var n=this.attrIndex(e);n<0?this.attrPush([e,r]):this.attrs[n][1]=this.attrs[n][1]+" "+r};v6.exports=Gf});var C6=I((zqe,w6)=>{"use strict";var Bye=g0();function y6(t,e,r){this.src=t,this.env=r,this.tokens=[],this.inlineMode=!1,this.md=e}y6.prototype.Token=Bye;w6.exports=y6});var E6=I((Gqe,b6)=>{"use strict";var Hye=h0(),aT=[["normalize",e6()],["block",r6()],["inline",i6()],["linkify",s6()],["replacements",l6()],["smartquotes",g6()]];function cT(){this.ruler=new Hye;for(var t=0;t<aT.length;t++)this.ruler.push(aT[t][0],aT[t][1])}cT.prototype.process=function(t){var e,r,n;for(n=this.ruler.getRules(""),e=0,r=n.length;e<r;e++)n[e](t)};cT.prototype.State=C6();b6.exports=cT});var x6=I((Wqe,S6)=>{"use strict";var lT=wt().isSpace;function uT(t,e){var r=t.bMarks[e]+t.tShift[e],n=t.eMarks[e];return t.src.substr(r,n-r)}function _6(t){var e=[],r=0,n=t.length,i,o=!1,s=0,a="";for(i=t.charCodeAt(r);r<n;)i===124&&(o?(a+=t.substring(s,r-1),s=r):(e.push(a+t.substring(s,r)),a="",s=r+1)),o=i===92,r++,i=t.charCodeAt(r);return e.push(a+t.substring(s)),e}S6.exports=function(e,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P;if(r+2>n||(u=r+1,e.sCount[u]<e.blkIndent)||e.sCount[u]-e.blkIndent>=4||(a=e.bMarks[u]+e.tShift[u],a>=e.eMarks[u])||(_=e.src.charCodeAt(a++),_!==124&&_!==45&&_!==58)||a>=e.eMarks[u]||(P=e.src.charCodeAt(a++),P!==124&&P!==45&&P!==58&&!lT(P))||_===45&&lT(P))return!1;for(;a<e.eMarks[u];){if(o=e.src.charCodeAt(a),o!==124&&o!==45&&o!==58&&!lT(o))return!1;a++}for(s=uT(e,r+1),f=s.split("|"),h=[],c=0;c<f.length;c++){if(m=f[c].trim(),!m){if(c===0||c===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(m))return!1;m.charCodeAt(m.length-1)===58?h.push(m.charCodeAt(0)===58?"center":"right"):m.charCodeAt(0)===58?h.push("left"):h.push("")}if(s=uT(e,r).trim(),s.indexOf("|")===-1||e.sCount[r]-e.blkIndent>=4||(f=_6(s),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),d=f.length,d===0||d!==h.length))return!1;if(i)return!0;for(y=e.parentType,e.parentType="table",b=e.md.block.ruler.getRules("blockquote"),p=e.push("table_open","table",1),p.map=g=[r,0],p=e.push("thead_open","thead",1),p.map=[r,r+1],p=e.push("tr_open","tr",1),p.map=[r,r+1],c=0;c<f.length;c++)p=e.push("th_open","th",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=e.push("inline","",0),p.content=f[c].trim(),p.children=[],p=e.push("th_close","th",-1);for(p=e.push("tr_close","tr",-1),p=e.push("thead_close","thead",-1),u=r+2;u<n&&!(e.sCount[u]<e.blkIndent);u++){for(C=!1,c=0,l=b.length;c<l;c++)if(b[c](e,u,n,!0)){C=!0;break}if(C||(s=uT(e,u).trim(),!s)||e.sCount[u]-e.blkIndent>=4)break;for(f=_6(s),f.length&&f[0]===""&&f.shift(),f.length&&f[f.length-1]===""&&f.pop(),u===r+2&&(p=e.push("tbody_open","tbody",1),p.map=v=[r+2,0]),p=e.push("tr_open","tr",1),p.map=[u,u+1],c=0;c<d;c++)p=e.push("td_open","td",1),h[c]&&(p.attrs=[["style","text-align:"+h[c]]]),p=e.push("inline","",0),p.content=f[c]?f[c].trim():"",p.children=[],p=e.push("td_close","td",-1);p=e.push("tr_close","tr",-1)}return v&&(p=e.push("tbody_close","tbody",-1),v[1]=u),p=e.push("table_close","table",-1),g[1]=u,e.parentType=y,e.line=u,!0}});var k6=I((Kqe,P6)=>{"use strict";P6.exports=function(e,r,n){var i,o,s;if(e.sCount[r]-e.blkIndent<4)return!1;for(o=i=r+1;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,o=i;continue}break}return e.line=o,s=e.push("code_block","code",0),s.content=e.getLines(r,o,4+e.blkIndent,!1)+`
`,s.map=[r,e.line],!0}});var T6=I((Yqe,I6)=>{"use strict";I6.exports=function(e,r,n,i){var o,s,a,c,l,u,f,d=!1,p=e.bMarks[r]+e.tShift[r],h=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||p+3>h||(o=e.src.charCodeAt(p),o!==126&&o!==96)||(l=p,p=e.skipChars(p,o),s=p-l,s<3)||(f=e.src.slice(l,p),a=e.src.slice(p,h),o===96&&a.indexOf(String.fromCharCode(o))>=0))return!1;if(i)return!0;for(c=r;c++,!(c>=n||(p=l=e.bMarks[c]+e.tShift[c],h=e.eMarks[c],p<h&&e.sCount[c]<e.blkIndent));)if(e.src.charCodeAt(p)===o&&!(e.sCount[c]-e.blkIndent>=4)&&(p=e.skipChars(p,o),!(p-l<s)&&(p=e.skipSpaces(p),!(p<h)))){d=!0;break}return s=e.sCount[r],e.line=c+(d?1:0),u=e.push("fence","code",0),u.info=a,u.content=e.getLines(r+1,c,s,!0),u.markup=f,u.map=[r,e.line],!0}});var R6=I((Jqe,D6)=>{"use strict";var A6=wt().isSpace;D6.exports=function(e,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P,S,x,T=e.lineMax,A=e.bMarks[r]+e.tShift[r],N=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(A++)!==62)return!1;if(i)return!0;for(c=p=e.sCount[r]+1,e.src.charCodeAt(A)===32?(A++,c++,p++,o=!1,b=!0):e.src.charCodeAt(A)===9?(b=!0,(e.bsCount[r]+p)%4==3?(A++,c++,p++,o=!1):o=!0):b=!1,h=[e.bMarks[r]],e.bMarks[r]=A;A<N&&(s=e.src.charCodeAt(A),A6(s));){s===9?p+=4-(p+e.bsCount[r]+(o?1:0))%4:p++;A++}for(m=[e.bsCount[r]],e.bsCount[r]=e.sCount[r]+1+(b?1:0),u=A>=N,y=[e.sCount[r]],e.sCount[r]=p-c,C=[e.tShift[r]],e.tShift[r]=A-e.bMarks[r],P=e.md.block.ruler.getRules("blockquote"),v=e.parentType,e.parentType="blockquote",d=r+1;d<n&&(x=e.sCount[d]<e.blkIndent,A=e.bMarks[d]+e.tShift[d],N=e.eMarks[d],!(A>=N));d++){if(e.src.charCodeAt(A++)===62&&!x){for(c=p=e.sCount[d]+1,e.src.charCodeAt(A)===32?(A++,c++,p++,o=!1,b=!0):e.src.charCodeAt(A)===9?(b=!0,(e.bsCount[d]+p)%4==3?(A++,c++,p++,o=!1):o=!0):b=!1,h.push(e.bMarks[d]),e.bMarks[d]=A;A<N&&(s=e.src.charCodeAt(A),A6(s));){s===9?p+=4-(p+e.bsCount[d]+(o?1:0))%4:p++;A++}u=A>=N,m.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(b?1:0),y.push(e.sCount[d]),e.sCount[d]=p-c,C.push(e.tShift[d]),e.tShift[d]=A-e.bMarks[d];continue}if(u)break;for(_=!1,a=0,l=P.length;a<l;a++)if(P[a](e,d,n,!0)){_=!0;break}if(_){e.lineMax=d,e.blkIndent!==0&&(h.push(e.bMarks[d]),m.push(e.bsCount[d]),C.push(e.tShift[d]),y.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}h.push(e.bMarks[d]),m.push(e.bsCount[d]),C.push(e.tShift[d]),y.push(e.sCount[d]),e.sCount[d]=-1}for(g=e.blkIndent,e.blkIndent=0,S=e.push("blockquote_open","blockquote",1),S.markup=">",S.map=f=[r,0],e.md.block.tokenize(e,r,d),S=e.push("blockquote_close","blockquote",-1),S.markup=">",e.lineMax=T,e.parentType=v,f[1]=e.line,a=0;a<C.length;a++)e.bMarks[a+r]=h[a],e.tShift[a+r]=C[a],e.sCount[a+r]=y[a],e.bsCount[a+r]=m[a];return e.blkIndent=g,!0}});var N6=I((Qqe,O6)=>{"use strict";var Vye=wt().isSpace;O6.exports=function(e,r,n,i){var o,s,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||(o=e.src.charCodeAt(l++),o!==42&&o!==45&&o!==95))return!1;for(s=1;l<u;){if(a=e.src.charCodeAt(l++),a!==o&&!Vye(a))return!1;a===o&&s++}return s<3?!1:(i||(e.line=r+1,c=e.push("hr","hr",0),c.map=[r,e.line],c.markup=Array(s+1).join(String.fromCharCode(o))),!0)}});var j6=I((Xqe,q6)=>{"use strict";var L6=wt().isSpace;function F6(t,e){var r,n,i,o;return n=t.bMarks[e]+t.tShift[e],i=t.eMarks[e],r=t.src.charCodeAt(n++),r!==42&&r!==45&&r!==43||n<i&&(o=t.src.charCodeAt(n),!L6(o))?-1:n}function M6(t,e){var r,n=t.bMarks[e]+t.tShift[e],i=n,o=t.eMarks[e];if(i+1>=o||(r=t.src.charCodeAt(i++),r<48||r>57))return-1;for(;;){if(i>=o)return-1;if(r=t.src.charCodeAt(i++),r>=48&&r<=57){if(i-n>=10)return-1;continue}if(r===41||r===46)break;return-1}return i<o&&(r=t.src.charCodeAt(i),!L6(r))?-1:i}function zye(t,e){var r,n,i=t.level+2;for(r=e+2,n=t.tokens.length-2;r<n;r++)t.tokens[r].level===i&&t.tokens[r].type==="paragraph_open"&&(t.tokens[r+2].hidden=!0,t.tokens[r].hidden=!0,r+=2)}q6.exports=function(e,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_,P,S,x,T,A,N,q,J,Y,ee,re,j=!1,F=!0;if(e.sCount[r]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[r]-e.listIndent>=4&&e.sCount[r]<e.blkIndent)return!1;if(i&&e.parentType==="paragraph"&&e.sCount[r]>=e.blkIndent&&(j=!0),(N=M6(e,r))>=0){if(f=!0,J=e.bMarks[r]+e.tShift[r],v=Number(e.src.slice(J,N-1)),j&&v!==1)return!1}else if((N=F6(e,r))>=0)f=!1;else return!1;if(j&&e.skipSpaces(N)>=e.eMarks[r])return!1;if(g=e.src.charCodeAt(N-1),i)return!0;for(m=e.tokens.length,f?(re=e.push("ordered_list_open","ol",1),v!==1&&(re.attrs=[["start",v]])):re=e.push("bullet_list_open","ul",1),re.map=h=[r,0],re.markup=String.fromCharCode(g),C=r,q=!1,ee=e.md.block.ruler.getRules("list"),P=e.parentType,e.parentType="list";C<n;){for(A=N,y=e.eMarks[C],u=b=e.sCount[C]+N-(e.bMarks[r]+e.tShift[r]);A<y;){if(o=e.src.charCodeAt(A),o===9)b+=4-(b+e.bsCount[C])%4;else if(o===32)b++;else break;A++}if(s=A,s>=y?l=1:l=b-u,l>4&&(l=1),c=u+l,re=e.push("list_item_open","li",1),re.markup=String.fromCharCode(g),re.map=d=[r,0],f&&(re.info=e.src.slice(J,N-1)),T=e.tight,x=e.tShift[r],S=e.sCount[r],_=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=c,e.tight=!0,e.tShift[r]=s-e.bMarks[r],e.sCount[r]=b,s>=y&&e.isEmpty(r+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,r,n,!0),(!e.tight||q)&&(F=!1),q=e.line-r>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=_,e.tShift[r]=x,e.sCount[r]=S,e.tight=T,re=e.push("list_item_close","li",-1),re.markup=String.fromCharCode(g),C=r=e.line,d[1]=C,s=e.bMarks[r],C>=n||e.sCount[C]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)break;for(Y=!1,a=0,p=ee.length;a<p;a++)if(ee[a](e,C,n,!0)){Y=!0;break}if(Y)break;if(f){if(N=M6(e,C),N<0)break;J=e.bMarks[C]+e.tShift[C]}else if(N=F6(e,C),N<0)break;if(g!==e.src.charCodeAt(N-1))break}return f?re=e.push("ordered_list_close","ol",-1):re=e.push("bullet_list_close","ul",-1),re.markup=String.fromCharCode(g),h[1]=C,e.line=C,e.parentType=P,F&&zye(e,m),!0}});var U6=I((Zqe,$6)=>{"use strict";var Gye=wt().normalizeReference,v0=wt().isSpace;$6.exports=function(e,r,n,i){var o,s,a,c,l,u,f,d,p,h,m,g,v,y,C,b,_=0,P=e.bMarks[r]+e.tShift[r],S=e.eMarks[r],x=r+1;if(e.sCount[r]-e.blkIndent>=4||e.src.charCodeAt(P)!==91)return!1;for(;++P<S;)if(e.src.charCodeAt(P)===93&&e.src.charCodeAt(P-1)!==92){if(P+1===S||e.src.charCodeAt(P+1)!==58)return!1;break}for(c=e.lineMax,C=e.md.block.ruler.getRules("reference"),h=e.parentType,e.parentType="reference";x<c&&!e.isEmpty(x);x++)if(!(e.sCount[x]-e.blkIndent>3)&&!(e.sCount[x]<0)){for(y=!1,u=0,f=C.length;u<f;u++)if(C[u](e,x,c,!0)){y=!0;break}if(y)break}for(v=e.getLines(r,x,e.blkIndent,!1).trim(),S=v.length,P=1;P<S;P++){if(o=v.charCodeAt(P),o===91)return!1;if(o===93){p=P;break}else o===10?_++:o===92&&(P++,P<S&&v.charCodeAt(P)===10&&_++)}if(p<0||v.charCodeAt(p+1)!==58)return!1;for(P=p+2;P<S;P++)if(o=v.charCodeAt(P),o===10)_++;else if(!v0(o))break;if(m=e.md.helpers.parseLinkDestination(v,P,S),!m.ok||(l=e.md.normalizeLink(m.str),!e.md.validateLink(l)))return!1;for(P=m.pos,_+=m.lines,s=P,a=_,g=P;P<S;P++)if(o=v.charCodeAt(P),o===10)_++;else if(!v0(o))break;for(m=e.md.helpers.parseLinkTitle(v,P,S),P<S&&g!==P&&m.ok?(b=m.str,P=m.pos,_+=m.lines):(b="",P=s,_=a);P<S&&(o=v.charCodeAt(P),!!v0(o));)P++;if(P<S&&v.charCodeAt(P)!==10&&b)for(b="",P=s,_=a;P<S&&(o=v.charCodeAt(P),!!v0(o));)P++;return P<S&&v.charCodeAt(P)!==10||(d=Gye(v.slice(1,p)),!d)?!1:(i||(typeof e.env.references=="undefined"&&(e.env.references={}),typeof e.env.references[d]=="undefined"&&(e.env.references[d]={title:b,href:l}),e.parentType=h,e.line=r+_+1),!0)}});var H6=I((eje,B6)=>{"use strict";B6.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]});var dT=I((tje,fT)=>{"use strict";var Wye="[a-zA-Z_:][a-zA-Z0-9:._-]*",Kye="[^\"'=<>`\\x00-\\x20]+",Yye="'[^']*'",Jye='"[^"]*"',Qye="(?:"+Kye+"|"+Yye+"|"+Jye+")",Xye="(?:\\s+"+Wye+"(?:\\s*=\\s*"+Qye+")?)",V6="<[A-Za-z][A-Za-z0-9\\-]*"+Xye+"*\\s*\\/?>",z6="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",Zye="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",ewe="<[?][\\s\\S]*?[?]>",twe="<![A-Z]+\\s+[^>]*>",rwe="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",nwe=new RegExp("^(?:"+V6+"|"+z6+"|"+Zye+"|"+ewe+"|"+twe+"|"+rwe+")"),iwe=new RegExp("^(?:"+V6+"|"+z6+")");fT.exports.HTML_TAG_RE=nwe;fT.exports.HTML_OPEN_CLOSE_TAG_RE=iwe});var W6=I((rje,G6)=>{"use strict";var owe=H6(),swe=dT().HTML_OPEN_CLOSE_TAG_RE,Wf=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+owe.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(swe.source+"\\s*$"),/^$/,!1]];G6.exports=function(e,r,n,i){var o,s,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(l)!==60)return!1;for(c=e.src.slice(l,u),o=0;o<Wf.length&&!Wf[o][0].test(c);o++);if(o===Wf.length)return!1;if(i)return Wf[o][2];if(s=r+1,!Wf[o][1].test(c)){for(;s<n&&!(e.sCount[s]<e.blkIndent);s++)if(l=e.bMarks[s]+e.tShift[s],u=e.eMarks[s],c=e.src.slice(l,u),Wf[o][1].test(c)){c.length!==0&&s++;break}}return e.line=s,a=e.push("html_block","",0),a.map=[r,s],a.content=e.getLines(r,s,e.blkIndent,!0),!0}});var J6=I((nje,Y6)=>{"use strict";var K6=wt().isSpace;Y6.exports=function(e,r,n,i){var o,s,a,c,l=e.bMarks[r]+e.tShift[r],u=e.eMarks[r];if(e.sCount[r]-e.blkIndent>=4||(o=e.src.charCodeAt(l),o!==35||l>=u))return!1;for(s=1,o=e.src.charCodeAt(++l);o===35&&l<u&&s<=6;)s++,o=e.src.charCodeAt(++l);return s>6||l<u&&!K6(o)?!1:(i||(u=e.skipSpacesBack(u,l),a=e.skipCharsBack(u,35,l),a>l&&K6(e.src.charCodeAt(a-1))&&(u=a),e.line=r+1,c=e.push("heading_open","h"+String(s),1),c.markup="########".slice(0,s),c.map=[r,e.line],c=e.push("inline","",0),c.content=e.src.slice(l,u).trim(),c.map=[r,e.line],c.children=[],c=e.push("heading_close","h"+String(s),-1),c.markup="########".slice(0,s)),!0)}});var X6=I((ije,Q6)=>{"use strict";Q6.exports=function(e,r,n){var i,o,s,a,c,l,u,f,d,p=r+1,h,m=e.md.block.ruler.getRules("paragraph");if(e.sCount[r]-e.blkIndent>=4)return!1;for(h=e.parentType,e.parentType="paragraph";p<n&&!e.isEmpty(p);p++)if(!(e.sCount[p]-e.blkIndent>3)){if(e.sCount[p]>=e.blkIndent&&(l=e.bMarks[p]+e.tShift[p],u=e.eMarks[p],l<u&&(d=e.src.charCodeAt(l),(d===45||d===61)&&(l=e.skipChars(l,d),l=e.skipSpaces(l),l>=u)))){f=d===61?1:2;break}if(!(e.sCount[p]<0)){for(o=!1,s=0,a=m.length;s<a;s++)if(m[s](e,p,n,!0)){o=!0;break}if(o)break}}return f?(i=e.getLines(r,p,e.blkIndent,!1).trim(),e.line=p+1,c=e.push("heading_open","h"+String(f),1),c.markup=String.fromCharCode(d),c.map=[r,e.line],c=e.push("inline","",0),c.content=i,c.map=[r,e.line-1],c.children=[],c=e.push("heading_close","h"+String(f),-1),c.markup=String.fromCharCode(d),e.parentType=h,!0):!1}});var eK=I((oje,Z6)=>{"use strict";Z6.exports=function(e,r){var n,i,o,s,a,c,l=r+1,u=e.md.block.ruler.getRules("paragraph"),f=e.lineMax;for(c=e.parentType,e.parentType="paragraph";l<f&&!e.isEmpty(l);l++)if(!(e.sCount[l]-e.blkIndent>3)&&!(e.sCount[l]<0)){for(i=!1,o=0,s=u.length;o<s;o++)if(u[o](e,l,f,!0)){i=!0;break}if(i)break}return n=e.getLines(r,l,e.blkIndent,!1).trim(),e.line=l,a=e.push("paragraph_open","p",1),a.map=[r,e.line],a=e.push("inline","",0),a.content=n,a.map=[r,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}});var nK=I((sje,rK)=>{"use strict";var tK=g0(),y0=wt().isSpace;function Fo(t,e,r,n){var i,o,s,a,c,l,u,f;for(this.src=t,this.md=e,this.env=r,this.tokens=n,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",o=this.src,f=!1,s=a=l=u=0,c=o.length;a<c;a++){if(i=o.charCodeAt(a),!f)if(y0(i)){l++,i===9?u+=4-u%4:u++;continue}else f=!0;(i===10||a===c-1)&&(i!==10&&a++,this.bMarks.push(s),this.eMarks.push(a),this.tShift.push(l),this.sCount.push(u),this.bsCount.push(0),f=!1,l=0,u=0,s=a+1)}this.bMarks.push(o.length),this.eMarks.push(o.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Fo.prototype.push=function(t,e,r){var n=new tK(t,e,r);return n.block=!0,r<0&&this.level--,n.level=this.level,r>0&&this.level++,this.tokens.push(n),n};Fo.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]};Fo.prototype.skipEmptyLines=function(e){for(var r=this.lineMax;e<r&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e};Fo.prototype.skipSpaces=function(e){for(var r,n=this.src.length;e<n&&(r=this.src.charCodeAt(e),!!y0(r));e++);return e};Fo.prototype.skipSpacesBack=function(e,r){if(e<=r)return e;for(;e>r;)if(!y0(this.src.charCodeAt(--e)))return e+1;return e};Fo.prototype.skipChars=function(e,r){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===r;e++);return e};Fo.prototype.skipCharsBack=function(e,r,n){if(e<=n)return e;for(;e>n;)if(r!==this.src.charCodeAt(--e))return e+1;return e};Fo.prototype.getLines=function(e,r,n,i){var o,s,a,c,l,u,f,d=e;if(e>=r)return"";for(u=new Array(r-e),o=0;d<r;d++,o++){for(s=0,f=c=this.bMarks[d],d+1<r||i?l=this.eMarks[d]+1:l=this.eMarks[d];c<l&&s<n;){if(a=this.src.charCodeAt(c),y0(a))a===9?s+=4-(s+this.bsCount[d])%4:s++;else if(c-f<this.tShift[d])s++;else break;c++}s>n?u[o]=new Array(s-n+1).join(" ")+this.src.slice(c,l):u[o]=this.src.slice(c,l)}return u.join("")};Fo.prototype.Token=tK;rK.exports=Fo});var oK=I((aje,iK)=>{"use strict";var awe=h0(),w0=[["table",x6(),["paragraph","reference"]],["code",k6()],["fence",T6(),["paragraph","reference","blockquote","list"]],["blockquote",R6(),["paragraph","reference","blockquote","list"]],["hr",N6(),["paragraph","reference","blockquote","list"]],["list",j6(),["paragraph","reference","blockquote"]],["reference",U6()],["html_block",W6(),["paragraph","reference","blockquote"]],["heading",J6(),["paragraph","reference","blockquote"]],["lheading",X6()],["paragraph",eK()]];function C0(){this.ruler=new awe;for(var t=0;t<w0.length;t++)this.ruler.push(w0[t][0],w0[t][1],{alt:(w0[t][2]||[]).slice()})}C0.prototype.tokenize=function(t,e,r){for(var n,i,o=this.ruler.getRules(""),s=o.length,a=e,c=!1,l=t.md.options.maxNesting;a<r&&(t.line=a=t.skipEmptyLines(a),!(a>=r||t.sCount[a]<t.blkIndent));){if(t.level>=l){t.line=r;break}for(i=0;i<s&&(n=o[i](t,a,r,!1),!n);i++);t.tight=!c,t.isEmpty(t.line-1)&&(c=!0),a=t.line,a<r&&t.isEmpty(a)&&(c=!0,a++,t.line=a)}};C0.prototype.parse=function(t,e,r,n){var i;!t||(i=new this.State(t,e,r,n),this.tokenize(i,i.line,i.lineMax))};C0.prototype.State=nK();iK.exports=C0});var aK=I((cje,sK)=>{"use strict";function cwe(t){switch(t){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}sK.exports=function(e,r){for(var n=e.pos;n<e.posMax&&!cwe(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(r||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}});var lK=I((lje,cK)=>{"use strict";var lwe=wt().isSpace;cK.exports=function(e,r){var n,i,o,s=e.pos;if(e.src.charCodeAt(s)!==10)return!1;if(n=e.pending.length-1,i=e.posMax,!r)if(n>=0&&e.pending.charCodeAt(n)===32)if(n>=1&&e.pending.charCodeAt(n-1)===32){for(o=n-1;o>=1&&e.pending.charCodeAt(o-1)===32;)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(s++;s<i&&lwe(e.src.charCodeAt(s));)s++;return e.pos=s,!0}});var fK=I((uje,uK)=>{"use strict";var uwe=wt().isSpace,pT=[];for(hT=0;hT<256;hT++)pT.push(0);var hT;"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(t){pT[t.charCodeAt(0)]=1});uK.exports=function(e,r){var n,i=e.pos,o=e.posMax;if(e.src.charCodeAt(i)!==92)return!1;if(i++,i<o){if(n=e.src.charCodeAt(i),n<256&&pT[n]!==0)return r||(e.pending+=e.src[i]),e.pos+=2,!0;if(n===10){for(r||e.push("hardbreak","br",0),i++;i<o&&(n=e.src.charCodeAt(i),!!uwe(n));)i++;return e.pos=i,!0}}return r||(e.pending+="\\"),e.pos++,!0}});var pK=I((fje,dK)=>{"use strict";dK.exports=function(e,r){var n,i,o,s,a,c,l,u,f=e.pos,d=e.src.charCodeAt(f);if(d!==96)return!1;for(n=f,f++,i=e.posMax;f<i&&e.src.charCodeAt(f)===96;)f++;if(o=e.src.slice(n,f),l=o.length,e.backticksScanned&&(e.backticks[l]||0)<=n)return r||(e.pending+=o),e.pos+=l,!0;for(a=c=f;(a=e.src.indexOf("`",c))!==-1;){for(c=a+1;c<i&&e.src.charCodeAt(c)===96;)c++;if(u=c-a,u===l)return r||(s=e.push("code_inline","code",0),s.markup=o,s.content=e.src.slice(f,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[u]=a}return e.backticksScanned=!0,r||(e.pending+=o),e.pos+=l,!0}});var gT=I((dje,mT)=>{"use strict";mT.exports.tokenize=function(e,r){var n,i,o,s,a,c=e.pos,l=e.src.charCodeAt(c);if(r||l!==126||(i=e.scanDelims(e.pos,!0),s=i.length,a=String.fromCharCode(l),s<2))return!1;for(s%2&&(o=e.push("text","",0),o.content=a,s--),n=0;n<s;n+=2)o=e.push("text","",0),o.content=a+a,e.delimiters.push({marker:l,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0};function hK(t,e){var r,n,i,o,s,a=[],c=e.length;for(r=0;r<c;r++)i=e[r],i.marker===126&&i.end!==-1&&(o=e[i.end],s=t.tokens[i.token],s.type="s_open",s.tag="s",s.nesting=1,s.markup="~~",s.content="",s=t.tokens[o.token],s.type="s_close",s.tag="s",s.nesting=-1,s.markup="~~",s.content="",t.tokens[o.token-1].type==="text"&&t.tokens[o.token-1].content==="~"&&a.push(o.token-1));for(;a.length;){for(r=a.pop(),n=r+1;n<t.tokens.length&&t.tokens[n].type==="s_close";)n++;n--,r!==n&&(s=t.tokens[n],t.tokens[n]=t.tokens[r],t.tokens[r]=s)}}mT.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(hK(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&hK(e,n[r].delimiters)}});var yT=I((pje,vT)=>{"use strict";vT.exports.tokenize=function(e,r){var n,i,o,s=e.pos,a=e.src.charCodeAt(s);if(r||a!==95&&a!==42)return!1;for(i=e.scanDelims(e.pos,a===42),n=0;n<i.length;n++)o=e.push("text","",0),o.content=String.fromCharCode(a),e.delimiters.push({marker:a,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0};function mK(t,e){var r,n,i,o,s,a,c=e.length;for(r=c-1;r>=0;r--)n=e[r],!(n.marker!==95&&n.marker!==42)&&n.end!==-1&&(i=e[n.end],a=r>0&&e[r-1].end===n.end+1&&e[r-1].marker===n.marker&&e[r-1].token===n.token-1&&e[n.end+1].token===i.token+1,s=String.fromCharCode(n.marker),o=t.tokens[n.token],o.type=a?"strong_open":"em_open",o.tag=a?"strong":"em",o.nesting=1,o.markup=a?s+s:s,o.content="",o=t.tokens[i.token],o.type=a?"strong_close":"em_close",o.tag=a?"strong":"em",o.nesting=-1,o.markup=a?s+s:s,o.content="",a&&(t.tokens[e[r-1].token].content="",t.tokens[e[n.end+1].token].content="",r--))}vT.exports.postProcess=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(mK(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&mK(e,n[r].delimiters)}});var vK=I((hje,gK)=>{"use strict";var fwe=wt().normalizeReference,wT=wt().isSpace;gK.exports=function(e,r){var n,i,o,s,a,c,l,u,f,d="",p="",h=e.pos,m=e.posMax,g=e.pos,v=!0;if(e.src.charCodeAt(e.pos)!==91||(a=e.pos+1,s=e.md.helpers.parseLinkLabel(e,e.pos,!0),s<0))return!1;if(c=s+1,c<m&&e.src.charCodeAt(c)===40){for(v=!1,c++;c<m&&(i=e.src.charCodeAt(c),!(!wT(i)&&i!==10));c++);if(c>=m)return!1;if(g=c,l=e.md.helpers.parseLinkDestination(e.src,c,e.posMax),l.ok){for(d=e.md.normalizeLink(l.str),e.md.validateLink(d)?c=l.pos:d="",g=c;c<m&&(i=e.src.charCodeAt(c),!(!wT(i)&&i!==10));c++);if(l=e.md.helpers.parseLinkTitle(e.src,c,e.posMax),c<m&&g!==c&&l.ok)for(p=l.str,c=l.pos;c<m&&(i=e.src.charCodeAt(c),!(!wT(i)&&i!==10));c++);}(c>=m||e.src.charCodeAt(c)!==41)&&(v=!0),c++}if(v){if(typeof e.env.references=="undefined")return!1;if(c<m&&e.src.charCodeAt(c)===91?(g=c+1,c=e.md.helpers.parseLinkLabel(e,c),c>=0?o=e.src.slice(g,c++):c=s+1):c=s+1,o||(o=e.src.slice(a,s)),u=e.env.references[fwe(o)],!u)return e.pos=h,!1;d=u.href,p=u.title}return r||(e.pos=a,e.posMax=s,f=e.push("link_open","a",1),f.attrs=n=[["href",d]],p&&n.push(["title",p]),e.md.inline.tokenize(e),f=e.push("link_close","a",-1)),e.pos=c,e.posMax=m,!0}});var wK=I((mje,yK)=>{"use strict";var dwe=wt().normalizeReference,CT=wt().isSpace;yK.exports=function(e,r){var n,i,o,s,a,c,l,u,f,d,p,h,m,g="",v=e.pos,y=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91||(c=e.pos+2,a=e.md.helpers.parseLinkLabel(e,e.pos+1,!1),a<0))return!1;if(l=a+1,l<y&&e.src.charCodeAt(l)===40){for(l++;l<y&&(i=e.src.charCodeAt(l),!(!CT(i)&&i!==10));l++);if(l>=y)return!1;for(m=l,f=e.md.helpers.parseLinkDestination(e.src,l,e.posMax),f.ok&&(g=e.md.normalizeLink(f.str),e.md.validateLink(g)?l=f.pos:g=""),m=l;l<y&&(i=e.src.charCodeAt(l),!(!CT(i)&&i!==10));l++);if(f=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<y&&m!==l&&f.ok)for(d=f.str,l=f.pos;l<y&&(i=e.src.charCodeAt(l),!(!CT(i)&&i!==10));l++);else d="";if(l>=y||e.src.charCodeAt(l)!==41)return e.pos=v,!1;l++}else{if(typeof e.env.references=="undefined")return!1;if(l<y&&e.src.charCodeAt(l)===91?(m=l+1,l=e.md.helpers.parseLinkLabel(e,l),l>=0?s=e.src.slice(m,l++):l=a+1):l=a+1,s||(s=e.src.slice(c,a)),u=e.env.references[dwe(s)],!u)return e.pos=v,!1;g=u.href,d=u.title}return r||(o=e.src.slice(c,a),e.md.inline.parse(o,e.md,e.env,h=[]),p=e.push("image","img",0),p.attrs=n=[["src",g],["alt",""]],p.children=h,p.content=o,d&&n.push(["title",d])),e.pos=l,e.posMax=y,!0}});var bK=I((gje,CK)=>{"use strict";var pwe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,hwe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;CK.exports=function(e,r){var n,i,o,s,a,c,l=e.pos;if(e.src.charCodeAt(l)!==60)return!1;for(a=e.pos,c=e.posMax;;){if(++l>=c||(s=e.src.charCodeAt(l),s===60))return!1;if(s===62)break}return n=e.src.slice(a+1,l),hwe.test(n)?(i=e.md.normalizeLink(n),e.md.validateLink(i)?(r||(o=e.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=e.push("text","",0),o.content=e.md.normalizeLinkText(n),o=e.push("link_close","a",-1),o.markup="autolink",o.info="auto"),e.pos+=n.length+2,!0):!1):pwe.test(n)?(i=e.md.normalizeLink("mailto:"+n),e.md.validateLink(i)?(r||(o=e.push("link_open","a",1),o.attrs=[["href",i]],o.markup="autolink",o.info="auto",o=e.push("text","",0),o.content=e.md.normalizeLinkText(n),o=e.push("link_close","a",-1),o.markup="autolink",o.info="auto"),e.pos+=n.length+2,!0):!1):!1}});var _K=I((vje,EK)=>{"use strict";var mwe=dT().HTML_TAG_RE;function gwe(t){var e=t|32;return e>=97&&e<=122}EK.exports=function(e,r){var n,i,o,s,a=e.pos;return!e.md.options.html||(o=e.posMax,e.src.charCodeAt(a)!==60||a+2>=o)||(n=e.src.charCodeAt(a+1),n!==33&&n!==63&&n!==47&&!gwe(n))||(i=e.src.slice(a).match(mwe),!i)?!1:(r||(s=e.push("html_inline","",0),s.content=e.src.slice(a,a+i[0].length)),e.pos+=i[0].length,!0)}});var kK=I((yje,PK)=>{"use strict";var SK=rT(),vwe=wt().has,ywe=wt().isValidEntityCode,xK=wt().fromCodePoint,wwe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Cwe=/^&([a-z][a-z0-9]{1,31});/i;PK.exports=function(e,r){var n,i,o,s=e.pos,a=e.posMax;if(e.src.charCodeAt(s)!==38)return!1;if(s+1<a){if(n=e.src.charCodeAt(s+1),n===35){if(o=e.src.slice(s).match(wwe),o)return r||(i=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),e.pending+=ywe(i)?xK(i):xK(65533)),e.pos+=o[0].length,!0}else if(o=e.src.slice(s).match(Cwe),o&&vwe(SK,o[1]))return r||(e.pending+=SK[o[1]]),e.pos+=o[0].length,!0}return r||(e.pending+="&"),e.pos++,!0}});var AK=I((wje,TK)=>{"use strict";function IK(t,e){var r,n,i,o,s,a,c,l,u={},f=e.length;if(!!f){var d=0,p=-2,h=[];for(r=0;r<f;r++)if(i=e[r],h.push(0),(e[d].marker!==i.marker||p!==i.token-1)&&(d=r),p=i.token,i.length=i.length||0,!!i.close){for(u.hasOwnProperty(i.marker)||(u[i.marker]=[-1,-1,-1,-1,-1,-1]),s=u[i.marker][(i.open?3:0)+i.length%3],n=d-h[d]-1,a=n;n>s;n-=h[n]+1)if(o=e[n],o.marker===i.marker&&o.open&&o.end<0&&(c=!1,(o.close||i.open)&&(o.length+i.length)%3==0&&(o.length%3!=0||i.length%3!=0)&&(c=!0),!c)){l=n>0&&!e[n-1].open?h[n-1]+1:0,h[r]=r-n+l,h[n]=l,i.open=!1,o.end=r,o.close=!1,a=-1,p=-2;break}a!==-1&&(u[i.marker][(i.open?3:0)+(i.length||0)%3]=a)}}}TK.exports=function(e){var r,n=e.tokens_meta,i=e.tokens_meta.length;for(IK(e,e.delimiters),r=0;r<i;r++)n[r]&&n[r].delimiters&&IK(e,n[r].delimiters)}});var RK=I((Cje,DK)=>{"use strict";DK.exports=function(e){var r,n,i=0,o=e.tokens,s=e.tokens.length;for(r=n=0;r<s;r++)o[r].nesting<0&&i--,o[r].level=i,o[r].nesting>0&&i++,o[r].type==="text"&&r+1<s&&o[r+1].type==="text"?o[r+1].content=o[r].content+o[r+1].content:(r!==n&&(o[n]=o[r]),n++);r!==n&&(o.length=n)}});var MK=I((bje,FK)=>{"use strict";var bT=g0(),OK=wt().isWhiteSpace,NK=wt().isPunctChar,LK=wt().isMdAsciiPunct;function gm(t,e,r,n){this.src=t,this.env=r,this.md=e,this.tokens=n,this.tokens_meta=Array(n.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}gm.prototype.pushPending=function(){var t=new bT("text","",0);return t.content=this.pending,t.level=this.pendingLevel,this.tokens.push(t),this.pending="",t};gm.prototype.push=function(t,e,r){this.pending&&this.pushPending();var n=new bT(t,e,r),i=null;return r<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),n.level=this.level,r>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(n),this.tokens_meta.push(i),n};gm.prototype.scanDelims=function(t,e){var r=t,n,i,o,s,a,c,l,u,f,d=!0,p=!0,h=this.posMax,m=this.src.charCodeAt(t);for(n=t>0?this.src.charCodeAt(t-1):32;r<h&&this.src.charCodeAt(r)===m;)r++;return o=r-t,i=r<h?this.src.charCodeAt(r):32,l=LK(n)||NK(String.fromCharCode(n)),f=LK(i)||NK(String.fromCharCode(i)),c=OK(n),u=OK(i),u?d=!1:f&&(c||l||(d=!1)),c?p=!1:l&&(u||f||(p=!1)),e?(s=d,a=p):(s=d&&(!p||l),a=p&&(!d||f)),{can_open:s,can_close:a,length:o}};gm.prototype.Token=bT;FK.exports=gm});var $K=I((Eje,jK)=>{"use strict";var qK=h0(),ET=[["text",aK()],["newline",lK()],["escape",fK()],["backticks",pK()],["strikethrough",gT().tokenize],["emphasis",yT().tokenize],["link",vK()],["image",wK()],["autolink",bK()],["html_inline",_K()],["entity",kK()]],_T=[["balance_pairs",AK()],["strikethrough",gT().postProcess],["emphasis",yT().postProcess],["text_collapse",RK()]];function vm(){var t;for(this.ruler=new qK,t=0;t<ET.length;t++)this.ruler.push(ET[t][0],ET[t][1]);for(this.ruler2=new qK,t=0;t<_T.length;t++)this.ruler2.push(_T[t][0],_T[t][1])}vm.prototype.skipToken=function(t){var e,r,n=t.pos,i=this.ruler.getRules(""),o=i.length,s=t.md.options.maxNesting,a=t.cache;if(typeof a[n]!="undefined"){t.pos=a[n];return}if(t.level<s)for(r=0;r<o&&(t.level++,e=i[r](t,!0),t.level--,!e);r++);else t.pos=t.posMax;e||t.pos++,a[n]=t.pos};vm.prototype.tokenize=function(t){for(var e,r,n=this.ruler.getRules(""),i=n.length,o=t.posMax,s=t.md.options.maxNesting;t.pos<o;){if(t.level<s)for(r=0;r<i&&(e=n[r](t,!1),!e);r++);if(e){if(t.pos>=o)break;continue}t.pending+=t.src[t.pos++]}t.pending&&t.pushPending()};vm.prototype.parse=function(t,e,r,n){var i,o,s,a=new this.State(t,e,r,n);for(this.tokenize(a),o=this.ruler2.getRules(""),s=o.length,i=0;i<s;i++)o[i](a)};vm.prototype.State=MK();jK.exports=vm});var BK=I((_je,UK)=>{"use strict";UK.exports=function(t){var e={};e.src_Any=iT().source,e.src_Cc=oT().source,e.src_Z=sT().source,e.src_P=l0().source,e.src_ZPCc=[e.src_Z,e.src_P,e.src_Cc].join("|"),e.src_ZCc=[e.src_Z,e.src_Cc].join("|");var r="[><\uFF5C]";return e.src_pseudo_letter="(?:(?!"+r+"|"+e.src_ZPCc+")"+e.src_Any+")",e.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",e.src_auth="(?:(?:(?!"+e.src_ZCc+"|[@/\\[\\]()]).)+@)?",e.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",e.src_host_terminator="(?=$|"+r+"|"+e.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+e.src_ZPCc+"))",e.src_path="(?:[/?#](?:(?!"+e.src_ZCc+"|"+r+`|[()[\\]{}.,"'?!\\-]).|\\[(?:(?!`+e.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+e.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+e.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+e.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+e.src_ZCc+"|[']).)+\\'|\\'(?="+e.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+e.src_ZCc+"|[.]).|"+(t&&t["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+e.src_ZCc+").|\\!+(?!"+e.src_ZCc+"|[!]).|\\?(?!"+e.src_ZCc+"|[?]).)+|\\/)?",e.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',e.src_xn="xn--[a-z0-9\\-]{1,59}",e.src_domain_root="(?:"+e.src_xn+"|"+e.src_pseudo_letter+"{1,63})",e.src_domain="(?:"+e.src_xn+"|(?:"+e.src_pseudo_letter+")|(?:"+e.src_pseudo_letter+"(?:-|"+e.src_pseudo_letter+"){0,61}"+e.src_pseudo_letter+"))",e.src_host="(?:(?:(?:(?:"+e.src_domain+")\\.)*"+e.src_domain+"))",e.tpl_host_fuzzy="(?:"+e.src_ip4+"|(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%)))",e.tpl_host_no_ip_fuzzy="(?:(?:(?:"+e.src_domain+")\\.)+(?:%TLDS%))",e.src_host_strict=e.src_host+e.src_host_terminator,e.tpl_host_fuzzy_strict=e.tpl_host_fuzzy+e.src_host_terminator,e.src_host_port_strict=e.src_host+e.src_port+e.src_host_terminator,e.tpl_host_port_fuzzy_strict=e.tpl_host_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_port_no_ip_fuzzy_strict=e.tpl_host_no_ip_fuzzy+e.src_port+e.src_host_terminator,e.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+e.src_ZPCc+"|>|$))",e.tpl_email_fuzzy="(^|"+r+'|"|\\(|'+e.src_ZCc+")("+e.src_email_name+"@"+e.tpl_host_fuzzy_strict+")",e.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_fuzzy_strict+e.src_path+")",e.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uFF5C]|"+e.src_ZPCc+"))((?![$+<=>^`|\uFF5C])"+e.tpl_host_port_no_ip_fuzzy_strict+e.src_path+")",e}});var KK=I((Sje,WK)=>{"use strict";function ST(t){var e=Array.prototype.slice.call(arguments,1);return e.forEach(function(r){!r||Object.keys(r).forEach(function(n){t[n]=r[n]})}),t}function b0(t){return Object.prototype.toString.call(t)}function bwe(t){return b0(t)==="[object String]"}function Ewe(t){return b0(t)==="[object Object]"}function _we(t){return b0(t)==="[object RegExp]"}function HK(t){return b0(t)==="[object Function]"}function Swe(t){return t.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var VK={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function xwe(t){return Object.keys(t||{}).reduce(function(e,r){return e||VK.hasOwnProperty(r)},!1)}var Pwe={"http:":{validate:function(t,e,r){var n=t.slice(e);return r.re.http||(r.re.http=new RegExp("^\\/\\/"+r.re.src_auth+r.re.src_host_port_strict+r.re.src_path,"i")),r.re.http.test(n)?n.match(r.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(t,e,r){var n=t.slice(e);return r.re.no_http||(r.re.no_http=new RegExp("^"+r.re.src_auth+"(?:localhost|(?:(?:"+r.re.src_domain+")\\.)+"+r.re.src_domain_root+")"+r.re.src_port+r.re.src_host_terminator+r.re.src_path,"i")),r.re.no_http.test(n)?e>=3&&t[e-3]===":"||e>=3&&t[e-3]==="/"?0:n.match(r.re.no_http)[0].length:0}},"mailto:":{validate:function(t,e,r){var n=t.slice(e);return r.re.mailto||(r.re.mailto=new RegExp("^"+r.re.src_email_name+"@"+r.re.src_host_strict,"i")),r.re.mailto.test(n)?n.match(r.re.mailto)[0].length:0}}},kwe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Iwe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function Twe(t){t.__index__=-1,t.__text_cache__=""}function Awe(t){return function(e,r){var n=e.slice(r);return t.test(n)?n.match(t)[0].length:0}}function zK(){return function(t,e){e.normalize(t)}}function E0(t){var e=t.re=BK()(t.__opts__),r=t.__tlds__.slice();t.onCompile(),t.__tlds_replaced__||r.push(kwe),r.push(e.src_xn),e.src_tlds=r.join("|");function n(a){return a.replace("%TLDS%",e.src_tlds)}e.email_fuzzy=RegExp(n(e.tpl_email_fuzzy),"i"),e.link_fuzzy=RegExp(n(e.tpl_link_fuzzy),"i"),e.link_no_ip_fuzzy=RegExp(n(e.tpl_link_no_ip_fuzzy),"i"),e.host_fuzzy_test=RegExp(n(e.tpl_host_fuzzy_test),"i");var i=[];t.__compiled__={};function o(a,c){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+c)}Object.keys(t.__schemas__).forEach(function(a){var c=t.__schemas__[a];if(c!==null){var l={validate:null,link:null};if(t.__compiled__[a]=l,Ewe(c)){_we(c.validate)?l.validate=Awe(c.validate):HK(c.validate)?l.validate=c.validate:o(a,c),HK(c.normalize)?l.normalize=c.normalize:c.normalize?o(a,c):l.normalize=zK();return}if(bwe(c)){i.push(a);return}o(a,c)}}),i.forEach(function(a){!t.__compiled__[t.__schemas__[a]]||(t.__compiled__[a].validate=t.__compiled__[t.__schemas__[a]].validate,t.__compiled__[a].normalize=t.__compiled__[t.__schemas__[a]].normalize)}),t.__compiled__[""]={validate:null,normalize:zK()};var s=Object.keys(t.__compiled__).filter(function(a){return a.length>0&&t.__compiled__[a]}).map(Swe).join("|");t.re.schema_test=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","i"),t.re.schema_search=RegExp("(^|(?!_)(?:[><\uFF5C]|"+e.src_ZPCc+"))("+s+")","ig"),t.re.pretest=RegExp("("+t.re.schema_test.source+")|("+t.re.host_fuzzy_test.source+")|@","i"),Twe(t)}function Dwe(t,e){var r=t.__index__,n=t.__last_index__,i=t.__text_cache__.slice(r,n);this.schema=t.__schema__.toLowerCase(),this.index=r+e,this.lastIndex=n+e,this.raw=i,this.text=i,this.url=i}function GK(t,e){var r=new Dwe(t,e);return t.__compiled__[r.schema].normalize(r,t),r}function xi(t,e){if(!(this instanceof xi))return new xi(t,e);e||xwe(t)&&(e=t,t={}),this.__opts__=ST({},VK,e),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=ST({},Pwe,t),this.__compiled__={},this.__tlds__=Iwe,this.__tlds_replaced__=!1,this.re={},E0(this)}xi.prototype.add=function(e,r){return this.__schemas__[e]=r,E0(this),this};xi.prototype.set=function(e){return this.__opts__=ST(this.__opts__,e),this};xi.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var r,n,i,o,s,a,c,l,u;if(this.re.schema_test.test(e)){for(c=this.re.schema_search,c.lastIndex=0;(r=c.exec(e))!==null;)if(o=this.testSchemaAt(e,r[2],c.lastIndex),o){this.__schema__=r[2],this.__index__=r.index+r[1].length,this.__last_index__=r.index+r[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=n.index+n[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(u=e.indexOf("@"),u>=0&&(i=e.match(this.re.email_fuzzy))!==null&&(s=i.index+i[1].length,a=i.index+i[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};xi.prototype.pretest=function(e){return this.re.pretest.test(e)};xi.prototype.testSchemaAt=function(e,r,n){return this.__compiled__[r.toLowerCase()]?this.__compiled__[r.toLowerCase()].validate(e,n,this):0};xi.prototype.match=function(e){var r=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(GK(this,r)),r=this.__last_index__);for(var i=r?e.slice(r):e;this.test(i);)n.push(GK(this,r)),i=i.slice(this.__last_index__),r+=this.__last_index__;return n.length?n:null};xi.prototype.tlds=function(e,r){return e=Array.isArray(e)?e:[e],r?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(n,i,o){return n!==o[i-1]}).reverse(),E0(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,E0(this),this)};xi.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),e.schema==="mailto:"&&!/^mailto:/i.test(e.url)&&(e.url="mailto:"+e.url)};xi.prototype.onCompile=function(){};WK.exports=xi});var JK=I((xje,YK)=>{"use strict";YK.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}});var XK=I((Pje,QK)=>{"use strict";QK.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}});var e9=I((kje,ZK)=>{"use strict";ZK.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}});var i9=I((Ije,n9)=>{"use strict";var ym=wt(),Rwe=Y4(),Owe=Q4(),Nwe=E6(),Lwe=oK(),Fwe=$K(),Mwe=KK(),_l=nT(),t9=require("punycode"),qwe={default:JK(),zero:XK(),commonmark:e9()},jwe=/^(vbscript|javascript|file|data):/,$we=/^data:image\/(gif|png|jpeg|webp);/;function Uwe(t){var e=t.trim().toLowerCase();return jwe.test(e)?!!$we.test(e):!0}var r9=["http:","https:","mailto:"];function Bwe(t){var e=_l.parse(t,!0);if(e.hostname&&(!e.protocol||r9.indexOf(e.protocol)>=0))try{e.hostname=t9.toASCII(e.hostname)}catch{}return _l.encode(_l.format(e))}function Hwe(t){var e=_l.parse(t,!0);if(e.hostname&&(!e.protocol||r9.indexOf(e.protocol)>=0))try{e.hostname=t9.toUnicode(e.hostname)}catch{}return _l.decode(_l.format(e),_l.decode.defaultChars+"%")}function Pi(t,e){if(!(this instanceof Pi))return new Pi(t,e);e||ym.isString(t)||(e=t||{},t="default"),this.inline=new Fwe,this.block=new Lwe,this.core=new Nwe,this.renderer=new Owe,this.linkify=new Mwe,this.validateLink=Uwe,this.normalizeLink=Bwe,this.normalizeLinkText=Hwe,this.utils=ym,this.helpers=ym.assign({},Rwe),this.options={},this.configure(t),e&&this.set(e)}Pi.prototype.set=function(t){return ym.assign(this.options,t),this};Pi.prototype.configure=function(t){var e=this,r;if(ym.isString(t)&&(r=t,t=qwe[r],!t))throw new Error('Wrong `markdown-it` preset "'+r+'", check name');if(!t)throw new Error("Wrong `markdown-it` preset, can't be empty");return t.options&&e.set(t.options),t.components&&Object.keys(t.components).forEach(function(n){t.components[n].rules&&e[n].ruler.enableOnly(t.components[n].rules),t.components[n].rules2&&e[n].ruler2.enableOnly(t.components[n].rules2)}),this};Pi.prototype.enable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.enable(t,!0))},this),r=r.concat(this.inline.ruler2.enable(t,!0));var n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+n);return this};Pi.prototype.disable=function(t,e){var r=[];Array.isArray(t)||(t=[t]),["core","block","inline"].forEach(function(i){r=r.concat(this[i].ruler.disable(t,!0))},this),r=r.concat(this.inline.ruler2.disable(t,!0));var n=t.filter(function(i){return r.indexOf(i)<0});if(n.length&&!e)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+n);return this};Pi.prototype.use=function(t){var e=[this].concat(Array.prototype.slice.call(arguments,1));return t.apply(t,e),this};Pi.prototype.parse=function(t,e){if(typeof t!="string")throw new Error("Input data should be a String");var r=new this.core.State(t,this,e);return this.core.process(r),r.tokens};Pi.prototype.render=function(t,e){return e=e||{},this.renderer.render(this.parse(t,e),this.options,e)};Pi.prototype.parseInline=function(t,e){var r=new this.core.State(t,this,e);return r.inlineMode=!0,this.core.process(r),r.tokens};Pi.prototype.renderInline=function(t,e){return e=e||{},this.renderer.render(this.parseInline(t,e),this.options,e)};n9.exports=Pi});var s9=I((Tje,o9)=>{"use strict";o9.exports=i9()});var D5=I((hBe,n0e)=>{n0e.exports={name:"remote-containers",displayName:"Remote - Containers",description:"Open any folder or repository inside a Docker container and take advantage of Visual Studio Code's full feature set.",version:"0.238.3",preview:!0,publisher:"ms-vscode-remote",icon:"resources/remote-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.64.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"Opening a folder in a container requires workspace trust."},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","development container"],aiKey:"AIF-d9b70cd4-b9f9-4d70-929b-a071c400b217",activationEvents:["onStartupFinished","onCommand:remote-containers.reopenInContainer","onCommand:remote-containers.rebuildAndReopenInContainer","onCommand:remote-containers.rebuildNoCacheAndReopenInContainer","onCommand:remote-containers.reopenLocally","onCommand:remote-containers.reopenInWSL","onCommand:remote-containers.reopenInSSH","onCommand:remote-containers.openFolder","onCommand:remote-containers.openRepositoryInVolume","onCommand:remote-containers.openRepositoryInUniqueVolume","onCommand:remote-containers.openRepositoryFromRemoteHub","onCommand:remote-containers.openPullRequestInVolume","onCommand:remote-containers.inspectVolume","onCommand:remote-containers.inspectVolumeFromViewlet","onCommand:remote-containers.inspectInBasicDevContainer","onCommand:remote-containers.cloneInVolumeFromViewlet","onCommand:remote-containers.pruneVolumes","onCommand:remote-containers.openWorkspace","onCommand:remote-containers.attachToRunningContainer","onCommand:remote-containers.attachToRunningContainerFromViewlet","onCommand:remote-containers.attachToK8sContainerFromViewlet","onCommand:remote-containers.checkoutPRInVolume","onCommand:remote-containers.rebuildContainer","onCommand:remote-containers.rebuildContainerNoCache","onCommand:remote-containers.createDevContainerFile","onCommand:remote-containers.openDevContainerFile","onCommand:remote-containers.openAttachDevContainerFile","onCommand:remote-containers.settings","onCommand:remote-containers.getHelp","onCommand:remote-containers.getStarted","onCommand:remote-containers.trySample","onCommand:remote-containers.reportIssue","onCommand:remote-containers.provideFeedback","onCommand:remote-containers.revealLogTerminal","onCommand:remote-containers.openLogFile","onCommand:remote-containers.openLastLogFile","onCommand:remote-containers.addExtensionToConfig","onCommand:remote-containers.showReopenInContainerNotificationReset","onCommand:remote-containers.showRecoveryContainerNotificationReset","onCommand:remote-containers.labelPortAndUpdateConfig","onCommand:remote-containers.installDocker","onCommand:remote-containers.installUserCLI","onCommand:remote-containers.configureContainerFeatures","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost","onView:targetsContainers"],main:"./dist/extension/extension",enabledApiProposals:["resolvers","workspaceTrust","terminalDimensions","contribViewsRemote"],contributes:{virtualWorkspaces:{menus:{continueOn:[{command:"remote-containers.openRepositoryFromRemoteHub",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders"}]}},languages:[{id:"jsonc",filenames:["devcontainer-features.json"]}],jsonValidation:[{fileMatch:"devcontainer-features.json",url:"./schemas/devcontainer-features.schema.json"}],configuration:{title:"Remote - Containers",properties:{"remote.containers.defaultExtensions":{scope:"application",type:"array",description:"Configures the list of extensions to always install while creating a container.",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"Expected format '${publisher}.${name}'. Example: 'vscode.csharp'."}},"remote.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["Perfect consistency.","The host\u2019s view is authoritative.","The container\u2019s view is authoritative."],description:"The consistency level used for the workspace mount (existing containers must be rebuilt to take effect).",default:"cached"},"remote.containers.cacheVolume":{scope:"application",type:"boolean",description:"Controls whether a Docker volume should be used to cache the VS Code server and extensions. Currently only applies to single container and not Docker Compose configurations.",default:!0},"remote.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"Controls whether the Git configuration (`~/.gitconfig`) should be copied into the container. This is done after installing any `#dotfiles.repository#` and will not overwrite an existing Git configuration file.",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["Write to system config (`/etc/gitconfig`, requires root access).","Write to user config (`~/.gitconfig`).","Do not set a credential helper."],description:"Where to write the configuration for the Git credential helper.",default:"global"},"remote.containers.logLevel":{scope:"application",type:"string",description:"The log level for the extension.",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",type:"string",description:"Docker (or Podman) executable name or path.",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",type:"string",description:"Docker Compose executable name or path.",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",type:"boolean",description:"Controls whether CLI commands should always be executed in WSL. The default is to only execute in WSL for workspace folders in WSL. This setting has no effect on other platforms than Windows.",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"WSL distro to use when not reopening a WSL folder. The default is to use the default WSL distro (see `wsl -l`). This setting has no effect when `#remote.containers.executeInWSL#` is not enabled or on other platforms than Windows."},"dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository."},"dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository. Defaults to run the first file of `install.sh`, `install`, `bootstrap.sh`, `bootstrap`, `setup.sh` and `setup` found in the dotfiles repository's root folder."},"dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to. Defaults to `~/dotfiles`.",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",type:"string",description:"URL of a dotfiles Git repository (e.g., https://github.com/owner/repository.git) or owner/repository of a GitHub repository for DevContainers. This overrides the common setting for the dotfiles repository."},"remote.containers.dotfiles.installCommand":{scope:"machine",type:"string",description:"The command to run after cloning the dotfiles repository for DevContainers. This overrides the common setting for the dotfiles install command."},"remote.containers.dotfiles.targetPath":{scope:"machine",type:"string",description:"The path to clone the dotfiles repository to for DevContainers. This overrides the common setting for the dotfiles target path."},"remote.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"List of additional paths to search for [repository configurations](https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers).",default:[],items:{type:"string"}}}},commands:[{command:"remote-containers.reopenInContainer",title:"Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildAndReopenInContainer",title:"Rebuild and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"Rebuild Without Cache and Reopen in Container",category:"Remote-Containers"},{command:"remote-containers.reopenLocally",title:"Reopen Folder Locally",category:"Remote-Containers"},{command:"remote-containers.reopenInWSL",title:"Reopen Folder in WSL",category:"Remote-Containers"},{command:"remote-containers.reopenInSSH",title:"Reopen Folder in SSH",category:"Remote-Containers"},{command:"remote-containers.openFolder",title:"Open Folder in Container...",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.startAndOpenFolder",title:"Open Folder in Container",category:"Remote-Containers",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openRepositoryInVolume",title:"Clone Repository in Named Container Volume...",category:"Remote-Containers"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"Clone Repository in Container Volume...",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openRepositoryFromRemoteHub",title:"Clone Repository in a Container Volume",icon:"$(repo-clone)",category:"Remote-Containers"},{command:"remote-containers.openPullRequestInVolume",title:"Clone GitHub Pull Request in Container Volume...",category:"Remote-Containers"},{command:"remote-containers.inspectVolume",title:"Explore a Volume in a Development Container...",category:"Remote-Containers"},{command:"remote-containers.openWorkspace",title:"Open Workspace in Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainer",title:"Attach to Running Container...",category:"Remote-Containers"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.inspectVolumeFromViewlet",title:"Explore in a Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"Clone into existing Volume",category:"Remote-Containers"},{command:"remote-containers.pruneVolumes",title:"Remove Unused Volumes...",category:"Remote-Containers",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"Refresh",category:"Remote-Containers",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"Attach Visual Studio Code",category:"Remote-Containers"},{command:"remote-containers.rebuildContainer",title:"Rebuild Container",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"Rebuild Container Without Cache",category:"Remote-Containers",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"Add Development Container Configuration Files...",category:"Remote-Containers"},{command:"remote-containers.settings",title:"Settings for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getHelp",title:"Help for Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.getStarted",title:"Getting Started with Remote-Containers",category:"Remote-Containers"},{command:"remote-containers.trySample",title:"Try a Development Container Sample...",category:"Remote-Containers"},{command:"remote-containers.reportIssue",title:"Report Issue with Remote-Containers...",category:"Remote-Containers"},{command:"remote-containers.provideFeedback",title:"Provide Feedback",category:"Remote-Containers"},{command:"remote-containers.openDevContainerFile",title:"Open Container Configuration File",category:"Remote-Containers",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"Open Named Container Configuration File",category:"Remote-Containers"},{command:"remote-containers.openAttachDevContainerFile",title:"Open Attached Container Configuration File...",category:"Remote-Containers"},{command:"remote-containers.revealLogTerminal",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.openLogFile",title:"Show All Logs...",category:"Remote-Containers Developer"},{command:"remote-containers.openLastLogFile",title:"Show Previous Log",category:"Remote-Containers"},{command:"remote-containers.attachToContainer",title:"Attach to Container",category:"Remote-Containers",icon:{light:"resources/light/empty-window.svg",dark:"resources/dark/empty-window.svg"}},{command:"remote-containers.attachToContainerNewWindow",title:"Attach in New Window",category:"Remote-Containers"},{command:"remote-containers.stopContainer",title:"Stop Container",category:"Remote-Containers"},{command:"remote-containers.startContainer",title:"Start Container",category:"Remote-Containers",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"Remove Container",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"Remove Recent Folder",category:"Remote-Containers",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"Show Details",category:"Remote-Containers"},{command:"remote-containers.explorerTargetsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"Refresh",category:"Remote-Containers",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"Inspect",category:"Remote-Containers"},{command:"remote-containers.inspectInBasicDevContainer",title:"Explore in Development Container",category:"Remote-Containers"},{command:"remote-containers.cloneInVolume",title:"Clone Repository in Volume",category:"Remote-Containers"},{command:"remote-containers.removeVolume",title:"Remove",category:"Remote-Containers"},{command:"remote-containers.newContainer",title:"New Container",category:"Remote-Containers",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"Show Container Log",category:"Remote-Containers"},{command:"remote-containers.addExtensionToConfig",title:"Add to devcontainer.json",category:"Remote-Containers"},{command:"remote-containers.checkoutPRInVolume",title:"Checkout Pull Request in Dev Container",category:"Remote-Containers"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"Reset Don't Show Reopen Notification",category:"Remote-Containers"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"Reset Don't Show Recovery Container Notification",category:"Remote-Containers"},{command:"remote-containers.labelPortAndUpdateConfig",title:"Set Label and Update devcontainer.json",category:"Remote-Containers",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"Install Docker",category:"Remote-Containers"},{command:"remote-containers.installUserCLI",title:"Install devcontainer CLI",category:"Remote-Containers"},{command:"remote-containers.configureContainerFeatures",title:"Configure Container Features...",category:"Remote-Containers"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHub",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote)?$/"},{command:"remote-containers.getStarted",when:"false"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainer",when:"false"},{command:"remote-containers.attachToContainerNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.startAndOpenFolder",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@1",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@2",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@4",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^(dev-container|wsl|ssh-remote)$/"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",group:"remote_30_dev-container_2_actions@7",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.getStarted",group:"remote_30_dev-container_2_actions@8",when:"remoteName =~ /^(wsl|ssh-remote)$/"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_1_actions@1",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_1_actions@1",when:"canReopenInSSH"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_1_actions@2",when:"canReopenLocally"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_1_actions@3",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.openDevContainerFile",group:"remote_30_dev-container_1_actions@4",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.revealLogTerminal",group:"remote_30_dev-container_1_actions@5",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_1_actions@6",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_1_actions@8",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/ && remoteConnectionState == connected"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_1_actions@9",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.settings",group:"remote_30_dev-container_9_help@1",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.reportIssue",group:"remote_30_dev-container_9_help@2",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.getHelp",group:"remote_30_dev-container_9_help@4",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainer",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.startAndOpenFolder",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@2"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@1"},{command:"remote-containers.attachToContainer",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"inline@1"},{command:"remote-containers.attachToContainerNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container/",group:"1_container@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@2"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Dev Container"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Container"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Exec"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"Kubernetes"}}],views:{remote:[{id:"targetsContainers",name:"Containers",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"Details (Containers)",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"DevVolumes",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"Get started with containers by [installing Docker](command:remote-containers.installDocker) or by visiting the [help view](command:~remote.helpPanel.focus). [Refresh](command:remote-containers.explorerTargetsRefresh) after installation and startup."},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"[Refresh](command:remote-containers.explorerTargetsRefresh) to provide SSH credentials."},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can [reopen the current folder in a container](command:remote-containers.reopenInContainer), or open another folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:`Get started with containers by running one of the [Remote-Containers](command:remote-containers.newContainer) commands.
You can open an existing folder in a container.
[Open Folder in Container](command:remote-containers.openFolder)
If you're new to containers and want to [try a sample](command:remote-containers.trySample), there are several to choose from.`},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:`If there's a repository you want to work with you can clone that directly in a container volume.
[Clone Repository in Container Volume](command:remote-containers.openRepositoryInUniqueVolume)
`}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",feedback:"https://aka.ms/vscode-remote/containers/provide-feedback",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npm-run-all clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npm-run-all clean-dist definitions compile-dev",watch:"npm-run-all clean-dist definitions compile-watch",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npm-run-all definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --ext .ts ./src ./test","compile-prod":"node esbuild.js --production","compile-dev":"node esbuild.js","compile-watch":"node esbuild.js --watch","type-check":"npm-run-all clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npm-run-all clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dist',"dev-containers-cli-publish":"npm-run-all dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npm-run-all dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npm-run-all clean dev-containers-cli-compile dev-containers-cli-copy-module dev-containers-cli-copy-definitions","dev-containers-cli-compile":"npm-run-all compile-prod","dev-containers-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-cli',"dev-containers-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-cli/dist',"dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npm-run-all dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npm-run-all dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npm-run-all clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --all "node_modules/vscode-dev-containers/**/*" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npm-run-all clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},devDependencies:{"@types/chai":"^4.3.0","@types/follow-redirects":"^1.13.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^9.1.0","@types/node":"^16.11.7","@types/pull-stream":"^3.6.2","@types/semver":"^7.3.9","@types/shell-quote":"^1.7.1","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.1","@types/uuid":"^8.3.4","@types/vscode":"^1.63.1","@types/yargs":"^17.0.8","@typescript-eslint/eslint-plugin":"^4.31.2","@typescript-eslint/parser":"^4.31.2",ajv:"^8.9.0",chai:"^4.3.4",copyfiles:"^2.4.1",esbuild:"^0.13.14",eslint:"^7.32.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^7.0.4",jsonc:"^2.0.0",mocha:"^9.2.1","mocha-junit-reporter":"^2.0.2","npm-run-all":"^4.1.5","p-all":"^4.0.0",rimraf:"^3.0.2","ts-node":"^10.4.0",typescript:"^4.5.5","typescript-formatter":"^7.2.2",vinyl:"^2.2.1","vinyl-fs":"^3.0.3",vsce:"^2.6.7"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git","@vscode/extension-telemetry":"^0.6.2",applicationinsights:"^2.2.0","find-process":"^1.4.7","follow-redirects":"^1.14.8","js-yaml":"^4.1.0","jsonc-parser":"^3.0.0","markdown-it":"^12.3.2",minimist:"^1.2.6",muxrpc:"^6.5.4","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.6.14","pull-stream-to-stream":"^2.0.0",semver:"^7.3.5","shell-quote":"^1.7.3","stats-lite":"^2.2.0","stream-to-pull-stream":"^1.7.3",tar:"^6.1.11",uuid:"^8.3.2","vscode-dev-containers":"https://github.com/microsoft/vscode-dev-containers/releases/download/v0.238.0/vscode-dev-containers-0.238.0.tgz","vscode-tas-client":"^0.1.27","vscode-uri":"^3.0.3",yaml:"^2.0.0-10",yargs:"~17.0.1"}}});rb(exports,{activate:()=>i0e,attachToContainer:()=>$0,deactivate:()=>c0e});var B=te(require("vscode")),R5=te(require("os")),H0=te(require("fs")),wr=te(require("path")),O5=te(require("querystring"));var Vt=te(require("fs")),no=te(require("util"));function zt(t){return new Promise(e=>Vt.stat(t,(r,n)=>e(!r&&n.isFile())))}function id(t){return new Promise(e=>Vt.stat(t,(r,n)=>e(!r&&n.isDirectory())))}var tt=(0,no.promisify)(Vt.readFile),od=(0,no.promisify)(Vt.writeFile),D0e=(0,no.promisify)(Vt.appendFile),jo=(0,no.promisify)(Vt.rename),Qn=(0,no.promisify)(Vt.readdir),pA=(0,no.promisify)(Vt.unlink),Tn=t=>new Promise((e,r)=>Vt.mkdir(t,{recursive:!0},n=>n?r(n):e())),hA=(0,no.promisify)(Vt.rmdir),Ps=(0,no.promisify)(Vt.rm),R0e=(0,no.promisify)(Vt.copyFile),sd;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(sd||(sd={}));var at=te(require("vscode")),UT=te(require("path"));var $n=te(require("path")),Hoe=te(require("crypto")),_U=te(Yl());var uo=te(OO()),Ube=uo.default.v1,Bbe=uo.default.v3,Nn=uo.default.v4,Hbe=uo.default.v5,Vbe=uo.default.NIL,zbe=uo.default.version,Gbe=uo.default.validate,Wbe=uo.default.stringify,Kbe=uo.default.parse;var LO=te(require("os")),kd=te(require("fs")),FO=te(require("path"));async function NO(t,e){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:await e,package:await t,getTelemetryLevel:()=>"off"}}var he;(function(a){a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off"})(he||(he={}));var RE={info:3,debug:2,trace:1},sQ=Object.keys(RE).reduce((t,e)=>(t[RE[e]]=e,t),[]);function MO(t){return RE[t]||3}function $s(t){return sQ[t]||3}var Rt={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Us=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function qO(t,e){let r=!!e;return{event:n=>{r&&(r=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(n))}}}function jO(t,e){let r=lQ(t);return{event(n){let i=cQ(n,e());i&&r.write(i)},join:r.join}}function $O(t,e,r){return{event(n){let i=aQ(n,e(),r.getTime());i&&t(i)}}}function Hr(t,e=2){return{event:t.event,write(r,n=e){t.event({type:"text",level:n,timestamp:Date.now(),text:r})},raw(r,n=e){t.event({type:"raw",level:n,timestamp:Date.now(),text:r})},start(r,n=e){let i=Date.now();return t.event({type:"start",level:n,timestamp:i,text:r}),i},stop(r,n,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:r,startTimestamp:n})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function aQ(t,e,r){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":return`[${Id(HO,`${t.timestamp-r} ms`)}] ${Ug(t.text)}`;case"raw":return t.text;case"start":return 1>=e?`${Id(pQ,`[${t.timestamp-r} ms] Start`)}: ${Ug(t.text)}`:`[${Id(HO,`${t.timestamp-r} ms`)}] Start: ${Ug(t.text)}`;case"stop":return 1>=e?`${Id(dQ,`[${t.timestamp-r} ms] Stop`)} (${t.timestamp-t.startTimestamp} ms): ${Ug(t.text)}`:void 0;default:throw UO(t)}}function Ug(t){return mQ(t).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function cQ(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${OE(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${OE(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${OE(t.text)}`:void 0;default:throw UO(t)}}function OE(t){return t.replace(Us,"").replace(/(\r?\n)?$/,LO.EOL)}function UO(t){return new Error(`Unknown log event type: ${t.type}`)}function lQ(t){let e=[],r=!1,n,i;function o(){r=!1,i&&!e.length&&(n=void 0,i(),i=void 0)}function s(a,c=!1){if(a&&e.push(a),!c&&!r&&e.length){r=!0;let l=e.join("");e.length=0,kd.appendFile(t,l,u=>{u&&(u.code==="ENOENT"?kd.mkdir(FO.dirname(t),{recursive:!0},f=>{f?(o(),console.error(f)):kd.appendFile(t,l,d=>{o(),d&&console.error(d),s()})}):(o(),console.error(u))),o(),s()})}}return{write:s,join:()=>n||(r?n=new Promise(a=>i=a):Promise.resolve())}}var uQ="38;2;143;99;79",BO="38;2;99;143;79",fQ="38;2;86;156;214",dQ=uQ,pQ=BO,HO=BO,hQ=fQ;function Id(t,e){return e.split(`
`).map(r=>`[1m[${t}m${r}[39m[22m`).join(`
`)}function mQ(t){let e,r=0,n=[];for(Us.lastIndex=0;e=Us.exec(t);)n.push(VO(t.substring(r,e.index))),n.push(e[0]),r=Us.lastIndex;return n.push(VO(t.substr(r))),n.join("")}function VO(t){let e=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,r,n=0,i=[];for(;r=e.exec(t);)i.push(t.substring(n,r.index)),i.push(Id(hQ,r[0])),n=e.lastIndex;return i.push(t.substr(n)),i.join("")}function it(t){return t.split(/\r?\n/).map(e=>`[1m[31m${e}[39m[22m`).join(`\r
`)+`\r
`}function NE(t){return t.split(/\r?\n/).map(e=>`[1m[33m${e}[39m[22m`).join(`\r
`)+`\r
`}var $e=class extends Error{constructor(e){super(e.originalError&&e.originalError.message||e.description);this.manageContainer=!1;this.actions=[];this.data={};var r;Object.assign(this,e),((r=this.originalError)==null?void 0:r.stack)&&(this.stack=this.originalError.stack)}};var Oe=te(require("path")),Nv=te(require("fs")),wM=te(Zl()),U_=te(require("string_decoder")),Lv=te(Yl());"use strict";function Ad(t,e){e===void 0&&(e=!1);var r=t.length,n=0,i="",o=0,s=16,a=0,c=0,l=0,u=0,f=0;function d(C,b){for(var _=0,P=0;_<C||!b;){var S=t.charCodeAt(n);if(S>=48&&S<=57)P=P*16+S-48;else if(S>=65&&S<=70)P=P*16+S-65+10;else if(S>=97&&S<=102)P=P*16+S-97+10;else break;n++,_++}return _<C&&(P=-1),P}function p(C){n=C,i="",o=0,s=16,f=0}function h(){var C=n;if(t.charCodeAt(n)===48)n++;else for(n++;n<t.length&&eu(t.charCodeAt(n));)n++;if(n<t.length&&t.charCodeAt(n)===46)if(n++,n<t.length&&eu(t.charCodeAt(n)))for(n++;n<t.length&&eu(t.charCodeAt(n));)n++;else return f=3,t.substring(C,n);var b=n;if(n<t.length&&(t.charCodeAt(n)===69||t.charCodeAt(n)===101))if(n++,(n<t.length&&t.charCodeAt(n)===43||t.charCodeAt(n)===45)&&n++,n<t.length&&eu(t.charCodeAt(n))){for(n++;n<t.length&&eu(t.charCodeAt(n));)n++;b=n}else f=3;return t.substring(C,b)}function m(){for(var C="",b=n;;){if(n>=r){C+=t.substring(b,n),f=2;break}var _=t.charCodeAt(n);if(_===34){C+=t.substring(b,n),n++;break}if(_===92){if(C+=t.substring(b,n),n++,n>=r){f=2;break}var P=t.charCodeAt(n++);switch(P){case 34:C+='"';break;case 92:C+="\\";break;case 47:C+="/";break;case 98:C+="\b";break;case 102:C+="\f";break;case 110:C+=`
`;break;case 114:C+="\r";break;case 116:C+="	";break;case 117:var S=d(4,!0);S>=0?C+=String.fromCharCode(S):f=4;break;default:f=5}b=n;continue}if(_>=0&&_<=31)if(Dd(_)){C+=t.substring(b,n),f=2;break}else f=6;n++}return C}function g(){if(i="",f=0,o=n,c=a,u=l,n>=r)return o=r,s=17;var C=t.charCodeAt(n);if(BE(C)){do n++,i+=String.fromCharCode(C),C=t.charCodeAt(n);while(BE(C));return s=15}if(Dd(C))return n++,i+=String.fromCharCode(C),C===13&&t.charCodeAt(n)===10&&(n++,i+=`
`),a++,l=n,s=14;switch(C){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=m(),s=10;case 47:var b=n-1;if(t.charCodeAt(n+1)===47){for(n+=2;n<r&&!Dd(t.charCodeAt(n));)n++;return i=t.substring(b,n),s=12}if(t.charCodeAt(n+1)===42){n+=2;for(var _=r-1,P=!1;n<_;){var S=t.charCodeAt(n);if(S===42&&t.charCodeAt(n+1)===47){n+=2,P=!0;break}n++,Dd(S)&&(S===13&&t.charCodeAt(n)===10&&n++,a++,l=n)}return P||(n++,f=1),i=t.substring(b,n),s=13}return i+=String.fromCharCode(C),n++,s=16;case 45:if(i+=String.fromCharCode(C),n++,n===r||!eu(t.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<r&&v(C);)n++,C=t.charCodeAt(n);if(o!==n){switch(i=t.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(C),n++,s=16}}function v(C){if(BE(C)||Dd(C))return!1;switch(C){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function y(){var C;do C=g();while(C>=12&&C<=15);return C}return{setPosition:p,getPosition:function(){return n},scan:e?y:g,getToken:function(){return s},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-u},getTokenError:function(){return f}}}function BE(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function Dd(t){return t===10||t===13||t===8232||t===8233}function eu(t){return t>=48&&t<=57}"use strict";function HE(t,e,r){var n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!Rd(t,o-1);)o--;for(var c=a;c<t.length&&!Rd(t,c);)c++;i=t.substring(o,c),n=KQ(i,r)}else i=t,n=0,o=0,s=0,a=t.length;var l=YQ(r,t),u=!1,f=0,d;r.insertSpaces?d=VE(" ",r.tabSize||4):d="	";var p=Ad(i,!1),h=!1;function m(){return l+VE(d,n+f)}function g(){var q=p.scan();for(u=!1;q===15||q===14;)u=u||q===14,q=p.scan();return h=q===16||p.getTokenError()!==0,q}var v=[];function y(q,J,Y){!h&&(!e||J<a&&Y>s)&&t.substring(J,Y)!==q&&v.push({offset:J,length:Y-J,content:q})}var C=g();if(C!==17){var b=p.getTokenOffset()+o,_=VE(d,n);y(_,o,b)}for(;C!==17;){for(var P=p.getTokenOffset()+p.getTokenLength()+o,S=g(),x="",T=!1;!u&&(S===12||S===13);){var A=p.getTokenOffset()+o;y(" ",P,A),P=p.getTokenOffset()+p.getTokenLength()+o,T=S===12,x=T?m():"",S=g()}if(S===2)C!==1&&(f--,x=m());else if(S===4)C!==3&&(f--,x=m());else{switch(C){case 3:case 1:f++,x=m();break;case 5:case 12:x=m();break;case 13:u?x=m():T||(x=" ");break;case 6:T||(x=" ");break;case 10:if(S===6){T||(x="");break}case 7:case 8:case 9:case 11:case 2:case 4:S===12||S===13?T||(x=" "):S!==5&&S!==17&&(h=!0);break;case 16:h=!0;break}u&&(S===12||S===13)&&(x=m())}S===17&&(x=r.insertFinalNewline?l:"");var N=p.getTokenOffset()+o;y(x,P,N),C=S}return v}function VE(t,e){for(var r="",n=0;n<e;n++)r+=t;return r}function KQ(t,e){for(var r=0,n=0,i=e.tabSize||4;r<t.length;){var o=t.charAt(r);if(o===" ")n++;else if(o==="	")n+=i;else break;r++}return Math.floor(n/i)}function YQ(t,e){for(var r=0;r<e.length;r++){var n=e.charAt(r);if(n==="\r")return r+1<e.length&&e.charAt(r+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return t&&t.eol||`
`}function Rd(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}"use strict";var Od;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Od||(Od={}));function fN(t,e){var r=[],n=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,l,u,f){o.value=c,o.offset=l,o.length=u,o.type=f,o.colonOffset=void 0,i=o}try{Jg(t,{onObjectBegin:function(c,l){if(e<=c)throw n;i=void 0,s=e>c,r.push("")},onObjectProperty:function(c,l,u){if(e<l||(a(c,l,u,"property"),r[r.length-1]=c,e<=l+u))throw n},onObjectEnd:function(c,l){if(e<=c)throw n;i=void 0,r.pop()},onArrayBegin:function(c,l){if(e<=c)throw n;i=void 0,r.push(0)},onArrayEnd:function(c,l){if(e<=c)throw n;i=void 0,r.pop()},onLiteralValue:function(c,l,u){if(e<l||(a(c,l,u,pN(c)),e<=l+u))throw n},onSeparator:function(c,l,u){if(e<=l)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=l,s=!1,i=void 0;else if(c===","){var f=r[r.length-1];typeof f=="number"?r[r.length-1]=f+1:(s=!0,r[r.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:r,previousNode:i,isAtPropertyKey:s,matches:function(c){for(var l=0,u=0;l<c.length&&u<r.length;u++)if(c[l]===r[u]||c[l]==="*")l++;else if(c[l]!=="**")return!1;return l===c.length}}}function dN(t,e,r){e===void 0&&(e=[]),r===void 0&&(r=Od.DEFAULT);var n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}var a={onObjectBegin:function(){var c={};s(c),o.push(i),i=c,n=null},onObjectProperty:function(c){n=c},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(c,l,u){e.push({error:c,offset:l,length:u})}};return Jg(t,a,r),i[0]}function Kg(t,e,r){e===void 0&&(e=[]),r===void 0&&(r=Od.DEFAULT);var n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}var s={onObjectBegin:function(c){n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:function(c,l,u){n=o({type:"property",offset:l,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:l,length:u,parent:n})},onObjectEnd:function(c,l){i(c+l),n.length=c+l-n.offset,n=n.parent,i(c+l)},onArrayBegin:function(c,l){n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:function(c,l){n.length=c+l-n.offset,n=n.parent,i(c+l)},onLiteralValue:function(c,l,u){o({type:pN(c),offset:l,length:u,parent:n,value:c}),i(l+u)},onSeparator:function(c,l,u){n.type==="property"&&(c===":"?n.colonOffset=l:c===","&&i(l))},onError:function(c,l,u){e.push({error:c,offset:l,length:u})}};Jg(t,s,r);var a=n.children[0];return a&&delete a.parent,a}function Nd(t,e){if(!!t){for(var r=t,n=0,i=e;n<i.length;n++){var o=i[n];if(typeof o=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;for(var s=!1,a=0,c=r.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){r=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if(r.type!=="array"||u<0||!Array.isArray(r.children)||u>=r.children.length)return;r=r.children[u]}}return r}}function Yg(t){switch(t.type){case"array":return t.children.map(Yg);case"object":for(var e=Object.create(null),r=0,n=t.children;r<n.length;r++){var i=n[r],o=i.children[1];o&&(e[i.children[0].value]=Yg(o))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}}function Jg(t,e,r){r===void 0&&(r=Od.DEFAULT);var n=Ad(t,!1);function i(T){return T?function(){return T(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}function o(T){return T?function(A){return T(A,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:function(){return!0}}var s=i(e.onObjectBegin),a=o(e.onObjectProperty),c=i(e.onObjectEnd),l=i(e.onArrayBegin),u=i(e.onArrayEnd),f=o(e.onLiteralValue),d=o(e.onSeparator),p=i(e.onComment),h=o(e.onError),m=r&&r.disallowComments,g=r&&r.allowTrailingComma;function v(){for(;;){var T=n.scan();switch(n.getTokenError()){case 4:y(14);break;case 5:y(15);break;case 3:y(13);break;case 1:m||y(11);break;case 2:y(12);break;case 6:y(16);break}switch(T){case 12:case 13:m?y(10):p();break;case 16:y(1);break;case 15:case 14:break;default:return T}}}function y(T,A,N){if(A===void 0&&(A=[]),N===void 0&&(N=[]),h(T),A.length+N.length>0)for(var q=n.getToken();q!==17;){if(A.indexOf(q)!==-1){v();break}else if(N.indexOf(q)!==-1)break;q=v()}}function C(T){var A=n.getTokenValue();return T?f(A):a(A),v(),!0}function b(){switch(n.getToken()){case 11:var T=n.getTokenValue(),A=Number(T);isNaN(A)&&(y(2),A=0),f(A);break;case 7:f(null);break;case 8:f(!0);break;case 9:f(!1);break;default:return!1}return v(),!0}function _(){return n.getToken()!==10?(y(3,[],[2,5]),!1):(C(!1),n.getToken()===6?(d(":"),v(),x()||y(4,[],[2,5])):y(5,[],[2,5]),!0)}function P(){s(),v();for(var T=!1;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(T||y(4,[],[]),d(","),v(),n.getToken()===2&&g)break}else T&&y(6,[],[]);_()||y(4,[],[2,5]),T=!0}return c(),n.getToken()!==2?y(7,[2],[]):v(),!0}function S(){l(),v();for(var T=!1;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(T||y(4,[],[]),d(","),v(),n.getToken()===4&&g)break}else T&&y(6,[],[]);x()||y(4,[],[4,5]),T=!0}return u(),n.getToken()!==4?y(8,[4],[]):v(),!0}function x(){switch(n.getToken()){case 3:return S();case 1:return P();case 10:return C(!0);default:return b()}}return v(),n.getToken()===17?r.allowEmptyContent?!0:(y(4,[],[]),!1):x()?(n.getToken()!==17&&y(9,[],[]),!0):(y(4,[],[]),!1)}function pN(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}"use strict";function hN(t,e,r,n){for(var i,o=e.slice(),s=[],a=Kg(t,s),c=void 0,l=void 0;o.length>0&&(l=o.pop(),c=Nd(a,o),c===void 0&&r!==void 0);)typeof l=="string"?r=(i={},i[l]=r,i):r=[r];if(c)if(c.type==="object"&&typeof l=="string"&&Array.isArray(c.children)){var u=Nd(c,[l]);if(u!==void 0)if(r===void 0){if(!u.parent)throw new Error("Malformed AST");var f=c.children.indexOf(u.parent),d=void 0,p=u.parent.offset+u.parent.length;if(f>0){var h=c.children[f-1];d=h.offset+h.length}else if(d=c.offset+1,c.children.length>1){var m=c.children[1];p=m.offset}return dc(t,{offset:d,length:p-d,content:""},n)}else return dc(t,{offset:u.offset,length:u.length,content:JSON.stringify(r)},n);else{if(r===void 0)return[];var g=JSON.stringify(l)+": "+JSON.stringify(r),v=n.getInsertionIndex?n.getInsertionIndex(c.children.map(function(T){return T.children[0].value})):c.children.length,y=void 0;if(v>0){var h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}else c.children.length===0?y={offset:c.offset+1,length:0,content:g}:y={offset:c.offset+1,length:0,content:g+","};return dc(t,y,n)}}else if(c.type==="array"&&typeof l=="number"&&Array.isArray(c.children)){var C=l;if(C===-1){var g=""+JSON.stringify(r),y=void 0;if(c.children.length===0)y={offset:c.offset+1,length:0,content:g};else{var h=c.children[c.children.length-1];y={offset:h.offset+h.length,length:0,content:","+g}}return dc(t,y,n)}else if(r===void 0&&c.children.length>=0){var b=l,_=c.children[b],y=void 0;if(c.children.length===1)y={offset:c.offset+1,length:c.length-2,content:""};else if(c.children.length-1===b){var h=c.children[b-1],P=h.offset+h.length,S=c.offset+c.length;y={offset:P,length:S-2-P,content:""}}else y={offset:_.offset,length:c.children[b+1].offset-_.offset,content:""};return dc(t,y,n)}else if(r!==void 0){var y=void 0,g=""+JSON.stringify(r);if(!n.isArrayInsertion&&c.children.length>l){var x=c.children[l];y={offset:x.offset,length:x.length,content:g}}else if(c.children.length===0||l===0)y={offset:c.offset+1,length:0,content:c.children.length===0?g:g+","};else{var v=l>c.children.length?c.children.length:l,h=c.children[v-1];y={offset:h.offset+h.length,length:0,content:","+g}}return dc(t,y,n)}else throw new Error("Can not "+(r===void 0?"remove":n.isArrayInsertion?"insert":"modify")+" Array index "+C+" as length is not sufficient")}else throw new Error("Can not add "+(typeof l!="number"?"index":"property")+" to parent of type "+c.type);else{if(r===void 0)throw new Error("Can not delete in empty document");return dc(t,{offset:a?a.offset:0,length:a?a.length:0,content:JSON.stringify(r)},n)}}function dc(t,e,r){if(!r.formattingOptions)return[e];var n=Qg(t,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!Rd(n,i-1);)i--;for(;o<n.length&&!Rd(n,o);)o++}for(var s=HE(n,{offset:i,length:o-i},r.formattingOptions),a=s.length-1;a>=0;a--){var c=s[a];n=Qg(n,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}var l=t.length-(n.length-o)-i;return[{offset:i,length:l,content:n.substring(i,o)}]}function Qg(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}"use strict";var mN=fN,gt=dN,Xg=Kg,Bs=Nd;var Zg=Yg;function Ft(t,e,r,n){return hN(t,e,r,n)}function nr(t,e){for(var r=e.length-1;r>=0;r--)t=Qg(t,e[r]);return t}var CM=te(require("crypto")),bM=te(require("util"));var JZ=te(require("path")),R_=te(require("string_decoder"));var Ir=te(require("path")),VF=te(require("fs")),du=te(require("child_process")),A_=te(require("string_decoder"));var FF=te(require("path"));var gN;gN=(()=>{"use strict";var t={470:n=>{function i(a){if(typeof a!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(a))}function o(a,c){for(var l,u="",f=0,d=-1,p=0,h=0;h<=a.length;++h){if(h<a.length)l=a.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(d===h-1||p===1))if(d!==h-1&&p===2){if(u.length<2||f!==2||u.charCodeAt(u.length-1)!==46||u.charCodeAt(u.length-2)!==46){if(u.length>2){var m=u.lastIndexOf("/");if(m!==u.length-1){m===-1?(u="",f=0):f=(u=u.slice(0,m)).length-1-u.lastIndexOf("/"),d=h,p=0;continue}}else if(u.length===2||u.length===1){u="",f=0,d=h,p=0;continue}}c&&(u.length>0?u+="/..":u="..",f=2)}else u.length>0?u+="/"+a.slice(d+1,h):u=a.slice(d+1,h),f=h-d-1;d=h,p=0}else l===46&&p!==-1?++p:p=-1}return u}var s={resolve:function(){for(var a,c="",l=!1,u=arguments.length-1;u>=-1&&!l;u--){var f;u>=0?f=arguments[u]:(a===void 0&&(a=process.cwd()),f=a),i(f),f.length!==0&&(c=f+"/"+c,l=f.charCodeAt(0)===47)}return c=o(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(a){if(i(a),a.length===0)return".";var c=a.charCodeAt(0)===47,l=a.charCodeAt(a.length-1)===47;return(a=o(a,!c)).length!==0||c||(a="."),a.length>0&&l&&(a+="/"),c?"/"+a:a},isAbsolute:function(a){return i(a),a.length>0&&a.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var a,c=0;c<arguments.length;++c){var l=arguments[c];i(l),l.length>0&&(a===void 0?a=l:a+="/"+l)}return a===void 0?".":s.normalize(a)},relative:function(a,c){if(i(a),i(c),a===c||(a=s.resolve(a))===(c=s.resolve(c)))return"";for(var l=1;l<a.length&&a.charCodeAt(l)===47;++l);for(var u=a.length,f=u-l,d=1;d<c.length&&c.charCodeAt(d)===47;++d);for(var p=c.length-d,h=f<p?f:p,m=-1,g=0;g<=h;++g){if(g===h){if(p>h){if(c.charCodeAt(d+g)===47)return c.slice(d+g+1);if(g===0)return c.slice(d+g)}else f>h&&(a.charCodeAt(l+g)===47?m=g:g===0&&(m=0));break}var v=a.charCodeAt(l+g);if(v!==c.charCodeAt(d+g))break;v===47&&(m=g)}var y="";for(g=l+m+1;g<=u;++g)g!==u&&a.charCodeAt(g)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(d+m):(d+=m,c.charCodeAt(d)===47&&++d,c.slice(d))},_makeLong:function(a){return a},dirname:function(a){if(i(a),a.length===0)return".";for(var c=a.charCodeAt(0),l=c===47,u=-1,f=!0,d=a.length-1;d>=1;--d)if((c=a.charCodeAt(d))===47){if(!f){u=d;break}}else f=!1;return u===-1?l?"/":".":l&&u===1?"//":a.slice(0,u)},basename:function(a,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');i(a);var l,u=0,f=-1,d=!0;if(c!==void 0&&c.length>0&&c.length<=a.length){if(c.length===a.length&&c===a)return"";var p=c.length-1,h=-1;for(l=a.length-1;l>=0;--l){var m=a.charCodeAt(l);if(m===47){if(!d){u=l+1;break}}else h===-1&&(d=!1,h=l+1),p>=0&&(m===c.charCodeAt(p)?--p==-1&&(f=l):(p=-1,f=h))}return u===f?f=h:f===-1&&(f=a.length),a.slice(u,f)}for(l=a.length-1;l>=0;--l)if(a.charCodeAt(l)===47){if(!d){u=l+1;break}}else f===-1&&(d=!1,f=l+1);return f===-1?"":a.slice(u,f)},extname:function(a){i(a);for(var c=-1,l=0,u=-1,f=!0,d=0,p=a.length-1;p>=0;--p){var h=a.charCodeAt(p);if(h!==47)u===-1&&(f=!1,u=p+1),h===46?c===-1?c=p:d!==1&&(d=1):c!==-1&&(d=-1);else if(!f){l=p+1;break}}return c===-1||u===-1||d===0||d===1&&c===u-1&&c===l+1?"":a.slice(c,u)},format:function(a){if(a===null||typeof a!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof a);return function(c,l){var u=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return u?u===l.root?u+f:u+"/"+f:f}(0,a)},parse:function(a){i(a);var c={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return c;var l,u=a.charCodeAt(0),f=u===47;f?(c.root="/",l=1):l=0;for(var d=-1,p=0,h=-1,m=!0,g=a.length-1,v=0;g>=l;--g)if((u=a.charCodeAt(g))!==47)h===-1&&(m=!1,h=g+1),u===46?d===-1?d=g:v!==1&&(v=1):d!==-1&&(v=-1);else if(!m){p=g+1;break}return d===-1||h===-1||v===0||v===1&&d===h-1&&d===p+1?h!==-1&&(c.base=c.name=p===0&&f?a.slice(1,h):a.slice(p,h)):(p===0&&f?(c.name=a.slice(1,d),c.base=a.slice(1,h)):(c.name=a.slice(p,d),c.base=a.slice(p,h)),c.ext=a.slice(d,h)),p>0?c.dir=a.slice(0,p-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},447:(n,i,o)=>{var s;if(o.r(i),o.d(i,{URI:()=>y,Utils:()=>J}),typeof process=="object")s=process.platform==="win32";else if(typeof navigator=="object"){var a=navigator.userAgent;s=a.indexOf("Windows")>=0}var c,l,u=(c=function(j,F){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,$){D.__proto__=$}||function(D,$){for(var K in $)Object.prototype.hasOwnProperty.call($,K)&&(D[K]=$[K])})(j,F)},function(j,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");function D(){this.constructor=j}c(j,F),j.prototype=F===null?Object.create(F):(D.prototype=F.prototype,new D)}),f=/^\w[\w\d+.-]*$/,d=/^\//,p=/^\/\//;function h(j,F){if(!j.scheme&&F)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(j.authority,'", path: "').concat(j.path,'", query: "').concat(j.query,'", fragment: "').concat(j.fragment,'"}'));if(j.scheme&&!f.test(j.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(j.path){if(j.authority){if(!d.test(j.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(p.test(j.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var m="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,y=function(){function j(F,D,$,K,X,Q){Q===void 0&&(Q=!1),typeof F=="object"?(this.scheme=F.scheme||m,this.authority=F.authority||m,this.path=F.path||m,this.query=F.query||m,this.fragment=F.fragment||m):(this.scheme=function(ve,Te){return ve||Te?ve:"file"}(F,Q),this.authority=D||m,this.path=function(ve,Te){switch(ve){case"https":case"http":case"file":Te?Te[0]!==g&&(Te=g+Te):Te=g}return Te}(this.scheme,$||m),this.query=K||m,this.fragment=X||m,h(this,Q))}return j.isUri=function(F){return F instanceof j||!!F&&typeof F.authority=="string"&&typeof F.fragment=="string"&&typeof F.path=="string"&&typeof F.query=="string"&&typeof F.scheme=="string"&&typeof F.fsPath=="string"&&typeof F.with=="function"&&typeof F.toString=="function"},Object.defineProperty(j.prototype,"fsPath",{get:function(){return x(this,!1)},enumerable:!1,configurable:!0}),j.prototype.with=function(F){if(!F)return this;var D=F.scheme,$=F.authority,K=F.path,X=F.query,Q=F.fragment;return D===void 0?D=this.scheme:D===null&&(D=m),$===void 0?$=this.authority:$===null&&($=m),K===void 0?K=this.path:K===null&&(K=m),X===void 0?X=this.query:X===null&&(X=m),Q===void 0?Q=this.fragment:Q===null&&(Q=m),D===this.scheme&&$===this.authority&&K===this.path&&X===this.query&&Q===this.fragment?this:new b(D,$,K,X,Q)},j.parse=function(F,D){D===void 0&&(D=!1);var $=v.exec(F);return $?new b($[2]||m,q($[4]||m),q($[5]||m),q($[7]||m),q($[9]||m),D):new b(m,m,m,m,m)},j.file=function(F){var D=m;if(s&&(F=F.replace(/\\/g,g)),F[0]===g&&F[1]===g){var $=F.indexOf(g,2);$===-1?(D=F.substring(2),F=g):(D=F.substring(2,$),F=F.substring($)||g)}return new b("file",D,F,m,m)},j.from=function(F){var D=new b(F.scheme,F.authority,F.path,F.query,F.fragment);return h(D,!0),D},j.prototype.toString=function(F){return F===void 0&&(F=!1),T(this,F)},j.prototype.toJSON=function(){return this},j.revive=function(F){if(F){if(F instanceof j)return F;var D=new b(F);return D._formatted=F.external,D._fsPath=F._sep===C?F.fsPath:null,D}return F},j}(),C=s?1:void 0,b=function(j){function F(){var D=j!==null&&j.apply(this,arguments)||this;return D._formatted=null,D._fsPath=null,D}return u(F,j),Object.defineProperty(F.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=x(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),F.prototype.toString=function(D){return D===void 0&&(D=!1),D?T(this,!0):(this._formatted||(this._formatted=T(this,!1)),this._formatted)},F.prototype.toJSON=function(){var D={$mid:1};return this._fsPath&&(D.fsPath=this._fsPath,D._sep=C),this._formatted&&(D.external=this._formatted),this.path&&(D.path=this.path),this.scheme&&(D.scheme=this.scheme),this.authority&&(D.authority=this.authority),this.query&&(D.query=this.query),this.fragment&&(D.fragment=this.fragment),D},F}(y),_=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function P(j,F){for(var D=void 0,$=-1,K=0;K<j.length;K++){var X=j.charCodeAt(K);if(X>=97&&X<=122||X>=65&&X<=90||X>=48&&X<=57||X===45||X===46||X===95||X===126||F&&X===47)$!==-1&&(D+=encodeURIComponent(j.substring($,K)),$=-1),D!==void 0&&(D+=j.charAt(K));else{D===void 0&&(D=j.substr(0,K));var Q=_[X];Q!==void 0?($!==-1&&(D+=encodeURIComponent(j.substring($,K)),$=-1),D+=Q):$===-1&&($=K)}}return $!==-1&&(D+=encodeURIComponent(j.substring($))),D!==void 0?D:j}function S(j){for(var F=void 0,D=0;D<j.length;D++){var $=j.charCodeAt(D);$===35||$===63?(F===void 0&&(F=j.substr(0,D)),F+=_[$]):F!==void 0&&(F+=j[D])}return F!==void 0?F:j}function x(j,F){var D;return D=j.authority&&j.path.length>1&&j.scheme==="file"?"//".concat(j.authority).concat(j.path):j.path.charCodeAt(0)===47&&(j.path.charCodeAt(1)>=65&&j.path.charCodeAt(1)<=90||j.path.charCodeAt(1)>=97&&j.path.charCodeAt(1)<=122)&&j.path.charCodeAt(2)===58?F?j.path.substr(1):j.path[1].toLowerCase()+j.path.substr(2):j.path,s&&(D=D.replace(/\//g,"\\")),D}function T(j,F){var D=F?S:P,$="",K=j.scheme,X=j.authority,Q=j.path,ve=j.query,Te=j.fragment;if(K&&($+=K,$+=":"),(X||K==="file")&&($+=g,$+=g),X){var Se=X.indexOf("@");if(Se!==-1){var Re=X.substr(0,Se);X=X.substr(Se+1),(Se=Re.indexOf(":"))===-1?$+=D(Re,!1):($+=D(Re.substr(0,Se),!1),$+=":",$+=D(Re.substr(Se+1),!1)),$+="@"}(Se=(X=X.toLowerCase()).indexOf(":"))===-1?$+=D(X,!1):($+=D(X.substr(0,Se),!1),$+=X.substr(Se))}if(Q){if(Q.length>=3&&Q.charCodeAt(0)===47&&Q.charCodeAt(2)===58)(Ee=Q.charCodeAt(1))>=65&&Ee<=90&&(Q="/".concat(String.fromCharCode(Ee+32),":").concat(Q.substr(3)));else if(Q.length>=2&&Q.charCodeAt(1)===58){var Ee;(Ee=Q.charCodeAt(0))>=65&&Ee<=90&&(Q="".concat(String.fromCharCode(Ee+32),":").concat(Q.substr(2)))}$+=D(Q,!0)}return ve&&($+="?",$+=D(ve,!1)),Te&&($+="#",$+=F?Te:P(Te,!1)),$}function A(j){try{return decodeURIComponent(j)}catch{return j.length>3?j.substr(0,3)+A(j.substr(3)):j}}var N=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function q(j){return j.match(N)?j.replace(N,function(F){return A(F)}):j}var J,Y=o(470),ee=function(j,F,D){if(D||arguments.length===2)for(var $,K=0,X=F.length;K<X;K++)!$&&K in F||($||($=Array.prototype.slice.call(F,0,K)),$[K]=F[K]);return j.concat($||Array.prototype.slice.call(F))},re=Y.posix||Y;(function(j){j.joinPath=function(F){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];return F.with({path:re.join.apply(re,ee([F.path],D,!1))})},j.resolvePath=function(F){for(var D=[],$=1;$<arguments.length;$++)D[$-1]=arguments[$];var K=F.path||"/";return F.with({path:re.resolve.apply(re,ee([K],D,!1))})},j.dirname=function(F){var D=re.dirname(F.path);return D.length===1&&D.charCodeAt(0)===46?F:F.with({path:D})},j.basename=function(F){return re.basename(F.path)},j.extname=function(F){return re.extname(F.path)}})(J||(J={}))}},e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}return r.d=(n,i)=>{for(var o in i)r.o(i,o)&&!r.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:i[o]})},r.o=(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r.r=n=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r(447)})();var{URI:Ve,Utils:ii}=gN;var vN=te(require("path"));function dt(t,e){if(Ld(e)){let r=t.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:r,configFolderPath:r}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e}}function Ld(t){return vN.extname(t)===".code-workspace"}async function tu(t,e){if(!!e.isWorkspaceFile)try{let r=e.rootFolderPath,n=(await t.readFile(e.workspaceOrFolderPath)).toString(),o=gt(n).folders;if(o&&o.length>0){for(let s of o){let a=s.path,c;if(a){if(t.path.isAbsolute(a))return`Workspace contains an absolute folder path '${a}'.`;c=t.path.resolve(r,a)}else{let l=s.uri;return l?Ve.parse(l).scheme!=="file"?`Workspace contains folder '${l}' not on the local file system.`:`Workspace contains an absolute folder path '${l}'.`:"Workspace contains a folder that defines neither a path nor a URI."}if(!JQ(t,c,r))return`Folder '${c}' is not a subfolder of shared root folder '${r}'.`}return}return"Workspace does not define any folders"}catch(r){return`Problems loading workspace file ${e.workspaceOrFolderPath}: ${r&&(r.message||r.toString())}`}}function JQ(t,e,r){return e===r?!0:!e||!r||r.length>e.length||e.length>r.length&&e.charAt(r.length)!==t.path.sep?!1:QQ(t.platform,r,e.substr(0,r.length))}function QQ(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var Mn=te(require("path")),vv=te(Yl()),AF=te(require("crypto")),yv=te(nv()),DF=te(require("util")),RF=te(require("string_decoder"));var Fd=te(require("path"));async function JE(t,e,r){let n=await C1(t,"agent-extra-socket",r);if(!n)return;let i=await QE(e,"agent-socket");if(!i)return;let o=await QE(e,"homedir");try{let{stdout:a}=await e.exec(`ls '${o}/private-keys-v1.d' 2>/dev/null`);if(a.trim())return}catch{}let s=(async()=>{await e.exec(`mkdir -p -m 700 '${Fd.posix.dirname(i)}'`);let a=await C1(t,"homedir",r),c=await QE(e,"homedir");a&&c&&(await iu({cliHost:t},{shellServer:e},t.path.join(a,"pubring.kbx"),Fd.posix.join(c,"pubring.kbx"),"gpg"),await iu({cliHost:t},{shellServer:e},t.path.join(a,"pubring.gpg"),Fd.posix.join(c,"pubring.gpg"),"gpg"),await iu({cliHost:t},{shellServer:e},t.path.join(a,"trustdb.gpg"),Fd.posix.join(c,"trustdb.gpg"),"gpg")),await EX(t,r)})();return{cliHost:t,remoteGpgSocket:i,localGpgSocket:n,ready:s}}async function C1(t,e,r){try{let{stdout:n}=await We({exec:t.exec,cmd:"gpgconf",args:["--list-dir",e],output:r,print:!0}),i=n.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${e}:(.*)$`,"m").exec(i);o&&(i=o[1])}return t.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function QE(t,e){try{let{stdout:r}=await t.exec(`gpgconf --list-dir ${e}`),n=r.trim();if(n.indexOf(`
`)!==-1){let i=new RegExp(`^${e}:(.*)$`,"m").exec(n);if(i)return i[1]}return n}catch{return}}async function EX(t,e){try{await We({exec:t.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:e})}catch{}}async function XE(t,e,r){if(!("exec"in t)){for(let n=e,i="";n!==i;i=n,n=t.path.dirname(n))if(await t.isFile(t.path.join(n,".git","config")))return n;return}try{let{stdout:n}=await We({exec:t.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:e,output:r}),i=n.toString().trim();return t.path.resolve(e,i)}catch{return}}async function ZE(t,e,r){try{return await We({exec:t.exec,cmd:"git",args:["ls-remote",e],cwd:".",output:r}),!0}catch{return!1}}async function e_({exec:t},e,r){try{let{stdout:n,stderr:i}=await We({exec:t,cmd:"git",args:["credential",e],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(r),output:Rt});return{stdout:n.toString(),stderr:i.toString(),code:0}}catch(n){if(!(n&&n.stdout&&n.stderr))throw n;let{stdout:i,stderr:o,code:s}=n;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function b1(t,e,r){if(!("exec"in t)){let i=await XE(t,e.rootFolderPath,r);if(!i)return;try{return(await t.readFile(t.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let n;try{let{stdout:i}=await We({exec:t.exec,cmd:"git",args:["remote","-v"],cwd:e.rootFolderPath,output:r});n=i.toString()}catch{return}return Array.from(new Set(_X(/^[^\s]+\s+([^\s]+)/gm,n,1)))}function _X(t,e,r){return{[Symbol.iterator]:function*(){let n;for(;n=t.exec(e);)yield n[r],t.lastIndex===n.index&&t.lastIndex++}}}async function E1(t,e,r){return await SX(t,e,r)||xX(t,e,r)}async function SX(t,e,r){try{let{stdout:n}=await We({exec:t.exec,cmd:"git",args:["status","--porcelain"],cwd:e.rootFolderPath,output:r});return!!n.toString().trim()}catch{return}}async function xX(t,e,r){let n=await PX(t,e,r);if(!!n)try{let{stdout:i}=await We({exec:t.exec,cmd:"git",args:["log",`${n}..HEAD`],cwd:e.rootFolderPath,output:r});return!!i.toString().trim()}catch{return}}async function PX(t,e,r){try{let{stdout:n}=await We({exec:t.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:e.rootFolderPath,output:r});return n.toString().trim()}catch{return}}async function iv(t,e,r,n,i,o){let{extensionPath:s}=t;if(await e.isFolder(e.path.join(r,".git")))return{gitClone:void 0,gitUnshallow:void 0};await e.mkdirp(r);let a=n.tokenEnvVar?ge(W({},n.env),{GIT_ASKPASS:e.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:e.env[n.tokenEnvVar]}):n.env,c=[];n.fullClone||c.push("--depth","1"),n.branch&&c.push("--branch",n.branch),n.recurseSubmodules&&c.push("--recurse-submodules");let l=Hs({ptyExec:e.ptyExec,cmd:"git",args:["clone",...c,n.url,"."],cwd:r,env:a,output:Hr(i,he.Info)}),u=n.fullClone?l:(async()=>(await l,await Hs({ptyExec:e.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:r,env:a,output:o}),Hs({ptyExec:e.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:r,env:a,output:o})))();return{gitClone:l,gitUnshallow:u}}var Vs=te(require("stream"));async function _1(t,e){let{stdout:r}=await t.exec(`cat /proc/${e}/environ`,{logOutput:!1});return r.split("\0").map(n=>{let i=n.indexOf("=");return i!==-1?[n.slice(0,i),n.slice(i+1)]:[]}).reduce((n,[i,o])=>(i&&(n[i]=o),n),{})}async function t_(t){let e='for pid in `cd /proc && ls -d [0-9]*`; do { echo $pid ; readlink /proc/$pid/cwd ; readlink /proc/$pid/ns/mnt ; cat /proc/$pid/stat | tr "\n" " " ; echo ; xargs -0 < /proc/$pid/environ ; xargs -0 < /proc/$pid/cmdline ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null',{stdout:r}=await t.exec(e,{logOutput:!1}),n=6,i=r.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=n).map(([a,c,l,u,f,d])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(u)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:c,mntNS:l,cmd:d,env:f.split(" ").reduce((h,m)=>{let g=m.indexOf("=");return g!==-1&&(h[m.substr(0,g)]=m.substr(g+1)),h},{})}}),mntNS:o}}function S1(t){let e={};return t.forEach(r=>e[r.pid]={process:r,childProcesses:[]}),t.filter(r=>r.ppid).forEach(r=>{var n;return(n=e[r.ppid])==null?void 0:n.childProcesses.push(e[r.pid])}),e}function r_(t,e="  ",r="  "){return`${r}${t.process.pid}: ${t.process.cmd}
${t.childProcesses.map(n=>r_(n,e,r+e))}`}var n_=te(require("events")),ov=class{constructor(){this.nodeEmitter=new n_.EventEmitter;this.event=e=>(this.nodeEmitter.on("event",e),{dispose:()=>{this.nodeEmitter.off("event",e)}})}fire(e){this.nodeEmitter.emit("event",e)}dispose(){this.nodeEmitter.removeAllListeners()}},i_=class{constructor(){this.nodeEmitter=new n_.EventEmitter;this.event=e=>{let r=n=>n.results.push(e(n.data));return this.nodeEmitter.on("event",r),{dispose:()=>{this.nodeEmitter.off("event",r)}}}}fire(e){let r=[];return this.nodeEmitter.emit("event",{data:e,results:r}),r}dispose(){this.nodeEmitter.removeAllListeners()}};var NZ=EF(),OF=v_(),w_=kF(),LZ=TF();async function Bd(t,e){var _,P,S,x;let{cliHost:r,output:n}=t,i="Launching Remote-Containers helper.",o=n.start(i);if(fo)return n.stop(i,o),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let s=r.type==="local",a=s?r:await Cv(process.cwd(),t.loadNativeModule,n),l=(await(0,DF.promisify)(AF.randomBytes)(20)).toString("hex"),u={},f=LF(t.cliHost)||LF(a),d=f?Mn.posix.join(((_=e.env)==null?void 0:_.TMPDIR)||"/tmp",`vscode-ssh-auth-${l}.sock`):void 0;f?(u[d]=f,n.write(`ssh-agent: SSH_AUTH_SOCK in container (${d}) forwarded to ${f.cliHost!==a?"remote":"local"} host (${f.socketPath}).`)):n.write("ssh-agent: SSH_AUTH_SOCK not set on host.");let p=await JE(r,e.shellServer,n)||(s?void 0:await JE(a,e.shellServer,n));p&&(u[p.remoteGpgSocket]={cliHost:p.cliHost,socketPath:p.localGpgSocket});let h=Mn.posix.join(((P=e.env)==null?void 0:P.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${l}.sock`),m=Mn.posix.join(((S=e.env)==null?void 0:S.TMPDIR)||"/tmp",`vscode-remote-containers-server-${l}.js`),g=Mn.posix.join(((x=e.env)==null?void 0:x.TMPDIR)||"/tmp",`vscode-remote-containers-${l}.js`),v=NF(t,e,"Container",void 0,!1,!1,m,g,u,h,a),y=v.then(T=>T.ready),C=v.then(T=>T.mrpcExec),b=v.then(T=>T.mrpcPtyExec);return y.catch(console.error),t.onAdoptProcess(T=>$Z(e.shellServer,h,d,T).catch(console.error)),n.stop(i,o),{remoteContainersCLI:g,remoteEnv:d?{SSH_AUTH_SOCK:d,REMOTE_CONTAINERS_IPC:h}:{REMOTE_CONTAINERS_IPC:h},mrpcExec:C,mrpcPtyExec:b,ready:y,reconnect:()=>v.then(T=>T.reconnect())}}async function Hd(t,e,r,n,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:c,mrpcPtyExec:l,setBaseEnv:u,connect:f,reconnect:d,terminate:p}=await NF(t,{remoteExec:e,platform:i},"Host",r,!0,n,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:c,ptyExec:l,setBaseEnv:u,connect:f,reconnect:d,terminate:p}}async function NF(t,{remoteExec:e,platform:r,nodeExecutable:n},i,o,s,a,c,l,u,f,d){let{product:p,output:h}=t,m=l&&tt(Mn.join(t.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),g=tt(Mn.join(t.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),v=await Ko(e,h,void 0,r,i),y=s?await E_(v,await b_(v)):void 0,C=(await v.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],b=!0;if(!n||!c){let x=v.path.join(C,".vscode-remote-containers");n||(n=await UZ(t,v,x,C,p,a)),c||(c=v.path.join(x,"dist",`vscode-remote-containers-server-${t.package.version}.js`),await Vd(v,c)?b=!1:await v.exec(`mkdir -p '${v.path.dirname(c)}'`))}if(l){let x=`EOF-${l}`;await v.exec(`cat <<'${x}' >${l}
${await m}
${x}
`)}if(b){let x=`EOF-${c}`,T=`${c}_${Date.now()}`;await v.exec(`cat <<'${x}' >${T}
${await g}
${x}
mv ${T} ${c}`)}let _=()=>FZ(t,i,v,n,c,u,f,d),P=await _(),S;return{ready:P.ready,passwdUser:y,nodeExecutable:n,homeFolder:C,mrpcExec:MZ(()=>P.mrpc,i,o||C),mrpcPtyExec:qZ(()=>P.mrpc,i,o||C),mrpcExecToEnd:jZ(()=>P.mrpc,i,o||C),setBaseEnv:x=>new Promise((T,A)=>{S=x,P.mrpc.setBaseEnv(x,N=>N?A(N):T())}),connect:P.mrpc.connect,reconnect:async()=>{let x=`${i}: Reconnecting exec server`,T=h.start(x);await P.process.terminate().catch(()=>{}),v=await Ko(e,h,void 0,void 0,i),P=await _(),S&&await new Promise((A,N)=>{P.mrpc.setBaseEnv(S,q=>q?N(q):A())}),h.stop(x,T)},terminate:()=>P.process.terminate()}}async function FZ(t,e,r,n,i,o,s,a){let{cliHost:c,output:l}=t,u=Object.keys(o||{}),f=ge(W({},u.reduce((S,x)=>(S[x]="duplex",S),{})),{rpc:"async",connected:"async",ready:"async"}),d={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=r.process,h=`echo -n ${qn} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(u)}' REMOTE_CONTAINERS_IPC='${s||""}' '${n}' '${i}'
`;p.stdin.write(h);let m,g=new Promise(S=>m=S),v=new RF.StringDecoder;p.stderr.on("data",S=>{let x=v.write(S).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(m){let T=x.indexOf(qn);T!==-1&&(m(),m=void 0,x=x.substr(0,T)+x.substr(T+1))}x&&l.write(it(`${e} server: ${x}`))}),p.exit.then(({code:S,signal:x})=>{l.write(`${e} server terminated (code: ${S}, signal: ${x}).`)},S=>{l.write(`${e} server did not launch or terminated: ${S&&S.message||String(S)}`)});let C=(c==null?void 0:c.type)==="local",b,_=new Promise(S=>b=S),P=NZ(d,f)(ge(W({},u.reduce((S,x)=>{let T=o[x];return S[x]=()=>T.cliHost.connect(T.socketPath),S},{})),{rpc:async(S,x)=>{try{let T=JSON.parse(S),A=await e_(C?a:c,T.command,T.stdin).catch(N=>{if(C)throw N});!C&&(A==null?void 0:A.code)!==0&&(A=await e_(a,T.command,T.stdin),A.code===0&&(C=!0)),x(void 0,JSON.stringify(A))}catch(T){console.error(T),x(T)}},connected:S=>{S()},ready:S=>{b(),S()}}));return(0,yv.default)(OF.source(p.stdout),P.createStream(),OF.sink(p.stdin)),await Promise.race([g,p.exit.then(({code:S,signal:x})=>{throw new Error(`${e} server terminated (code: ${S}, signal: ${x}).`)})]),{ready:_,mrpc:P,process:p}}function MZ(t,e,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=t(),d=await new Promise((p,h)=>{f.exec({cmd:i,args:o,cwd:s||r,env:a},(m,g)=>{m?h(m):p(g)})});return{stdin:w_.sink(f.stdin(d,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:w_.source(f.stdout(d)),stderr:w_.source(f.stderr(d)),exit:new Promise((p,h)=>{f.exit(d,(m,g)=>{var v;c.stop(l,u),m?(((v=m.message)==null?void 0:v.endsWith("ENOENT"))&&!m.code&&(m.code="ENOENT"),h(m)):p(g)})}),terminate:async()=>new Promise((p,h)=>{f.terminate(d,m=>{m?h(m):p()})})}}}function qZ(t,e,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=t(),d=await new Promise((g,v)=>{var y,C;f.ptyExec({cmd:i,args:o,cwd:s||r,env:a,rows:(y=c.dimensions)==null?void 0:y.rows,cols:(C=c.dimensions)==null?void 0:C.columns},(b,_)=>{b?v(b):g(_)})}),p=[c.onDidChangeDimensions&&c.onDidChangeDimensions(g=>f.ptyResize(d,g.columns,g.rows))],h=LZ();(0,yv.default)(h,f.ptyIn(d,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let m=new ov;return(0,yv.default)(f.ptyOut(d),g=>{g(null,function v(y,C){if(y!==!0){if(y)throw y;m.fire(C),g(null,v)}})}),{write:g=>h.push(g),onData:m.event,resize:(g,v)=>f.ptyResize(d,g,v),exit:new Promise((g,v)=>{f.ptyExit(d,(y,C)=>{p.forEach(b=>b==null?void 0:b.dispose()),c.stop(l,u),y?v(y):g(C)})}),terminate:async()=>new Promise((g,v)=>{f.ptyTerminate(d,y=>{y?v(y):g()})})}}}function jZ(t,e,r){return async n=>{let{cmd:i,args:o,cwd:s,env:a,output:c}=n,l=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=c.start(l),f=t();return new Promise((d,p)=>{f.execToEnd({cmd:i,args:o,cwd:s||r,env:a},(h,m)=>{if(c.stop(l,u),h||!m)p({stdin:new Vs.Writable,stdout:Vs.Readable.from([]),stderr:Vs.Readable.from([]),exit:Promise.reject(h),terminate:async()=>{}});else{let g=Vs.Readable.from([Buffer.from(m.stdout.data)]),v=new Promise(b=>g.on("end",b)),y=Vs.Readable.from([Buffer.from(m.stderr.data)]),C=new Promise(b=>y.on("end",b));d({stdin:new Vs.Writable,stdout:g,stderr:y,exit:Promise.all([v,C]).then(()=>({code:m.code,signal:m.signal})),terminate:async()=>{}})}})})}}var C_="\\\\.\\pipe\\openssh-ssh-agent";function LF(t){if(t.env.SSH_AUTH_SOCK)return{cliHost:t,socketPath:t.env.SSH_AUTH_SOCK};if(t.platform==="win32")return{cliHost:t,socketPath:C_}}var wv=new Set;async function $Z(t,e,r,n){let i=await n.processId;if(i&&i>0){let o=await _1(t,i),s=o.REMOTE_CONTAINERS_IPC;s&&s!==e&&!wv.has(s)&&s.indexOf("vscode-remote-containers-ipc")!==-1&&(wv.add(s),await t.exec(`rm '${s}' && ln -s '${e}' '${s}'`));let a=o.SSH_AUTH_SOCK;a&&r&&a!==r&&!wv.has(a)&&a.indexOf("vscode-ssh-auth")!==-1&&(wv.add(a),await t.exec(`rm '${a}' && ln -s '${r}' '${a}'`))}}async function UZ(t,e,r,n,i,o){let s=(i==null?void 0:i.commit)||"b3318bc0524af3d74034b8bb8a64df0ccf35549a",a=(i==null?void 0:i.commit)?i.quality||"insider":"stable",{localCacheFolder:c,output:l,alternateDownload:u}=t,f=Mn.posix.join(r,"bin",s),d=Mn.posix.join(f,"node");try{await e.exec(`test -x '${d}'`)}catch{if(i)try{let v=Mn.posix.join(__(n,i),"bin",s),y=Mn.posix.join(v,"node");await e.exec(`test -x '${y}'`);let C=Mn.posix.join(v,"node_modules","node-pty","package.json");return await e.exec(`test -f '${C}'`),y}catch{}let p;if((await e.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=S_;else{let v=await P_(e);p=x_(v,!1)}let m={localCacheFolder:c,build:p,commit:s,quality:a,web:!1,output:l,alternateDownload:u},g=Gd(m);if(await zt(g)||await bv(m),p===S_)await zd({output:l},e,g,f,o);else{let v=[];await vv.t({file:g,filter:C=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(C),onentry:C=>{new vv.WriteEntry.Tar(C).on("data",_=>v.push(_))}});let y=Buffer.concat(v);await zd({output:l},e,y,f,o,!1)}}return d}var I_=te(require("path"));var BZ=te(require("http")),HZ=te(require("https"));function k_(t,e={}){return new Promise((r,n)=>{let i=t.startsWith("https:")?HZ:BZ,o;if(Object.keys(e).length>0){let a=new URL(t);o={headers:e,host:a.host,path:a.pathname}}i.get(o!=null?o:t,a=>{var c;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let l=(c=a.headers)==null?void 0:c.location;l&&r(k_(l,e))}n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",n);let l=[];a.on("data",u=>l.push(u)),a.on("end",()=>r(Buffer.concat(l)))}}).on("error",n)})}async function si(t){let e=await tt(I_.join(t,"package.json"),"utf8");return JSON.parse(e)}async function Wd(t){let e=await tt(I_.join(t,"product.json"),"utf8"),r=JSON.parse(e);return r.commit||(r.commit=await VZ(r.quality)),r.serverDataFolderName||(r.serverDataFolderName=".vscode-server-oss"),r}async function VZ(t="insider"){let e=`https://update.code.visualstudio.com/api/update/server-linux-x64/${t}/latest`,r=await k_(e);return JSON.parse(r.toString()).version}var Kd=!0;function Yd(t,e=!1){let{serverApplicationName:r}=t;return!e&&r?["bin",r]:["server.sh"]}var MF=/^\\\\wsl(\.localhost|\$)?\\/;function kr(t){return MF.test(t.toLowerCase())}function zs(t){let e=t.toLowerCase(),r=MF.exec(e);if(!r)return"";let n=e.indexOf("\\",r[0].length);return t.substring(r[0].length,n)}async function Ev(t){let{stdout:e}=await We({exec:Ws(void 0),cmd:"wsl",args:["-l","-v"],output:t}),r=e.toString(e[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(r)||[])[1]}async function Yo(t,e,r){let{stdout:n}=await We({exec:Ws(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:r});return n.toString().trim()}async function zZ(t,e){let{stdout:r}=await We({exec:Ws(void 0),cmd:"wsl",args:["-d",t,"-e","/bin/sh","-c","echo ~"],output:e});return r.toString().trim()}async function cu(t,e){let r=zs(t),n=await Yo(r,t,e);return Ve.parse(`vscode-remote://wsl+${r}${n}`)}function lu(t){if(t.scheme==="vscode-remote"){let e=_v(t.authority);if(e){let r=t.path;return Ld(r)&&(r=FF.posix.dirname(r)),{wslDistro:e,wslPath:r}}}}function _v(t){return(/wsl\+(.*)/.exec(t)||[])[1]}async function qF(t,e,r,n,i,o,s,a){var h;let{distro:c,cwd:l}=await T_(t,e,s),u=uu("wsl",["-d",c,"-e"],l),f=await Hd({extensionPath:r,localCacheFolder:n,package:await si(r),product:i,loadNativeModule:o,output:s,alternateDownload:a},u,l,!1),d=await fu({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((h=f.passwdUser)==null?void 0:h.shell)||"/bin/sh",remoteExec:f.exec});delete d.WSL_INTEROP,await f.setBaseEnv(d);let p=Gs("wsl",l,d,f.exec,f.ptyExec,f.connect,f.nodeExecutable,s);return p.toCommonURI=async m=>{try{return Ve.file((await We({exec:f.exec,cmd:"wslpath",args:["-w",m],output:s})).stdout.toString().trim())}catch{return}},p}async function T_(t,{defaultDistro:e},r){let n,i;return typeof t=="object"?(n=t.wslDistro,i=t.wslPath):t&&kr(t)?(n=zs(t),i=await Yo(n,t,r)):(n=e||await Ev(r)||(()=>{throw new Error("No default WSL distro found.")})(),i=t?await Yo(n,t,r):await zZ(n,r)),{distro:n,cwd:i}}var UF=te(require("path")),Sv=te(require("net")),xv=te(require("os"));var jF=te(require("os"));async function $F(t,e,r,n,i,o,s,a,c,l){var v;let u=t.substr(6),f=u.indexOf(":"),d=[(l==null?void 0:l.settings.executablePath)||"ssh"];(l==null?void 0:l.settings.configFilePath)&&d.push("-F",GZ(l==null?void 0:l.settings.configFilePath)),f!==-1?d.push("-p",u.substr(f+1),u.substr(0,f)):d.push(u);let p=uu(d[0],d.slice(1),void 0,await(l==null?void 0:l.sshAskpassEnv)||{}),h=await Hd({extensionPath:n,localCacheFolder:i,package:await si(n),product:o,loadNativeModule:s,output:a,alternateDownload:c},p,e,!1),m=await fu({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=h.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:h.exec});await h.setBaseEnv(m);let g=Gs("ssh",e||h.homeFolder,m,h.exec,h.ptyExec,h.connect,h.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>h.reconnect(),g.terminate=()=>h.terminate(),g}function GZ(t){return t.replace(/^~($|\/|\\)/,`${jF.homedir()}$1`)}function Jd(t,e){let r=WZ(t);if(!r)return;let n=r.hostName;if(r.user||r.hostName.toLowerCase()!==r.hostName||r.port||r.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(r);n=Buffer.from(i,"utf8").toString("hex")}return Ve.parse(`vscode-remote://ssh-remote+${n}${e}`)}function WZ(t){if(!t.startsWith("ssh://"))return;let e=t.substr(6),r=e.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(r){let[,n,i,o]=r;return{hostName:i,user:n,port:o?parseInt(o,10):void 0}}return{hostName:e}}var BF=v_(),mc;(function(i){i[i.Unknown=0]="Unknown",i[i.File=1]="File",i[i.Directory=2]="Directory",i[i.SymbolicLink=64]="SymbolicLink"})(mc||(mc={}));async function Li(t,e,r,n,i,o,s,a,c,l){return(t==null?void 0:t.startsWith("ssh://"))&&!(l==null?void 0:l.localDocker)?$F(t,e,n,i,o,s,r,a,c,l):typeof e=="object"||n.executeInWSL==="forWSLPath"&&e&&kr(e)||n.executeInWSL==="always"?qF(e,n,i,o,s,r,a,c):Cv(e||process.cwd(),r,a)}async function Cv(t,e,r){let n=Ws(t),i=await HF(t,e);return KZ(t,n,i,YZ)}function Gs(t,e,r,n,i,o,s,a){let c;return{type:t,platform:"linux",exec:n,ptyExec:i,cwd:e,env:r,path:UF.posix,async homedir(){var l;return typeof c=="undefined"&&(c=this.env.HOME||((l=Pv((await this.readFile("/etc/passwd")).toString(),(await this.getuid()).toString()))==null?void 0:l.home)||"/"),c},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async l=>{try{return await We({exec:n,cmd:"test",args:["-f",l],output:Rt}),!0}catch(u){if((u==null?void 0:u.code)!==1)throw u;return!1}},isFolder:async l=>{try{return await We({exec:n,cmd:"test",args:["-d",l],output:Rt}),!0}catch(u){if((u==null?void 0:u.code)!==1)throw u;return!1}},readFile:async l=>{try{return(await We({exec:n,cmd:"cat",args:[l],output:Rt})).stdout}catch(u){let f=new Error(`Could not read file: ${l}`);throw f.originalError=u,f.code="ENOENT",f}},writeFile:async(l,u)=>{await We({exec:n,cmd:"/bin/sh",args:["-c",`cat >'${l}'`],stdin:u,output:Rt})},rename:async(l,u)=>{await We({exec:n,cmd:"mv",args:[l,u],output:Rt})},rm:async(l,{recursive:u,force:f})=>{await We({exec:n,cmd:"rm",args:[...u?["-r"]:[],...f?["-f"]:[],l],output:Rt})},mkdirp:async l=>{await We({exec:n,cmd:"mkdir",args:["-p",l],output:Rt})},readDir:async l=>(await We({exec:n,cmd:"ls",args:["-a",l],output:Rt})).stdout.toString().trim().split(`
`).filter(u=>u!=="."&&u!==".."),readDirWithTypes:async l=>{let u={f:1,"*":1,"/":2,"@":64};return(await We({exec:n,cmd:"ls",args:["-aF",l],output:Rt})).stdout.toString().trim().split(`
`).map(f=>"/*@=%|>".indexOf(f[f.length-1])!==-1?[f.substr(0,f.length-1),f[f.length-1]]:[f,"f"]).filter(([f])=>f!=="."&&f!=="..").map(([f,d])=>[f,u[d]||0])},getuid:async()=>{let l=await We({exec:n,cmd:"id",args:["-u"],output:Rt});return parseInt(l.stdout.toString().trim(),10)},getgid:async()=>{let l=await We({exec:n,cmd:"id",args:["-g"],output:Rt});return parseInt(l.stdout.toString().trim(),10)},toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function KZ(t,e,r,n){return{type:"local",platform:process.platform,exec:e,ptyExec:r,cwd:t,env:process.env,path:UF,homedir:async()=>xv.homedir(),tmpdir:async()=>xv.tmpdir(),isFile:zt,isFolder:id,readFile:tt,writeFile:od,rename:jo,rm:Ps,mkdirp:async i=>{await Tn(i)},readDir:Qn,getuid:async()=>process.getuid(),getgid:async()=>process.getgid(),toCommonURI:async i=>Ve.file(i),connect:n}}function YZ(t){if(process.platform!=="win32"||t.startsWith("\\\\.\\pipe\\"))return BF.duplex(Sv.connect(t));let e=new Sv.Socket;return(async()=>{let r=await tt(t),n=r.indexOf(10),i=parseInt(r.slice(0,n).toString(),10),o=r.slice(n+1);e.connect(i,"127.0.0.1",()=>{e.write(o,s=>{s&&(console.error(s),e.destroy())})})})().catch(r=>{console.error(r),e.destroy()}),BF.duplex(e)}function zF(t,e,r){return t==="linux"?e===r:e.toLowerCase()===r.toLowerCase()}var D_=Ir.join(__dirname,"..","..","node_modules",".bin","ts-node"),fo=Ir.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function We(t){let{exec:e,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,print:c}=t,l=await e({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((u,f)=>{let d=[],p=[],h=c==="continuous"?new A_.StringDecoder:void 0;l.stdout.on("data",v=>{d.push(v),c==="continuous"&&a.write(h.write(v))}),l.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let m=c==="continuous"?new A_.StringDecoder:void 0;l.stderr.on("data",v=>{p.push(v),c==="continuous"&&a.write(it(m.write(v)))}),l.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];l.exit.then(({code:v})=>{try{g.forEach(b=>b.dispose());let y=Buffer.concat(d),C=Buffer.concat(p);(c===!0||v&&c==="onerror")&&(a.write(y.toString().replace(/\r?\n/g,`\r
`)),a.write(it(C.toString()))),c&&v&&a.write(`Exit code ${v}`),v?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,stdout:y,stderr:C,code:v}):u({stdout:y,stderr:C})}catch(y){f(y)}},f),s instanceof Buffer?(l.stdin.write(s,v=>{v&&f(v)}),l.stdin.end()):s instanceof VF.ReadStream?s.pipe(l.stdin):typeof s=="function"&&g.push(s(v=>l.stdin.write(v)))})}async function Hs(t){let{ptyExec:e,cmd:r,args:n,cwd:i,env:o,output:s,resolveOn:a,onDidInput:c}=t,l=await e({cmd:r,args:n,cwd:i,env:o,output:s});return new Promise((u,f)=>{let d="",p=[c&&c(h=>l.write(h))];l.onData(h=>{d+=h,s.raw(h),a&&a.exec(d)&&u({cmdOutput:d})}),l.exit.then(({code:h,signal:m})=>{try{p.forEach(g=>g==null?void 0:g.dispose()),h||m?f({message:`Command failed: ${r} ${(n||[]).join(" ")}`,cmdOutput:d,code:h,signal:m}):u({cmdOutput:d})}catch(g){f(g)}},h=>{p.forEach(m=>m==null?void 0:m.dispose()),f(h)})})}function Ws(t){return async function(e){let{cmd:r,args:n,output:i}=e,o=`Run: ${r} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=e.cwd||t,c=e.env?W(W({},process.env),e.env):process.env,l=await kv(r,a,c,i),u=du.spawn(l,n,{cwd:a,env:c,windowsHide:!0});return{stdin:u.stdin,stdout:u.stdout,stderr:u.stderr,exit:new Promise((f,d)=>{u.once("error",p=>{i.stop(o,s),d(p)}),u.once("close",(p,h)=>{i.stop(o,s),f({code:p,signal:h})})}),async terminate(){u.kill("SIGKILL")}}}}async function HF(t,e){let r=await e("node-pty");if(!r)throw new Error("Missing node-pty");return async function(n){var m,g;let{cmd:i,args:o,output:s}=n,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,c=s.start(a),l=!1,u=n.cwd||t,f=n.env?W(W({},process.env),n.env):process.env,d=await kv(i,u,f,s),p=r.spawn(d,o||[],{cwd:u,env:f,cols:(m=s.dimensions)==null?void 0:m.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:l}),h=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>p.resize(v.columns,v.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(v=>{p.onExit(({exitCode:y,signal:C})=>{if(h.forEach(b=>b==null?void 0:b.dispose()),s.stop(a,c),v({code:y,signal:C}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function uu(t,e,r,n){return async function(i){let{env:o,cmd:s,args:a,output:c}=i,l=i.cwd||r,u=l?`cd '${l}' && `:"",f=Object.keys(o||{}).map(b=>`${b}='${o[b]}' `).join(""),d=(a||[]).map(b=>` '${b.replace(/'/g,`'"'"'`)}'`).join(""),p=`${u}${f}${s}${d}`,h=p!==s?["/bin/sh","-c",p]:[p],m=[...e,...h],g=`Run: ${t} ${m.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),y=await kv(t,process.cwd(),process.env,c),C=du.spawn(y,m,{windowsHide:!0,env:n?W(W({},process.env),n):void 0});return{stdin:C.stdin,stdout:C.stdout,stderr:C.stderr,exit:new Promise((b,_)=>{C.once("error",P=>{c.stop(g,v),_(P)}),C.once("close",(P,S)=>{c.stop(g,v),b({code:P,signal:S})})}),async terminate(){C.kill("SIGKILL")}}}}async function GF(t,e,r,n){let i=await n("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var P,S;let{env:s,cmd:a,args:c,output:l}=o,u=o.cwd||r,f=u?`cd '${u}' && `:"",d=Object.keys(s||{}).map(x=>`${x}='${s[x]}' `).join(""),p=(c||[]).map(x=>` '${x.replace(/'/g,`'"'"'`)}'`).join(""),h=`${f}${d}${a}${p}`,m=[...e,"/bin/sh","-c",h],g=`Run: ${t} ${m.join(" ").replace(/\n.*/g,"")}`,v=l.start(g),y=!1,C=await kv(t,process.cwd(),process.env,l),b=i.spawn(C,m,{cols:(P=l.dimensions)==null?void 0:P.columns,rows:(S=l.dimensions)==null?void 0:S.rows,useConpty:y}),_=[l.onDidChangeDimensions&&l.onDidChangeDimensions(x=>b.resize(x.columns,x.rows))];return{onData:b.onData.bind(b),write:b.write.bind(b),resize:b.resize.bind(b),exit:new Promise(x=>{b.onExit(({exitCode:T,signal:A})=>{if(_.forEach(N=>N==null?void 0:N.dispose()),l.stop(g,v),x({code:T,signal:A}),process.platform==="win32")try{b.kill()}catch{}})}),async terminate(){b.kill("SIGKILL")}}}}async function kv(t,e=process.cwd(),r,n){if(process.platform!=="win32")return t;if(Ir.isAbsolute(t))return await Qd(t)||t;if(/[/\\]/.test(t)){let a=Ir.join(e,t);return await Qd(a)||a}let i,o;if(r){for(let a of Object.keys(r))if(a.toLowerCase()==="path"){let c=r[a];typeof c=="string"&&(i=c,o=c.split(Ir.delimiter).filter(Boolean),o.push(Ir.join(r.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(o===void 0||o.length===0){n.write(`findLocalWindowsExecutable: No PATH to look up exectuable '${t}'.`);let a=Ir.join(e,t);return await Qd(a)||a}for(let a of o){let c;Ir.isAbsolute(a)?c=Ir.join(a,t):c=Ir.join(e,a,t);let l=await Qd(c);if(l)return l}n.write(`findLocalWindowsExecutable: Exectuable '${t}' not found on PATH '${i}'.`);let s=Ir.join(e,t);return await Qd(s)||s}var WF=process.env.PATHEXT,KF=WF?WF.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function Qd(t){if(KF.indexOf(Ir.extname(t))!==-1)return await zt(t)?t:void 0;for(let e of KF){let r=t+e;if(await zt(r))return r}}function gc(t){let e=/^'?v?(\d+(\.\d+)*)/.exec(t);if(!!e)return e[1].split(".").map(r=>parseInt(r,10))}function pu(t,e){for(let r=0,n=Math.max(t.length,e.length);r<n;r++){let i=t[r]||0,o=e[r]||0;if(i!==o)return i<o}return!1}var YF=fo?(t,e,r)=>du.spawn(D_,[t,...e||[]],ge(W({},r),{windowsHide:!0})):du.fork;async function JF(t,e){if(!e){try{return require(t)}catch{}return}try{return require(`${e}/node_modules.asar/${t}`)}catch{}try{return require(`${e}/node_modules/${t}`)}catch{}}function Xd(t){let{output:e}=t,r=[];return{output:Hr(ge(W({},e),{get dimensions(){return e.dimensions},event:i=>r?r.push(i):e.event(i)})),flush:()=>{r&&(r.forEach(i=>e.event(i)),r=void 0)}}}function QF(t,e,r){return Hr(ge(W({},t),{get dimensions(){return t.dimensions},event:i=>{i.channel===e&&t.event(i),r.event(i)}}))}function Iv(t,e){return typeof e!="string"&&"win32"in e?t==="win32"?e.win32:e.posix:e}async function Vd(t,e){return Iv(t.platform,{posix:async()=>{try{return await t.exec(`test -f '${e}'`),!0}catch{return!1}},win32:async()=>(await t.exec(`Test-Path '${e}' -PathType Leaf`)).stdout.trim()==="True"})()}var qn="\u2404";async function Ko(t,e,r,n="linux",i="Container"){let o=typeof t=="function",s=n==="win32",a=o?await t({env:r?{VSCODE_REMOTE_CONTAINERS_SESSION:r}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:e}):t;if(!o){let d=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${qn}; /bin/sh'
`;a.stdin.write(d),await new Promise(h=>{let m="",g=new R_.StringDecoder;a.stdout.on("data",function v(y){m+=g.write(y),m.includes(d)&&(a.stdout.off("data",v),h())})})}let c=QZ(a),l;async function u(d,p){let h=l=(async()=>{try{await l}catch{}return f(Iv(n,d),p)})();try{return await Promise.race([h,c.unexpectedExit])}finally{c.disposeStdioListeners(),l===h&&(l=void 0)}}async function f(d,p){let h=`Run in ${i.toLowerCase()}: ${d.replace(/\n.*/g,"")}`,m;if((p==null?void 0:p.logOutput)!=="silent"&&(m=e.start(h,p==null?void 0:p.logLevel)),a.stdin.destroyed){e.write("Stdin closed!");let{code:S,signal:x}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${S}, signal: ${x})`,code:S,signal:x})}n==="win32"?a.stdin.write(`[Console]::Write('${qn}'); ( ${d} ); [Console]::Write("${qn}$LastExitCode ${qn}"); [Console]::Error.Write('${qn}')
`):a.stdin.write(`echo -n ${qn}; ( ${d} ); echo -n ${qn}$?${qn}; echo -n ${qn} >&2
`);let[g,v]=XF(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(S,x,T)=>{x===1&&T===0&&e.write(S,p==null?void 0:p.logLevel)}:()=>{}),y=XF(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(S,x,T)=>{x===0&&T===0&&e.write(S,p==null?void 0:p.logLevel)}:()=>{})[0];(p==null?void 0:p.stdin)&&(await g,a.stdin.write(p==null?void 0:p.stdin));let[C,b]=await v,[_]=await y,P=parseInt(b,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(e.write(C,p==null?void 0:p.logLevel),e.write(_,p==null?void 0:p.logLevel),P&&e.write(`Exit code ${P}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&P&&e.write(`Exit code ${P}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&e.stop(h,m,p==null?void 0:p.logLevel),P?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${d}`,code:P,stdout:C,stderr:_}):{stdout:C,stderr:_}}return{exec:u,process:a,platform:n,path:Iv(n,JZ)}}function XF(t,e,r){let n=e.map(()=>{let u,f=new Promise((d,p)=>u={resolve:d,reject:p});return W({promise:f},u)}),i=new R_.StringDecoder("utf8"),o=[],s=0,a=[];function c(u){let f=i.write(u);l(f)}function l(u){let f=u.indexOf(qn);if(f!==-1){let d=u.substr(0,f);o.push(d),r(d,s,a.length),a.push(o.join("")),o.length=0,a.length===e[s]&&(n[s].resolve(a),s++,a=[],s===e.length&&t.off("data",c)),f+1<u.length&&l(u.substr(f+1))}else o.push(u),r(u,s,a.length)}return t.on("data",c),n.map(u=>u.promise)}function QZ(t){let e,r=new Promise((c,l)=>e=l),n=[],i=[],o=c=>n.push(c),s=c=>i.push(c);return t.stdout.on("data",o),t.stderr.on("data",s),t.exit.then(({code:c,signal:l})=>{e(`Shell server terminated (code: ${c}, signal: ${l})
${Buffer.concat(n).toString()}
${Buffer.concat(i).toString()}`)},c=>{e(`Shell server failed: ${c&&(c.stack||c.message)}`)}),{unexpectedExit:r,disposeStdioListeners:()=>{t.stdout.off("data",o),t.stderr.off("data",s),n.length=0,i.length=0}}}var ZF=te(require("path"));var XZ=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function O_(t,e,r,n,i){let{repository:o,installCommand:s,targetPath:a}=t.dotfilesConfiguration;if(o=i["remote.containers.dotfiles.repository"]||i["dotfiles.repository"]||o,s=i["remote.containers.dotfiles.installCommand"]||i["dotfiles.installCommand"]||s,a=i["remote.containers.dotfiles.targetPath"]||i["dotfiles.targetPath"]||a,!o)return;await n;let c=await r;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let l=e.shellServer,u=eee(e),f=Object.keys(c).filter(d=>!(d.startsWith("BASH_FUNC_")&&d.endsWith("%%"))).reduce((d,p)=>`${d}${p}=${ZZ(c[p])} `,"");try{t.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await l.exec(`# Clone & install dotfiles
${Tv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${f}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:he.Info}):await l.exec(`# Clone & install dotfiles
${Tv(u)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${XZ.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${f}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:he.Info}),t.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{t.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function ZZ(t){return`'${(t||"").replace(/'+/g,`'"$&"'`)}'`}function eee(t){return ZF.posix.join(ai(t),".dotfilesMarker")}var hM=te(require("net")),mM=te(pM());async function j_({forwardedPorts:t,output:e,getLogLevel:r},n,i,o){e.write(`Port forwarding for container port ${i} starts listening on local port.`,he.Debug);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,c)=>{let l=new Set,u=hM.createServer({pauseOnConnect:!0},f=>{let d=f.remotePort,p=u.address().port;e.write(`Port forwarding connection from ${d} > ${p} > ${i} in the container.`),r()===he.Trace&&(async()=>{let h=await(0,mM.default)("port",d);e.write(`Port forwarding process for ${d} > ${p} > ${i} in the container:
${JSON.stringify(h,void 0,"  ")}`)})().catch(console.error),cee(e,n,[n.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(h=>{let m;h.exit.then(({code:g,signal:v})=>{m||(l.delete(f),f.end()),e.write(`Port forwarding ${d} > ${p} > ${i} terminated${m?` by extension (${m})`:""} with code ${g} and signal ${v}.`)},g=>{l.delete(f),f.end(),e.write(`Port forwarding ${d} > ${p} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),h.stderr.on("data",g=>{e.write(`Port forwarding ${d} > ${p} > ${i} stderr: ${g.toString("utf8")}`,he.Debug)}),f.on("close",g=>{e.write(`Port forwarding ${d} > ${p} > ${i}: Local close${g?" with error":""}`,he.Debug),l.delete(f),m="closed",h.stdin.end(),setTimeout(()=>{m="killed",h.terminate().catch(console.error)},5e3)}),h.stdout.pipe(f),f.pipe(h.stdin),l.add(f)}).catch(console.error)});u.on("listening",()=>{let f={targetPort:i,server:u,connections:l};u.on("close",()=>{t.delete(f)}),t.add(f),e.write(`Port forwarding local port ${u.address().port} to container port ${i}`),a(u)}),u.on("error",f=>{if(f&&(f.code==="EADDRINUSE"||f.code==="EACCES")){u.listen(0,"127.0.0.1");return}c(f)}),u.on("close",()=>{c(new Error("Closed"))}),u.listen(i,"127.0.0.1")})}async function cee(t,e,r,n){return e.remoteExec({env:n,cmd:r[0],args:r.slice(1),output:t})}var hu=te(require("path"));function Rv(t,e){let r,n=t.platform==="win32",i=ge(W({},t),{get env(){return r||(r=gM(n,t.env))}}),o=fee.bind(void 0,n,i);return t.containerWorkspaceFolder&&(i.containerWorkspaceFolder=vM(o,t.containerWorkspaceFolder)),Ov(o,e)}function $_(t,e,r,n){let i=t==="win32";return Ov(dee.bind(void 0,i,e,gM(i,r)),n)}function Ov(t,e){if(typeof e=="string")return vM(t,e);if(Array.isArray(e))return e.map(r=>Ov(t,r));if(e&&typeof e=="object"){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n]=Ov(t,e[n])}),r}return e}var lee=/\$\{(.*?)\}/g;function gM(t,e){if(t){let r=Object.create(null);return Object.keys(e).forEach(n=>{r[n.toLowerCase()]=e[n]}),r}return e}function vM(t,e){return e.replace(lee,uee.bind(void 0,t))}function uee(t,e,r){let n,i=r.split(":");return i.length>1&&(r=i[0],n=i[1]),t(e,r,n)}function fee(t,e,r,n,i){switch(n){case"env":case"localEnv":return yM(t,e.env,i,r,e.configFile);case"localWorkspaceFolder":return e.localWorkspaceFolder!==void 0?e.localWorkspaceFolder:r;case"localWorkspaceFolderBasename":return e.localWorkspaceFolder!==void 0?(t?hu.win32:hu.posix).basename(e.localWorkspaceFolder):r;case"containerWorkspaceFolder":return e.containerWorkspaceFolder!==void 0?e.containerWorkspaceFolder:r;case"containerWorkspaceFolderBasename":return e.containerWorkspaceFolder!==void 0?hu.posix.basename(e.containerWorkspaceFolder):r;default:return r}}function dee(t,e,r,n,i,o){switch(i){case"containerEnv":return yM(t,r,o,n,e);default:return n}}function yM(t,e,r,n,i){if(r){t&&(r=r.toLowerCase());let o=e[r];return typeof o=="string"?o:""}throw new $e({description:`'${n}'${i?` in ${hu.posix.basename(i.path)}`:""} can not be resolved because no environment variable name is given.`})}async function po(t){return new Promise(e=>setTimeout(e,t))}var Ys=0,EM=/Extension host agent listening on (\d+)/;var Vr;(function(a){a[a.Begin=0]="Begin",a[a.CloningRepository=1]="CloningRepository",a[a.BuildingImage=2]="BuildingImage",a[a.StartingContainer=3]="StartingContainer",a[a.InstallingServer=4]="InstallingServer",a[a.StartingServer=5]="StartingServer",a[a.End=6]="End"})(Vr||(Vr={}));var B_="updateContentCommand";async function Fv(t){let{params:e,createdAt:r,startedAt:n,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:c,containerEnv:l,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:d,rootShellServer:p}=t,h;if(p&&a==="root"?h=p:h=await Ko(u,e.output,e.sessionId),!l){let q=(await h.exec("echo $PATH")).stdout.trim();l=q?{PATH:q}:{}}a||(a=await b_(h)),!d&&a==="root"&&(d=u);let m=await P_(h),g=await E_(h,a);g||e.output.write(NE(`User ${a} not found in /etc/passwd.`));let v=await pee(l,g),y=await _M(l,g),C=__(y,e.product),{commit:b,quality:_}=e.product,P=b&&await hee(C,b,_||"insider",e.web),S=x_(m,_==="stable"),x=b&&i&&await SM(Oe.posix,i,S,b,_||"insider",e.web),T=P&&await gee(P),A;p?A=Promise.resolve(p):a==="root"&&(A=Promise.resolve(h));let N={createdAt:r,startedAt:n,osRelease:m,build:S,user:a,gid:c||(g==null?void 0:g.gid),env:l,shell:v,homeFolder:y,userDataFolder:C,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:P,sharedInstallFolder:x,remoteWorkspaceFolder:s,nodeExecutable:T,remoteExec:u,remotePtyExec:f,remoteExecAsRoot:d,shellServer:h};return(A||d)&&(N.launchRootShellServer=()=>A||(A=Ko(d,e.output))),N}async function b_(t){return(await t.exec("id -un")).stdout.trim()}async function _M(t,e){return t.HOME||e&&e.home||"/root"}async function pee(t,e){return t.SHELL||e&&e.shell||"/bin/sh"}async function E_(t,e){let{stdout:r}=await t.exec("cat /etc/passwd",{logOutput:!1});return Pv(r,e)}function Pv(t,e){return t.split(/\r?\n/).map(n=>n.split(":")).map(n=>({name:n[0],uid:n[2],gid:n[3],home:n[5],shell:n[6]})).find(n=>n.name===e||n.uid===e)}async function hee(t,e,r,n){return Oe.posix.join(t,"bin",`${e}${r==="stable"?"":`-${r}`}${n?"-web":""}`)}async function SM(t,e,r,n,i,o){return t.join(e,"bin",r.id,`${n}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function xM(t){return Oe.posix.join(t.userDataFolder,"extensions")}function ai(t){return Oe.posix.join(typeof t=="string"?t:t.userDataFolder,"data/Machine")}function Mv(t){return Oe.posix.join(t.userDataFolder,"data/Machine/settings.json")}function mee(t){return Oe.posix.join(t,".vscode-remote")}function __(t,e){return Oe.posix.join(t,e.serverDataFolderName)}function mu(t){return Oe.posix.join("/var",/^\.*(.*)$/.exec(t)[1])}async function gee(t){return Oe.posix.join(t,"node")}async function qv(t,e,r,n,i=Ys){var y;await PM(t,e),await Fee(t,e),await Mee(t,e);let o=await kM(t,e,r,n),{serverDownloaded:s}=await IM(t,e),a,c,l=Promise.resolve(),u;if(!t.cliMode&&e.nodeExecutable){let C=await Bd(t,e);a=C.remoteContainersCLI,c=C.remoteEnv,l=C.ready,u=C.mrpcExec;let b=t.cliHost.reconnect;b&&(t.cliHost.reconnect=async()=>{await b(),C.reconnect().catch(_=>t.output.write(it(_&&(_.stack||_.message)||String(_))))})}let d=t.computeExtensionHostEnv||e.installFolder&&t.cliMode||t.postCreate.enabled?fu(t,e,r,u).then(C=>W(W(W(W({},C),c),t.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?$_(t.cliHost.platform,r.configFilePath,e.env,r.remoteEnv):{})):Promise.resolve({}),p=(y=o["remote.containers.gitCredentialHelperConfigLocation"])!=null?y:t.credentialHelperConfigLocation;!t.cliMode&&e.nodeExecutable&&(await vc(t,e,[".ssh","known_hosts"],"ssh"),p!=="none"&&await gu(e,a,t.output,"system"));let h,m,g,v;if(e.installFolder){let b=await LM(t,e,i,u,async()=>DM(t,e,async()=>{var S,x,T;return Array.from(new Set([...((x=(S=r.customizations)==null?void 0:S.vscode)==null?void 0:x.extensions)||[],...((T=await n())==null?void 0:T.allFeatures.filter(A=>(Kd||A.included)&&A.value).reduce((A,N)=>{var q,J;return A.concat(((J=(q=N.customizations)==null?void 0:q.vscode)==null?void 0:J.extensions)||[])},[]))||[]]))}),d),_=b.serverPort;g=b.connectionToken,v=b.webConnectionToken,h=_,t.forwardServerPort&&e.nodeExecutable&&(m=await j_(t,e,_,t.sessionId),h=m.address().port,t.backgroundTasks.push(async()=>jM(t,e,r)))}if(t.postCreate.enabled){let C,b=!1,_=new Promise(S=>C=()=>{b=!0,S()}),P=(async()=>{var S;if((r.waitFor||B_)==="initializeCommand"&&C(),!(t.postCreate.skipNonBlocking&&b)&&(await V_(t,e,r,"onCreateCommand",d,l,!1,C),!(t.postCreate.skipNonBlocking&&b)&&(await V_(t,e,r,"updateContentCommand",d,l,!!t.prebuild,C),!(t.postCreate.skipNonBlocking&&b)))){if(!t.prebuild){if(await V_(t,e,r,"postCreateCommand",d,l,!1,C),t.postCreate.skipNonBlocking&&b||(await O_(t,e,d,l,o),!t.cliMode&&e.nodeExecutable&&(((S=o["remote.containers.copyGitConfig"])!=null?S:t.isCopyGitConfigEnabled)&&(await vc(t,e,[".gitconfig"],"git"),await Uv(t,e,d.then(x=>W(W({},e.env),x)))),await gu(e,a,t.output,p)),await Tee(t,e,r,d,l,C),t.postCreate.skipNonBlocking&&b))return;await Aee(t,e,r,d,l,C)}t.postCreate.done()}})();t.backgroundTasks.push(P),await Promise.race([_,P])}return{hostOrContainerPort:h,hostPortServer:m,connectionToken:g,webConnectionToken:v,remoteEnv:t.computeExtensionHostEnv?await d:{},serverDownloaded:s}}async function jv(t,e,r,n,i=Ys,o){var C;await PM(t,e);let s=await kM(t,e,r,n),{serverDownloaded:a}=await IM(t,e),c,l,u=Promise.resolve(),f;if(!t.cliMode&&e.nodeExecutable){let b=await Bd(t,e);c=b.remoteContainersCLI,l=b.remoteEnv,u=b.ready,f=b.mrpcExec;let _=t.cliHost.reconnect;_&&(t.cliHost.reconnect=async()=>{await _(),b.reconnect().catch(P=>t.output.write(it(P&&(P.stack||P.message)||String(P))))})}let p=t.computeExtensionHostEnv||e.installFolder&&t.cliMode||t.postCreate.enabled?fu(t,e,r,f).then(b=>W(W(W(W({},b),l),t.cliMode?{}:{REMOTE_CONTAINERS:"true"}),r.remoteEnv?$_(t.cliHost.platform,r.configFilePath,e.env,r.remoteEnv):{})):Promise.resolve({}),h=(C=s["remote.containers.gitCredentialHelperConfigLocation"])!=null?C:t.credentialHelperConfigLocation;!t.cliMode&&e.nodeExecutable&&(await vc(t,e,[".ssh","known_hosts"],"ssh"),h!=="none"&&await gu(e,c,t.output,"system"));let m,g,v,y;if(e.installFolder){let _=await LM(t,e,i,f,async()=>DM(t,e,async()=>{var x,T,A;return Array.from(new Set([...((T=(x=r.customizations)==null?void 0:x.vscode)==null?void 0:T.extensions)||[],...((A=await n())==null?void 0:A.allFeatures.filter(N=>(Kd||N.included)&&N.value).reduce((N,q)=>{var J,Y;return N.concat(((Y=(J=q.customizations)==null?void 0:J.vscode)==null?void 0:Y.extensions)||[])},[]))||[]]))}),p),P=_.serverPort;v=_.connectionToken,y=_.webConnectionToken,m=P,t.forwardServerPort&&e.nodeExecutable&&(g=await j_(t,e,P,t.sessionId),m=g.address().port,t.backgroundTasks.push(async()=>jM(t,e,r)))}if(t.postCreate.enabled){let b,_=new Promise(S=>b=()=>{S()}),P=(async()=>{var T;let S=W(W({},l),t.cliMode?{}:{REMOTE_CONTAINERS:"true"}),x=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"];if(t.prebuild){let A=x.indexOf("updateContentCommand");if((!x.slice(0,A+1).some(J=>r[J])?"prebuild":await o(!1,!1,!0,S))!=="prebuild")throw new Error('"prebuild" expected')}else{let A=!0,N=!0,q=x.indexOf(r.waitFor||B_),J=x.indexOf("postCreateCommand"),Y=q<=J&&!x.slice(0,q+1).some(j=>r[j]),ee=!x.slice(0,J+1).some(j=>r[j]),re=Y?"skipNonBlocking":ee?"stopForPersonalization":await o(A,N,!1,S);if(re==="skipNonBlocking"){if(b(),t.postCreate.skipNonBlocking)return;A=!1,re=!x.slice(q+1,J+1).some(F=>r[F])?"stopForPersonalization":await o(A,N,!1,S)}if(re==="stopForPersonalization"){await O_(t,e,p,u,s),!t.cliMode&&e.nodeExecutable&&(((T=s["remote.containers.copyGitConfig"])!=null?T:t.isCopyGitConfigEnabled)&&(await vc(t,e,[".gitconfig"],"git"),await Uv(t,e,p.then(D=>W(W({},e.env),D)))),await gu(e,c,t.output,h)),N=!1;let j=q>J&&!x.slice(J+1,q+1).some(D=>r[D]),F=!x.slice(J+1).some(D=>r[D]);re=j?"skipNonBlocking":F?"done":await o(A,N,!1,S)}if(re==="skipNonBlocking"){if(b(),t.postCreate.skipNonBlocking)return;A=!1,re=!x.slice(q+1).some(F=>r[F])?"done":await o(A,N,!1,S)}if(re!=="done")throw new Error('"done" expected')}})();P.then(()=>{t.postCreate.done()},S=>{t.postCreate.done(S)}),t.backgroundTasks.push(P),await Promise.race([_,P])}return{hostOrContainerPort:m,hostPortServer:g,connectionToken:v,webConnectionToken:y,remoteEnv:t.computeExtensionHostEnv?await p:{},serverDownloaded:a}}async function PM(t,e){let r=mee(e.homeFolder);!await Hv(e.shellServer,e.userDataFolder)&&await Hv(e.shellServer,r)&&await Jo(t,e,["/bin/sh","-c",`cp -r '${r}' '${e.userDataFolder}'`])}async function kM(t,e,r,n){var a,c,l;let i=ai(e),o=Oe.posix.join(i,".writeMachineSettingsMarker"),s=Mv(e);if(await Bv(e.shellServer,o)){let u=Object.assign({},...((a=await n())==null?void 0:a.allFeatures.filter(f=>{var d,p;return(Kd||f.included)&&f.value&&((p=(d=f.customizations)==null?void 0:d.vscode)==null?void 0:p.settings)}).map(f=>{var d,p;return(p=(d=f.customizations)==null?void 0:d.vscode)==null?void 0:p.settings}))||[],(l=(c=r.customizations)==null?void 0:c.vscode)==null?void 0:l.settings);if(vee(u,r.portsAttributes),yee(u,r.otherPortsAttributes),Object.keys(u).length)return await e.shellServer.exec(`mkdir -p '${Oe.posix.dirname(s)}' && cat >'${s}' <<'settingsJSON'
${JSON.stringify(u,null,"	")}
settingsJSON
`),u}try{let{stdout:u}=await e.shellServer.exec(`cat ${s}`);return gt(u)||{}}catch{return{}}}function vee(t,e){if(!t||!e)return;let r="remote.portsAttributes";if(!t[r]){t[r]=e;return}for(let n in e)t[r][n]||(t[r][n]=e[n])}function yee(t,e){if(!t||!e)return;let r="remote.otherPortsAttributes";t[r]||(t[r]=e)}async function $v(t,e,r,n){let i=typeof t.gid=="string"?`${t.user}:${t.gid}`:t.user,o=await e();if((await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let c=Oe.posix.dirname(r);c!=="/"&&await o.exec(`chown ${i} ${c}`),r!=="/"&&await o.exec(`chown -R ${i} ${r}`)}else if(n&&(await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=Oe.posix.dirname(n);u!=="/"&&await o.exec(`chown -R ${i} ${u}`)}}async function gu(t,e,r,n){if((e||fo)&&n!=="none"){let i=n==="system"?t.launchRootShellServer&&await t.launchRootShellServer():t.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${n} --replace-all credential.helper '!f() { ${t.nodeExecutable} ${e} $*; }; f' || true`):r.write("Cannot configure system wide Git credential helper without root access.")}}async function vc(t,e,r,n){let{cliHost:i}=t,o=i.path.join(await i.homedir(),...r),s=Oe.posix.join(e.homeFolder,...r);await iu(t,e,o,s,n)}async function Uv(t,e,r){let{cliHost:n}=t,{env:i}=n,o=["git","config"],s=i.XDG_CONFIG_HOME?[i.XDG_CONFIG_HOME]:[await n.homedir(),".config"],a=n.path.join(...s,...o),c=(async()=>{let l=await r,u=l.XDG_CONFIG_HOME?[l.XDG_CONFIG_HOME]:[e.homeFolder,".config"];return Oe.posix.join(...u,...o)})();await iu(t,e,a,c,"git")}async function iu(t,e,r,n,i){let o=await wee(t.cliHost,r);if(o)try{let s=await n;await e.shellServer.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${Oe.posix.dirname(s)}`),await e.shellServer.exec(`# Copy ${r} to ${s}
${G_(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function wee(t,e){try{return await t.readFile(e)}catch(r){if(r&&(r.code==="ENOENT"||r.code==="EISDIR"))return;throw r}}async function IM(t,e){let{commit:r}=t.product,{installFolder:n,shellServer:i,launchRootShellServer:o,build:s}=e;if(!(r&&n))return{serverDownloaded:void 0};Cee(e.osRelease,s),s.preview&&t.output.write(`\r
[1mSupport for ${s.label} is in preview.[22m\r
\r
`);let a=await Hv(i,n),c;a||s===OM[s.arch]&&(o?c=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):c=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let l=e.sharedInstallFolder;if(l&&await Hv(i,l))return a||await i.exec(`mkdir -p '${Oe.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),o&&(async()=>{await(await o()).exec(`touch '${l}'`)})().catch(console.error),await c,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};t.progress(4),t.output.write(`Installing VS Code Server for commit ${r}\r
`);let u=!!(l&&o),f=u?l:n,d=u?await o():i,p={localCacheFolder:t.localCacheFolder,build:s,commit:r,quality:t.product.quality||"insider",web:t.web,output:t.output,alternateDownload:t.alternateDownload},h=Gd(p),m=await zt(h);m||await bv(p);try{e.sharedDataFolderIsLocalCacheFolder?await TM(p):await zd(t,d,h,f)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await bv(p),e.sharedDataFolderIsLocalCacheFolder?await TM(p):await zd(t,d,h,f);else throw g}return u&&(await i.exec(`mkdir -p '${Oe.posix.dirname(n)}' && ln -snf '${l}' '${n}'`),(async()=>{await d.exec(`cd '${Oe.posix.dirname(l)}' && ls -t | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await c,{serverDownloaded:!m}}function Cee(t,e){let r=t.version;if(e.minVersion&&r){let n=gc(r.trim());if(n&&pu(n,e.minVersion)){let i=`${e.label} ${e.minVersion.join(".")} or later required.`;throw new $e({description:i,data:{reload:!1}})}}}async function bv(t){let{build:e,commit:r,quality:n,web:i,output:o}=t,s="Downloading VS Code Server",a=o.start(s);o.write(`${r} ${e.id} ${n} ${i?"web":""}`);let c=Gd(t);await Tn(Oe.dirname(c));let l=`https://update.code.visualstudio.com/commit:${r}/server-${e.id}${i?"-web":""}/${n}`;try{let u=`${c}_${Date.now()}`;await new Promise((f,d)=>{let p=Nv.createWriteStream(u);wM.https.get(l,m=>{if(m.statusCode<200||m.statusCode>299){d(new $e({description:"Downloading the VS Code Server failed. Please try again later.",originalError:`Failed to download VS Code Server (${l}): HTTP ${m.statusCode} - ${m.statusMessage}`}));return}m.on("error",d),m.pipe(p),m.on("end",f)}).on("error",d)}),await jo(u,c)}catch(u){if(t.alternateDownload){o.write(u&&(u.originalError||u.message)),o.write("Retrying to download VS Code Server.");let f=`${c}_${Date.now()}`;await t.alternateDownload(l,f),await jo(f,c)}else throw u||new Error("Failed to download VS Code Server.")}finally{o.stop(s,a)}}async function zd(t,e,r,n,i,o=!0){let s="Installing VS Code Server",a=t.output.start(s);try{let c=`${n}_${Date.now()}`;if(await e.exec(`mkdir -p ${c}`),i)typeof r=="string"&&r.endsWith(".zip")?await e.exec(`unzip ${r} -d ${c}`):await e.exec(`cat ${r} | tar --no-same-owner -x${o?"z":""} -C ${c}`);else{let l=typeof r=="string"?await tt(r):r;await e.exec(`${G_(l.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${c}`,{stdin:l})}await e.exec(`mv -n ${Oe.posix.join(c,"*",".")} ${n} && rmdir ${c}`)}finally{t.output.stop(s,a)}}async function TM(t){let{localCacheFolder:e,build:r,commit:n,quality:i,web:o,output:s}=t,a="Unpacking VS Code Server",c=s.start(a);s.write(`${n} ${r.id} ${i} ${o?"web":""}`);try{let l=await SM(Oe,e,r,n,i,o),u=`${l}_${Date.now()}`;await Tn(u);let f=Gd(t);await(await Ws(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",f,"--strip-components","1","-C",u],cwd:process.cwd(),output:s})).exit,await Ps(l,{recursive:!0,force:!0}),await jo(u,l)}finally{s.stop(a,c)}}function Gd(t){let{localCacheFolder:e,build:r,commit:n,quality:i,web:o}=t,s=Oe.join(e,"serverCache",n),a=`vscode-server-${r.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${r.archiveExt||".tar.gz"}`;return Oe.join(s,a)}async function AM(t,e){let r={VSCODE_AGENT_FOLDER:e.userDataFolder},{stdout:n}=await Jo(t,e,[Oe.posix.join(e.installFolder,...Yd(t.product)),...FM(e.userDataFolder),...qM(t.getTelemetryLevel()),"--list-extensions"],e.installFolder,{remoteEnv:r});return n.toString().split(`
`).filter(i=>!!i)}async function DM(t,e,r){let n="Preparing Extensions",i=t.output.start(n),{sharedDataFolder:o}=e,s=o?Pee(o):void 0,a=RM(e),c=await bee(t,e,r);if(e.sharedDataFolderIsLocalCacheFolder)e.shellServer.exec(`mkdir -p '${s}' && ln -s -T '${s}' '${a}' || true`),e.launchRootShellServer&&(await e.launchRootShellServer()).exec(`chown -R ${e.user} ${s}`);else{let l=xee(t.localCacheFolder),u=await Eee(t,e,l,s,a,[...c.builtinExtensions,...c.extensions]);_ee(t,e,l,s,a,u).catch(console.error)}return t.output.stop(n,i),c}async function bee(t,e,r){let n=ai(e),i=Oe.posix.join(n,".installExtensionsMarker"),o=!await Bv(e.shellServer,i),s=o?[]:t.installBuiltinExtensions||[],a=await t.getAdditionalExtensionsToInstall(o),c=o?[]:await r();for(let u of a)c.indexOf(u)===-1&&c.push(u);let l=[].concat(...s.map(u=>["--install-builtin-extension",u]),...c.map(u=>["--install-extension",u]));return t.cliMode&&l.length&&l.push("--do-not-sync"),{builtinExtensions:s,extensions:c,args:l}}async function Eee(t,e,r,n,i,o){t.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=e,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(c=>!!c);if(n){let c=(await s.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(u=>!!u),l=c.filter(u=>o.some(f=>u.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(u)===-1);if(t.output.write(`Extensions cache, link in container: ${l.join(", ")||"None"}`),l.length){await s.exec(`mkdir -p '${i}' && ln -s '${n}'/* '${i}' || true`);let{launchRootShellServer:u}=e;u&&(async()=>{await(await u()).exec(`cd ${n} && touch ${l.map(d=>`'${d}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...c])],cachedExtensions:c}}else{await Tn(r);let c=await Qn(r),l=c.filter(u=>o.some(f=>u.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(u)===-1);if(t.output.write(`Extensions cache, copy to remote: ${l.join(", ")||"None"}`),l.length){let u=Oe.basename(r),f=Lv.c({cwd:Oe.dirname(r)},l.map(h=>Oe.join(u,h))),d=Oe.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(h=>{let m=[];f.on("data",g=>m.push(g)),f.on("end",()=>h(Buffer.concat(m)))});await s.exec(`# Copy extensions to remote
mkdir -p ${d}
${G_(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${d}
mv ${d}/* ${i} && rmdir ${d}`,{stdin:p})}return{remoteExtensions:a.concat(l),cachedExtensions:c}}}async function _ee(t,e,r,n,i,o){if(n&&!e.launchRootShellServer)return;let s=1e4,a=6e4;for(await po(s);;)o=await See(t,e,r,n,i,o),await po(a)}async function See(t,e,r,n,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:c,remoteExec:l}=e,u=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(d=>!!d);if(!n){let d=o.filter(p=>u.indexOf(p)===-1);t.output.write(`Extensions cache, remote removals: ${d.join(", ")||"None"}`);for(let p of d)try{await pA(Oe.join(r,p))}catch(h){if(!(h&&h.code==="ENOENT"))throw h}}let f=u.filter(d=>o.indexOf(d)===-1&&s.indexOf(d)===-1);if(t.output.write(`Extensions cache, copy to ${n?"shared cache":"local"}: ${f.join(", ")||"None"}`,he.Trace),f.length)if(n){let d=await c();await d.exec(`mkdir -p '${n}' && cd '${i}' && cp ${f.map(p=>`'${p}'`).join(" ")} '${n}'`),await d.exec(`cd '${n}' && ls -t | tail -n +50 | xargs rm -f`)}else{let d=Oe.posix.basename(i),p=await l({cmd:"tar",cwd:Oe.posix.dirname(i),args:["c",...f.map(v=>Oe.posix.join(d,v))],output:t.output}),h=Oe.join(Oe.dirname(r),`${Oe.basename(r)}-${Date.now()}`);await Tn(h);let m=Lv.x({cwd:h,strip:1}),g=new Promise((v,y)=>{m.on("error",y),m.on("finish",v)});p.stdout.pipe(m),await g;for(let v of await Qn(h))await jo(Oe.join(h,v),Oe.join(r,v));await hA(h)}return{remoteExtensions:u,cachedExtensions:s}}var H_="extensionsCache";function xee(t){return Oe.join(t,H_)}function Pee(t){return Oe.posix.join(t,H_)}function RM(t){return Oe.posix.join(t.userDataFolder,H_)}var kee={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},OM={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},S_={label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},Iee={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function x_(t,e){let r=Iee[t.hardware];if(t.id==="alpine"){let i=r&&OM[r];if(!i)throw new $e({description:`Alpine Linux is not supported on the hardware architecture '${t.hardware}' of the container.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return i}let n=r&&kee[r];if(!n||e&&!n.stable)throw new $e({description:`The hardware architecture '${t.hardware}' of the container is not supported.`,data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return n}async function P_(t){let e="unknown",r="unknown",n="unknown";try{e=(await t.exec("uname -m")).stdout.trim();let{stdout:i}=await t.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");r=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",n=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:e,id:r,version:n}}async function V_(t,e,r,n,i,o,s,a){let c=Oe.posix.join(ai(e),`.${n}Marker`),l=!!e.createdAt&&await NM(e.shellServer,c,e.createdAt)||s;await z_(t,e,r,n,i,o,l,a)}async function Tee(t,e,r,n,i,o){let s=Oe.posix.join(ai(e),".postStartCommandMarker"),a=!!e.startedAt&&await NM(e.shellServer,s,e.startedAt);await z_(t,e,r,"postStartCommand",n,i,a,o)}async function NM(t,e,r){try{return await t.exec(`mkdir -p '${Oe.posix.dirname(e)}' && CONTENT="$(cat '${e}' 2>/dev/null || echo ENOENT)" && [ "\${CONTENT:-${r}}" != '${r}' ] && echo '${r}' > '${e}'`),!0}catch{return!1}}async function Aee(t,e,r,n,i,o){await z_(t,e,r,"postAttachCommand",n,i,!0,o)}async function z_({postCreate:t},e,r,n,i,o,s,a){let c=r[n];if(s&&c&&(typeof c=="string"?c.trim():c.length)){await o;let l=`Running ${n}...`,u=typeof c=="string"?c:c.join(" "),f=Hr({event(d){t.output.event(d),d.type==="raw"&&d.text.includes("::endstep::")&&t.output.event({type:"progress",name:l,status:"running",stepDetail:""}),d.type==="raw"&&d.text.includes("::step::")&&t.output.event({type:"progress",name:l,status:"running",stepDetail:`${d.text.split("::step::")[1].split(`\r
`)[0]}`})},get dimensions(){return t.output.dimensions},onDidChangeDimensions:t.output.onDidChangeDimensions},he.Info);try{f.event({type:"progress",name:l,status:"running",stepDetail:u});let d=e.remoteWorkspaceFolder||e.homeFolder;f.raw(`[1mRunning the ${n} from devcontainer.json...[0m\r
\r
`),await Lee(ge(W({},t),{output:f}),e,typeof c=="string"?["/bin/sh","-c",c]:c,d,{remoteEnv:await i,print:"continuous"}),f.raw(`\r
`),f.event({type:"progress",name:l,status:"succeeded"})}catch(d){if(f.event({type:"progress",name:l,status:"failed"}),d&&(d.code===130||d.signal===2))f.raw(`\r
[1m${n} interrupted.[0m\r
\r
`);else throw(d==null?void 0:d.code)&&f.write(it(`${n} failed with exit code ${d.code}. Skipping any further user-provided commands.`)),new $e({description:`The ${n} in the devcontainer.json failed.`,originalError:d})}}n===(r.waitFor||B_)&&a()}async function Bv(t,e){try{return await t.exec(Tv(e)),!0}catch{return!1}}function Tv(t){return`test ! -f '${t}' && set -o noclobber && mkdir -p '${Oe.posix.dirname(t)}' && { > '${t}' ; } 2> /dev/null`}async function Hv(t,e){try{return await Dee(t,e),!0}catch{return!1}}async function Dee(t,e){return t.exec(`test -d ${e}`)}async function LM(t,e,r,n,i,o){let{userDataFolder:s,installFolder:a,sharedInstallFolder:c,shellServer:l}=e,{processes:u,mntNS:f}=await t_(l),d=`(${Oe.posix.join(...Yd(t.product,!1))}|${Oe.posix.join(...Yd(t.product,!0))})`.replace(".","\\."),p=new RegExp(`${Oe.posix.join(Oe.posix.dirname(a).replace(".","\\."),"[^/]*",d)}`),h=u.filter(Y=>Y.mntNS===f&&p.test(Y.cmd));t.output.write(`Running extension host agents:
${JSON.stringify(h,void 0,"  ")}`,he.Trace);let{current:m,others:g}=h.reduce((Y,ee)=>(Y[(ee.cwd===a||ee.cwd===c)&&p.test(ee.cmd)?"current":"others"].push(ee),Y),{current:[],others:[]});if(!t.cliMode&&g.length){t.output.write(`Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${g.map(Y=>Y.pgrp?`-${Y.pgrp}`:Y.pid).join(" ")}`)}catch{}}let{commit:v,quality:y}=t.product,C=Oe.posix.join(ai(e),`.connection-token-${v}${y==="stable"?"":`-${y}`}${t.web?"-web":""}`),b=Oe.posix.join(ai(e),`.devport-${v}${y==="stable"?"":`-${y}`}${t.web?"-web":""}`);if(m.length){t.output.write(`Extension host agent is already running.\r
`);try{let{stdout:Y}=await l.exec(`cat '${b}' 2>/dev/null`),ee=Y.toString().trim(),re=parseInt(ee,10),j=new RegExp(` '?${MM(t.product)}'? `).test(m[0].cmd)?(await l.exec(`cat '${C}'`)).stdout.toString().trim():void 0,F=(/'?--connectionToken'? '?([^ ']+)'? /.exec(m[0].cmd)||[])[1];return{serverPort:re,connectionToken:j,webConnectionToken:F}}catch(Y){console.error(Y),t.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await l.exec(`kill -9 ${m.map(ee=>ee.pgrp?`-${ee.pgrp}`:ee.pid).join(" ")}`)}catch{}}}let _=!!t.webConnectionToken,P;if(!_){let Y=`${C}-${Nn()}`,{stdout:ee}=await l.exec(`cat '${C}' 2>/dev/null || (umask 377 && echo '${Nn()}' >'${Y}' && mv -n '${Y}' '${C}' && rm -f '${Y}' && cat '${C}')`);P=ee.toString().trim()}t.progress(5);let S="Starting VS Code Server",x=t.output.start(S),T=[Oe.posix.join(a,...Yd(t.product,_)),"--log",$s(t.getLogLevel()),"--force-disable-user-env",...FM(e.userDataFolder),...Ree(t),...qM(t.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(r),...t.webConnectionToken?["--connectionToken",t.webConnectionToken]:[],...P?[MM(t.product),C]:[],"--extensions-download-dir",RM(e),...(await i()).args,"--start-server",...t.isLocalContainer?["--disable-websocket-compression"]:[""],...t.cliMode?["--enable-remote-auto-shutdown"]:[]],N=(await Jo(t,{remoteExec:e.remoteExec},T,a,{remoteEnv:W({SHELL:e.shell,VSCODE_AGENT_FOLDER:s},t.cliMode?await o:{}),resolveOn:EM,print:"continuous"})).cmdOutput;t.output.stop(S,x);let q=(EM.exec(N)||[])[1];if(!q)throw new Error("Port not found");return await l.exec(`echo ${q} >'${b}'`),{serverPort:parseInt(q,10),connectionToken:P,webConnectionToken:t.webConnectionToken}}function FM(t){return["--server-data-dir",t]}function MM(t){return t.serverApplicationName?"--connection-token-file":"--connection-secret"}function Ree(t){return t.isLocalContainer?["--use-host-proxy"]:[]}function qM(t){return t?["--telemetry-level",t]:[]}var Oee=/^([a-z0-9\-]+):(\d{1,5})$/;function Nee(t){let e=t.match(Oee);if(!(!e||e.length!==3))return{host:e[1],port:Number(e[2])}}async function jM(t,e,r){let n=await t.getTunnels();await Promise.all((r.forwardPorts||[]).filter(i=>!n.find(o=>o.remoteAddress.port===i)).map(async i=>{let o,s;if(typeof i=="number")o=i;else{let a=Nee(i);if(!a)return;s=a.host,o=a.port}return t.openTunnel(e,o,s)}))}async function Lee(t,{remotePtyExec:e},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?Rt:t.output}),a="",c,l=new Promise(d=>{c=d});s.onData(d=>{a+=d,o==="continuous"&&t.output.raw(d),i.resolveOn&&i.resolveOn.exec(a)&&c()});let u=t.onDidInput&&t.onDidInput(d=>s.write(d)),f=await Promise.race([s.exit,l]);return u&&u.dispose(),o==="end"&&t.output.raw(a),f&&(f.code||f.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:a,code:f.code,signal:f.signal}):{cmdOutput:a}}async function Jo(t,{remoteExec:e},r,n,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:n,cmd:r[0],args:r.slice(1),output:i.silent?Rt:t.output}),a=[],c=[],l=new U_.StringDecoder,u=new U_.StringDecoder,f="",d="",p,h,m=new Promise((b,_)=>{p=b,h=_});s.stdout.on("data",b=>{a.push(b);let _=l.write(b);o==="continuous"&&t.output.write(_.replace(/\r?\n/g,`\r
`)),f+=_,i.resolveOn&&i.resolveOn.exec(f)&&p()}),s.stderr.on("data",b=>{c.push(b),d+=u.write(b)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,b=>{b&&h(b)}),s.stdin.end()):i.stdin instanceof Nv.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,m]),v=Buffer.concat(a),y=Buffer.concat(c);o==="end"&&(t.output.write(f.replace(/\r?\n/g,`\r
`)),t.output.write(it(d)));let C=`${f}
${d}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${r.join(" ")}`,cmdOutput:C,stdout:v,stderr:y,code:g.code,signal:g.signal}):{cmdOutput:C,stdout:v,stderr:y}}function G_(t){let e=8*1024,r=t%e,n=(t-r)/e;return`(dd iflag=fullblock bs=${e} count=${n} 2>/dev/null; dd iflag=fullblock bs=${r} count=1 2>/dev/null)`}async function Fee(t,e){let r=Oe.posix.join(mu(t.product.serverDataFolderName),".patchEtcEnvironmentMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await Vd(e.shellServer,r)){let n=await e.launchRootShellServer();await Bv(n,r)&&await n.exec(`cat >> /etc/environment <<'etcEnvrionmentEOF'
${Object.keys(e.env).map(i=>`
${i}="${e.env[i]}"`).join("")}
etcEnvrionmentEOF
`)}}async function Mee(t,e){let r=Oe.posix.join(mu(t.product.serverDataFolderName),".patchEtcProfileMarker");if(t.allowSystemConfigChange&&e.launchRootShellServer&&!await Vd(e.shellServer,r)){let n=await e.launchRootShellServer();await Bv(n,r)&&await n.exec("sed -i -E 's/((^|\\s)PATH=)([^\\$]*)$/\\1${PATH:-\\3}/g' /etc/profile || true")}}async function fu(t,e,r,n){let i=await $M(t,e,r,n,"cat /proc/self/environ","\0");return i||(t.output.write("userEnvProbe: falling back to printenv"),await $M(t,e,r,n,"printenv",`
`)||{})}async function $M(t,e,r,n,i,o){var a;let{userEnvProbe:s}=r||{};if(t.output.write(`userEnvProbe: ${s||t.defaultUserEnvProbe}${s?"":" (default)"}`),s||(s=t.defaultUserEnvProbe),s==="none")return{};try{let l=(await(0,bM.promisify)(CM.randomBytes)(16)).toString("hex"),u=new RegExp(l+"([^]*)"+l),f=e.shell;t.output.write(`userEnvProbe shell: ${f}`);let d=Oe.posix.basename(f),p=`echo -n ${l}; ${i}; echo -n ${l}`,h;/^pwsh(-preview)?$/.test(d)?h=s==="loginInteractiveShell"||s==="loginShell"?["-Login","-Command"]:["-Command"]:h=[s==="loginInteractiveShell"?"-lic":s==="loginShell"?"-lc":s==="interactiveShell"?"-ic":"-c"];let m=Hr(t.output,he.Trace),g=Jo({output:m},{remoteExec:await n||e.remoteExec},[f,...h,p],e.installFolder);Promise.race([g,po(2e3)]).then(async T=>{if(!T){let A,N=e.shellServer||await Ko(e.remoteExec,t.output);try{({processes:A}=await t_(N))}finally{e.shellServer||await N.process.terminate()}let q=A.find(J=>J.cmd.startsWith(f)&&J.cmd.indexOf(l)!==-1);if(q){let Y=S1(A)[q.pid];t.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${r_(Y)}`)}else t.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(T=>t.output.write(it(T&&(T.stack||T.message)||"Error reading process tree.")));let v=await Promise.race([g,po(1e4)]);if(!v)return t.output.write(it("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let y=v.stdout.toString(),C=u.exec(y),b=C?C[1]:"";if(!b||b.trim()==="-n")return;let _=b.split(o).reduce((T,A)=>{let N=A.indexOf("=");return N!==-1&&(T[A.substring(0,N)]=A.substring(N+1)),T},{});t.output.write(`userEnvProbe parsed: ${JSON.stringify(_,void 0,"  ")}`,he.Trace),delete _.PWD;let P=_.PATH,S=(a=e.env)==null?void 0:a.PATH,x=!(t.allowSystemConfigChange&&e.launchRootShellServer)&&P&&S;if(x){let T=e.user;_.PATH=qee(P,S,T==="root"||T==="0")}return t.output.write(`userEnvProbe PATHs:
Probe:     ${typeof P=="string"?`'${P}'`:"None"}
Container: ${typeof S=="string"?`'${S}'`:"None"}${x?`
Merged:    ${typeof _.PATH=="string"?`'${_.PATH}'`:"None"}`:""}`),_}catch(c){return t.output.write(it(c&&(c.stack||c.message)||"Error reading shell environment.")),{}}}function qee(t,e,r){let n=t.split(":"),i=0;for(let o of e.split(":")){let s=n.indexOf(o);s===-1?(r||!/\/sbin(\/|$)/.test(o))&&n.splice(i++,0,o):i=s+1}return n.join(":")}async function UM(t){for(let e of t)await(typeof e=="function"?e():e)}var Rq=te(require("crypto")),op=te(require("path"));function BM(t){return typeof t=="undefined"||t===null}function jee(t){return typeof t=="object"&&t!==null}function $ee(t){return Array.isArray(t)?t:BM(t)?[]:[t]}function Uee(t,e){var r,n,i,o;if(e)for(o=Object.keys(e),r=0,n=o.length;r<n;r+=1)i=o[r],t[i]=e[i];return t}function Bee(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function Hee(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Vee=BM,zee=jee,Gee=$ee,Wee=Bee,Kee=Hee,Yee=Uee,dr={isNothing:Vee,isObject:zee,toArray:Gee,repeat:Wee,isNegativeZero:Kee,extend:Yee};function HM(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function Zd(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=HM(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Zd.prototype=Object.create(Error.prototype);Zd.prototype.constructor=Zd;Zd.prototype.toString=function(e){return this.name+": "+HM(this,e)};var fn=Zd;function W_(t,e,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-e>a&&(o=" ... ",e=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+t.slice(e,r).replace(/\t/g,"\u2192")+s,pos:n-e+o.length}}function K_(t,e){return dr.repeat(" ",e-t.length)+t}function Jee(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(t.buffer);)i.push(o.index),n.push(o.index+o[0].length),t.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,l,u=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+u+3);for(c=1;c<=e.linesBefore&&!(s-c<0);c++)l=W_(t.buffer,n[s-c],i[s-c],t.position-(n[s]-n[s-c]),f),a=dr.repeat(" ",e.indent)+K_((t.line-c+1).toString(),u)+" | "+l.str+`
`+a;for(l=W_(t.buffer,n[s],i[s],t.position,f),a+=dr.repeat(" ",e.indent)+K_((t.line+1).toString(),u)+" | "+l.str+`
`,a+=dr.repeat("-",e.indent+u+3+l.pos)+`^
`,c=1;c<=e.linesAfter&&!(s+c>=i.length);c++)l=W_(t.buffer,n[s+c],i[s+c],t.position-(n[s]-n[s+c]),f),a+=dr.repeat(" ",e.indent)+K_((t.line+c+1).toString(),u)+" | "+l.str+`
`;return a.replace(/\n$/,"")}var Qee=Jee,Xee=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Zee=["scalar","sequence","mapping"];function ete(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function tte(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(Xee.indexOf(r)===-1)throw new fn('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=ete(e.styleAliases||null),Zee.indexOf(this.kind)===-1)throw new fn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var zr=tte;function VM(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function rte(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function Y_(t){return this.extend(t)}Y_.prototype.extend=function(e){var r=[],n=[];if(e instanceof zr)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new fn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof zr))throw new fn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new fn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new fn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof zr))throw new fn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Y_.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=VM(i,"implicit"),i.compiledExplicit=VM(i,"explicit"),i.compiledTypeMap=rte(i.compiledImplicit,i.compiledExplicit),i};var nte=Y_,ite=new zr("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),ote=new zr("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),ste=new zr("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),ate=new nte({explicit:[ite,ote,ste]});function cte(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function lte(){return null}function ute(t){return t===null}var fte=new zr("tag:yaml.org,2002:null",{kind:"scalar",resolve:cte,construct:lte,predicate:ute,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function dte(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function pte(t){return t==="true"||t==="True"||t==="TRUE"}function hte(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var mte=new zr("tag:yaml.org,2002:bool",{kind:"scalar",resolve:dte,construct:pte,predicate:hte,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function gte(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function vte(t){return 48<=t&&t<=55}function yte(t){return 48<=t&&t<=57}function wte(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!gte(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!vte(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!yte(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function Cte(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function bte(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1==0&&!dr.isNegativeZero(t)}var Ete=new zr("tag:yaml.org,2002:int",{kind:"scalar",resolve:wte,construct:Cte,predicate:bte,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_te=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Ste(t){return!(t===null||!_te.test(t)||t[t.length-1]==="_")}function xte(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}var Pte=/^[-+]?[0-9]+e/;function kte(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(dr.isNegativeZero(t))return"-0.0";return r=t.toString(10),Pte.test(r)?r.replace("e",".e"):r}function Ite(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!=0||dr.isNegativeZero(t))}var Tte=new zr("tag:yaml.org,2002:float",{kind:"scalar",resolve:Ste,construct:xte,predicate:Ite,represent:kte,defaultStyle:"lowercase"}),Ate=ate.extend({implicit:[fte,mte,Ete,Tte]}),Dte=Ate,zM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),GM=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Rte(t){return t===null?!1:zM.exec(t)!==null||GM.exec(t)!==null}function Ote(t){var e,r,n,i,o,s,a,c=0,l=null,u,f,d;if(e=zM.exec(t),e===null&&(e=GM.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(c=e[7].slice(0,3);c.length<3;)c+="0";c=+c}return e[9]&&(u=+e[10],f=+(e[11]||0),l=(u*60+f)*6e4,e[9]==="-"&&(l=-l)),d=new Date(Date.UTC(r,n,i,o,s,a,c)),l&&d.setTime(d.getTime()-l),d}function Nte(t){return t.toISOString()}var Lte=new zr("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Rte,construct:Ote,instanceOf:Date,represent:Nte});function Fte(t){return t==="<<"||t===null}var Mte=new zr("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Fte}),J_=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function qte(t){if(t===null)return!1;var e,r,n=0,i=t.length,o=J_;for(r=0;r<i;r++)if(e=o.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8==0}function jte(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,o=J_,s=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(e));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function $te(t){var e="",r=0,n,i,o=t.length,s=J_;for(n=0;n<o;n++)n%3==0&&n&&(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]),r=(r<<8)+t[n];return i=o%3,i===0?(e+=s[r>>18&63],e+=s[r>>12&63],e+=s[r>>6&63],e+=s[r&63]):i===2?(e+=s[r>>10&63],e+=s[r>>4&63],e+=s[r<<2&63],e+=s[64]):i===1&&(e+=s[r>>2&63],e+=s[r<<4&63],e+=s[64],e+=s[64]),e}function Ute(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Bte=new zr("tag:yaml.org,2002:binary",{kind:"scalar",resolve:qte,construct:jte,predicate:Ute,represent:$te}),Hte=Object.prototype.hasOwnProperty,Vte=Object.prototype.toString;function zte(t){if(t===null)return!0;var e=[],r,n,i,o,s,a=t;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,Vte.call(i)!=="[object Object]")return!1;for(o in i)if(Hte.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function Gte(t){return t!==null?t:[]}var Wte=new zr("tag:yaml.org,2002:omap",{kind:"sequence",resolve:zte,construct:Gte}),Kte=Object.prototype.toString;function Yte(t){if(t===null)return!0;var e,r,n,i,o,s=t;for(o=new Array(s.length),e=0,r=s.length;e<r;e+=1){if(n=s[e],Kte.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[e]=[i[0],n[i[0]]]}return!0}function Jte(t){if(t===null)return[];var e,r,n,i,o,s=t;for(o=new Array(s.length),e=0,r=s.length;e<r;e+=1)n=s[e],i=Object.keys(n),o[e]=[i[0],n[i[0]]];return o}var Qte=new zr("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Yte,construct:Jte}),Xte=Object.prototype.hasOwnProperty;function Zte(t){if(t===null)return!0;var e,r=t;for(e in r)if(Xte.call(r,e)&&r[e]!==null)return!1;return!0}function ere(t){return t!==null?t:{}}var tre=new zr("tag:yaml.org,2002:set",{kind:"mapping",resolve:Zte,construct:ere}),WM=Dte.extend({implicit:[Lte,Mte],explicit:[Bte,Wte,Qte,tre]}),Js=Object.prototype.hasOwnProperty,Vv=1,KM=2,YM=3,zv=4,Q_=1,rre=2,JM=3,nre=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,ire=/[\x85\u2028\u2029]/,ore=/[,\[\]\{\}]/,QM=/^(?:!|!!|![a-z\-]+!)$/i,XM=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ZM(t){return Object.prototype.toString.call(t)}function ho(t){return t===10||t===13}function yc(t){return t===9||t===32}function dn(t){return t===9||t===32||t===10||t===13}function vu(t){return t===44||t===91||t===93||t===123||t===125}function sre(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function are(t){return t===120?2:t===117?4:t===85?8:0}function cre(t){return 48<=t&&t<=57?t-48:-1}function eq(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function lre(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var tq=new Array(256),rq=new Array(256);for(wc=0;wc<256;wc++)tq[wc]=eq(wc)?1:0,rq[wc]=eq(wc);var wc;function ure(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||WM,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function nq(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=Qee(r),new fn(e,r)}function Ne(t,e){throw nq(t,e)}function Gv(t,e){t.onWarning&&t.onWarning.call(null,nq(t,e))}var iq={YAML:function(e,r,n){var i,o,s;e.version!==null&&Ne(e,"duplication of %YAML directive"),n.length!==1&&Ne(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&Ne(e,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&Ne(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&Gv(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,o;n.length!==2&&Ne(e,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],QM.test(i)||Ne(e,"ill-formed tag handle (first argument) of the TAG directive"),Js.call(e.tagMap,i)&&Ne(e,'there is a previously declared suffix for "'+i+'" tag handle'),XM.test(o)||Ne(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{Ne(e,"tag prefix is malformed: "+o)}e.tagMap[i]=o}};function Qs(t,e,r,n){var i,o,s,a;if(e<r){if(a=t.input.slice(e,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||Ne(t,"expected valid JSON character");else nre.test(a)&&Ne(t,"the stream contains non-printable characters");t.result+=a}}function oq(t,e,r,n){var i,o,s,a;for(dr.isObject(r)||Ne(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],Js.call(e,o)||(e[o]=r[o],n[o]=!0)}function yu(t,e,r,n,i,o,s,a,c){var l,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),l=0,u=i.length;l<u;l+=1)Array.isArray(i[l])&&Ne(t,"nested arrays are not supported inside keys"),typeof i=="object"&&ZM(i[l])==="[object Object]"&&(i[l]="[object Object]");if(typeof i=="object"&&ZM(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(l=0,u=o.length;l<u;l+=1)oq(t,e,o[l],r);else oq(t,e,o,r);else!t.json&&!Js.call(r,i)&&Js.call(e,i)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=c||t.position,Ne(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete r[i];return e}function X_(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Ne(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function ir(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;yc(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(ho(i))for(X_(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&Gv(t,"deficient indentation"),n}function Wv(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||dn(r)))}function Z_(t,e){e===1?t.result+=" ":e>1&&(t.result+=dr.repeat(`
`,e-1))}function fre(t,e,r){var n,i,o,s,a,c,l,u,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),dn(p)||vu(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),dn(i)||r&&vu(i)))return!1;for(t.kind="scalar",t.result="",o=s=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),dn(i)||r&&vu(i))break}else if(p===35){if(n=t.input.charCodeAt(t.position-1),dn(n))break}else{if(t.position===t.lineStart&&Wv(t)||r&&vu(p))break;if(ho(p))if(c=t.line,l=t.lineStart,u=t.lineIndent,ir(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=c,t.lineStart=l,t.lineIndent=u;break}}a&&(Qs(t,o,s,!1),Z_(t,t.line-c),o=s=t.position,a=!1),yc(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return Qs(t,o,s,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function dre(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(Qs(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else ho(r)?(Qs(t,n,i,!0),Z_(t,ir(t,!1,e)),n=i=t.position):t.position===t.lineStart&&Wv(t)?Ne(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Ne(t,"unexpected end of the stream within a single quoted scalar")}function pre(t,e){var r,n,i,o,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Qs(t,r,t.position,!0),t.position++,!0;if(a===92){if(Qs(t,r,t.position,!0),a=t.input.charCodeAt(++t.position),ho(a))ir(t,!1,e);else if(a<256&&tq[a])t.result+=rq[a],t.position++;else if((s=are(a))>0){for(i=s,o=0;i>0;i--)a=t.input.charCodeAt(++t.position),(s=sre(a))>=0?o=(o<<4)+s:Ne(t,"expected hexadecimal character");t.result+=lre(o),t.position++}else Ne(t,"unknown escape sequence");r=n=t.position}else ho(a)?(Qs(t,r,n,!0),Z_(t,ir(t,!1,e)),r=n=t.position):t.position===t.lineStart&&Wv(t)?Ne(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}Ne(t,"unexpected end of the stream within a double quoted scalar")}function hre(t,e){var r=!0,n,i,o,s=t.tag,a,c=t.anchor,l,u,f,d,p,h=Object.create(null),m,g,v,y;if(y=t.input.charCodeAt(t.position),y===91)u=93,p=!1,a=[];else if(y===123)u=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),y=t.input.charCodeAt(++t.position);y!==0;){if(ir(t,!0,e),y=t.input.charCodeAt(t.position),y===u)return t.position++,t.tag=s,t.anchor=c,t.kind=p?"mapping":"sequence",t.result=a,!0;r?y===44&&Ne(t,"expected the node content, but found ','"):Ne(t,"missed comma between flow collection entries"),g=m=v=null,f=d=!1,y===63&&(l=t.input.charCodeAt(t.position+1),dn(l)&&(f=d=!0,t.position++,ir(t,!0,e))),n=t.line,i=t.lineStart,o=t.position,wu(t,e,Vv,!1,!0),g=t.tag,m=t.result,ir(t,!0,e),y=t.input.charCodeAt(t.position),(d||t.line===n)&&y===58&&(f=!0,y=t.input.charCodeAt(++t.position),ir(t,!0,e),wu(t,e,Vv,!1,!0),v=t.result),p?yu(t,a,h,g,m,v,n,i,o):f?a.push(yu(t,null,h,g,m,v,n,i,o)):a.push(m),ir(t,!0,e),y=t.input.charCodeAt(t.position),y===44?(r=!0,y=t.input.charCodeAt(++t.position)):r=!1}Ne(t,"unexpected end of the stream within a flow collection")}function mre(t,e){var r,n,i=Q_,o=!1,s=!1,a=e,c=0,l=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)Q_===i?i=f===43?JM:rre:Ne(t,"repeat of a chomping mode identifier");else if((u=cre(f))>=0)u===0?Ne(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?Ne(t,"repeat of an indentation width identifier"):(a=e+u-1,s=!0);else break;if(yc(f)){do f=t.input.charCodeAt(++t.position);while(yc(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!ho(f)&&f!==0)}for(;f!==0;){for(X_(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),ho(f)){c++;continue}if(t.lineIndent<a){i===JM?t.result+=dr.repeat(`
`,o?1+c:c):i===Q_&&o&&(t.result+=`
`);break}for(n?yc(f)?(l=!0,t.result+=dr.repeat(`
`,o?1+c:c)):l?(l=!1,t.result+=dr.repeat(`
`,c+1)):c===0?o&&(t.result+=" "):t.result+=dr.repeat(`
`,c):t.result+=dr.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=t.position;!ho(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Qs(t,r,t.position,!1)}return!0}function sq(t,e){var r,n=t.tag,i=t.anchor,o=[],s,a=!1,c;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),c=t.input.charCodeAt(t.position);c!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ne(t,"tab characters must not be used in indentation")),!(c!==45||(s=t.input.charCodeAt(t.position+1),!dn(s))));){if(a=!0,t.position++,ir(t,!0,-1)&&t.lineIndent<=e){o.push(null),c=t.input.charCodeAt(t.position);continue}if(r=t.line,wu(t,e,YM,!1,!0),o.push(t.result),ir(t,!0,-1),c=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&c!==0)Ne(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=o,!0):!1}function gre(t,e,r){var n,i,o,s,a,c,l=t.tag,u=t.anchor,f={},d=Object.create(null),p=null,h=null,m=null,g=!1,v=!1,y;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),y=t.input.charCodeAt(t.position);y!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Ne(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),o=t.line,(y===63||y===58)&&dn(n))y===63?(g&&(yu(t,f,d,p,h,null,s,a,c),p=h=m=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):Ne(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,y=n;else{if(s=t.line,a=t.lineStart,c=t.position,!wu(t,r,KM,!1,!0))break;if(t.line===o){for(y=t.input.charCodeAt(t.position);yc(y);)y=t.input.charCodeAt(++t.position);if(y===58)y=t.input.charCodeAt(++t.position),dn(y)||Ne(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(yu(t,f,d,p,h,null,s,a,c),p=h=m=null),v=!0,g=!1,i=!1,p=t.tag,h=t.result;else if(v)Ne(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=l,t.anchor=u,!0}else if(v)Ne(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=l,t.anchor=u,!0}if((t.line===o||t.lineIndent>e)&&(g&&(s=t.line,a=t.lineStart,c=t.position),wu(t,e,zv,!0,i)&&(g?h=t.result:m=t.result),g||(yu(t,f,d,p,h,m,s,a,c),p=h=m=null),ir(t,!0,-1),y=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&y!==0)Ne(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&yu(t,f,d,p,h,null,s,a,c),v&&(t.tag=l,t.anchor=u,t.kind="mapping",t.result=f),v}function vre(t){var e,r=!1,n=!1,i,o,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&Ne(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(r=!0,s=t.input.charCodeAt(++t.position)):s===33?(n=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(o=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):Ne(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!dn(s);)s===33&&(n?Ne(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),QM.test(i)||Ne(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),ore.test(o)&&Ne(t,"tag suffix cannot contain flow indicator characters")}o&&!XM.test(o)&&Ne(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{Ne(t,"tag name is malformed: "+o)}return r?t.tag=o:Js.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:i==="!"?t.tag="!"+o:i==="!!"?t.tag="tag:yaml.org,2002:"+o:Ne(t,'undeclared tag handle "'+i+'"'),!0}function yre(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&Ne(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!dn(r)&&!vu(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Ne(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function wre(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!dn(n)&&!vu(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Ne(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Js.call(t.anchorMap,r)||Ne(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],ir(t,!0,-1),!0}function wu(t,e,r,n,i){var o,s,a,c=1,l=!1,u=!1,f,d,p,h,m,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=zv===r||YM===r,n&&ir(t,!0,-1)&&(l=!0,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)),c===1)for(;vre(t)||yre(t);)ir(t,!0,-1)?(l=!0,a=o,t.lineIndent>e?c=1:t.lineIndent===e?c=0:t.lineIndent<e&&(c=-1)):a=!1;if(a&&(a=l||i),(c===1||zv===r)&&(Vv===r||KM===r?m=e:m=e+1,g=t.position-t.lineStart,c===1?a&&(sq(t,g)||gre(t,g,m))||hre(t,m)?u=!0:(s&&mre(t,m)||dre(t,m)||pre(t,m)?u=!0:wre(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&Ne(t,"alias node should not have any properties")):fre(t,m,Vv===r)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):c===0&&(u=a&&sq(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Ne(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(h=t.implicitTypes[f],h.resolve(t.result)){t.result=h.construct(t.result),t.tag=h.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Js.call(t.typeMap[t.kind||"fallback"],t.tag))h=t.typeMap[t.kind||"fallback"][t.tag];else for(h=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){h=p[f];break}h||Ne(t,"unknown tag !<"+t.tag+">"),t.result!==null&&h.kind!==t.kind&&Ne(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+h.kind+'", not "'+t.kind+'"'),h.resolve(t.result,t.tag)?(t.result=h.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Ne(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function Cre(t){var e=t.position,r,n,i,o=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(ir(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(o=!0,s=t.input.charCodeAt(++t.position),r=t.position;s!==0&&!dn(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&Ne(t,"directive name must not be less than one character in length");s!==0;){for(;yc(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!ho(s));break}if(ho(s))break;for(r=t.position;s!==0&&!dn(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}s!==0&&X_(t),Js.call(iq,n)?iq[n](t,n,i):Gv(t,'unknown document directive "'+n+'"')}if(ir(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,ir(t,!0,-1)):o&&Ne(t,"directives end mark is expected"),wu(t,t.lineIndent-1,zv,!1,!0),ir(t,!0,-1),t.checkLineBreaks&&ire.test(t.input.slice(e,t.position))&&Gv(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Wv(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,ir(t,!0,-1));return}if(t.position<t.length-1)Ne(t,"end of the stream or a document separator is expected");else return}function aq(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new ure(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,Ne(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Cre(r);return r.documents}function bre(t,e,r){e!==null&&typeof e=="object"&&typeof r=="undefined"&&(r=e,e=null);var n=aq(t,r);if(typeof e!="function")return n;for(var i=0,o=n.length;i<o;i+=1)e(n[i])}function Ere(t,e){var r=aq(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new fn("expected a single document in the stream, but found more")}}var _re=bre,Sre=Ere,cq={loadAll:_re,load:Sre},lq=Object.prototype.toString,uq=Object.prototype.hasOwnProperty,eS=65279,xre=9,ep=10,Pre=13,kre=32,Ire=33,Tre=34,tS=35,Are=37,Dre=38,Rre=39,Ore=42,fq=44,Nre=45,Kv=58,Lre=61,Fre=62,Mre=63,qre=64,dq=91,pq=93,jre=96,hq=123,$re=124,mq=125,Gr={};Gr[0]="\\0";Gr[7]="\\a";Gr[8]="\\b";Gr[9]="\\t";Gr[10]="\\n";Gr[11]="\\v";Gr[12]="\\f";Gr[13]="\\r";Gr[27]="\\e";Gr[34]='\\"';Gr[92]="\\\\";Gr[133]="\\N";Gr[160]="\\_";Gr[8232]="\\L";Gr[8233]="\\P";var Ure=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Bre=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Hre(t,e){var r,n,i,o,s,a,c;if(e===null)return{};for(r={},n=Object.keys(e),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=t.compiledTypeMap.fallback[s],c&&uq.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function Vre(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new fn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+dr.repeat("0",n-e.length)+e}var zre=1,tp=2;function Gre(t){this.schema=t.schema||WM,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=dr.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=Hre(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?tp:zre,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function gq(t,e){for(var r=dr.repeat(" ",e),n=0,i=-1,o="",s,a=t.length;n<a;)i=t.indexOf(`
`,n),i===-1?(s=t.slice(n),n=a):(s=t.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function rS(t,e){return`
`+dr.repeat(" ",t.indent*e)}function Wre(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function Yv(t){return t===kre||t===xre}function rp(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==eS||65536<=t&&t<=1114111}function vq(t){return rp(t)&&t!==eS&&t!==Pre&&t!==ep}function yq(t,e,r){var n=vq(t),i=n&&!Yv(t);return(r?n:n&&t!==fq&&t!==dq&&t!==pq&&t!==hq&&t!==mq)&&t!==tS&&!(e===Kv&&!i)||vq(e)&&!Yv(e)&&t===tS||e===Kv&&i}function Kre(t){return rp(t)&&t!==eS&&!Yv(t)&&t!==Nre&&t!==Mre&&t!==Kv&&t!==fq&&t!==dq&&t!==pq&&t!==hq&&t!==mq&&t!==tS&&t!==Dre&&t!==Ore&&t!==Ire&&t!==$re&&t!==Lre&&t!==Fre&&t!==Rre&&t!==Tre&&t!==Are&&t!==qre&&t!==jre}function Yre(t){return!Yv(t)&&t!==Kv}function np(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function wq(t){var e=/^\n* /;return e.test(t)}var Cq=1,nS=2,bq=3,Eq=4,Cu=5;function Jre(t,e,r,n,i,o,s,a){var c,l=0,u=null,f=!1,d=!1,p=n!==-1,h=-1,m=Kre(np(t,0))&&Yre(np(t,t.length-1));if(e||s)for(c=0;c<t.length;l>=65536?c+=2:c++){if(l=np(t,c),!rp(l))return Cu;m=m&&yq(l,u,a),u=l}else{for(c=0;c<t.length;l>=65536?c+=2:c++){if(l=np(t,c),l===ep)f=!0,p&&(d=d||c-h-1>n&&t[h+1]!==" ",h=c);else if(!rp(l))return Cu;m=m&&yq(l,u,a),u=l}d=d||p&&c-h-1>n&&t[h+1]!==" "}return!f&&!d?m&&!s&&!i(t)?Cq:o===tp?Cu:nS:r>9&&wq(t)?Cu:s?o===tp?Cu:nS:d?Eq:bq}function Qre(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===tp?'""':"''";if(!t.noCompatMode&&(Ure.indexOf(e)!==-1||Bre.test(e)))return t.quotingType===tp?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,r),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),a=n||t.flowLevel>-1&&r>=t.flowLevel;function c(l){return Wre(t,l)}switch(Jre(e,a,t.indent,s,c,t.quotingType,t.forceQuotes&&!n,i)){case Cq:return e;case nS:return"'"+e.replace(/'/g,"''")+"'";case bq:return"|"+_q(e,t.indent)+Sq(gq(e,o));case Eq:return">"+_q(e,t.indent)+Sq(gq(Xre(e,s),o));case Cu:return'"'+Zre(e)+'"';default:throw new fn("impossible error: invalid scalar style")}}()}function _q(t,e){var r=wq(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Sq(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function Xre(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=t.indexOf(`
`);return l=l!==-1?l:t.length,r.lastIndex=l,xq(t.slice(0,l),e)}(),i=t[0]===`
`||t[0]===" ",o,s;s=r.exec(t);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+xq(c,e),i=o}return n}function xq(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(t);)a=n.index,a-i>e&&(o=s>i?s:a,c+=`
`+t.slice(i,o),i=o+1),s=a;return c+=`
`,t.length-i>e&&s>i?c+=t.slice(i,s)+`
`+t.slice(s+1):c+=t.slice(i),c.slice(1)}function Zre(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=np(t,i),n=Gr[r],!n&&rp(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||Vre(r);return e}function ene(t,e,r){var n="",i=t.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],t.replacer&&(a=t.replacer.call(r,String(o),a)),(Qo(t,e,a,!1,!1)||typeof a=="undefined"&&Qo(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function Pq(t,e,r,n){var i="",o=t.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],t.replacer&&(c=t.replacer.call(r,String(s),c)),(Qo(t,e+1,c,!0,!0,!1,!0)||typeof c=="undefined"&&Qo(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=rS(t,e)),t.dump&&ep===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=o,t.dump=i||"[]"}function tne(t,e,r){var n="",i=t.tag,o=Object.keys(r),s,a,c,l,u;for(s=0,a=o.length;s<a;s+=1)u="",n!==""&&(u+=", "),t.condenseFlow&&(u+='"'),c=o[s],l=r[c],t.replacer&&(l=t.replacer.call(r,c,l)),!!Qo(t,e,c,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),!!Qo(t,e,l,!1,!1)&&(u+=t.dump,n+=u));t.tag=i,t.dump="{"+n+"}"}function rne(t,e,r,n){var i="",o=t.tag,s=Object.keys(r),a,c,l,u,f,d;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new fn("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)d="",(!n||i!=="")&&(d+=rS(t,e)),l=s[a],u=r[l],t.replacer&&(u=t.replacer.call(r,l,u)),!!Qo(t,e+1,l,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&ep===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=rS(t,e)),!!Qo(t,e+1,u,!0,f)&&(t.dump&&ep===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=o,t.dump=i||"{}"}function kq(t,e,r){var n,i,o,s,a,c;for(i=r?t.explicitTypes:t.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(r?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(c=t.styleMap[a.tag]||a.defaultStyle,lq.call(a.represent)==="[object Function]")n=a.represent(e,c);else if(uq.call(a.represent,c))n=a.represent[c](e,c);else throw new fn("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');t.dump=n}return!0}return!1}function Qo(t,e,r,n,i,o,s){t.tag=null,t.dump=r,kq(t,r,!1)||kq(t,r,!0);var a=lq.call(t.dump),c=n,l;n&&(n=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",f,d;if(u&&(f=t.duplicates.indexOf(r),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")n&&Object.keys(t.dump).length!==0?(rne(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(tne(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?Pq(t,e-1,t.dump,i):Pq(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(ene(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&Qre(t,t.dump,e,o,c);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new fn("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(l=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?l="!"+l:l.slice(0,18)==="tag:yaml.org,2002:"?l="!!"+l.slice(18):l="!<"+l+">",t.dump=l+" "+t.dump)}return!0}function nne(t,e){var r=[],n=[],i,o;for(iS(t,r,n),i=0,o=n.length;i<o;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(o)}function iS(t,e,r){var n,i,o;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)iS(t[i],e,r);else for(n=Object.keys(t),i=0,o=n.length;i<o;i+=1)iS(t[n[i]],e,r)}function ine(t,e){e=e||{};var r=new Gre(e);r.noRefs||nne(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Qo(r,0,n,!0,!0)?r.dump+`
`:""}var one=ine,sne={dump:one};function oS(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var pn=cq.load,IPe=cq.loadAll,TPe=sne.dump;var APe=oS("safeLoad","load"),DPe=oS("safeLoadAll","loadAll"),RPe=oS("safeDump","dump");var Zv=te(require("path"));var cS=te(require("path")),Dq=te(require("os"));var Iq=te(require("crypto"));var Tq=te(require("util"));var Fi={async readDocument(t){switch(t.scheme){case"file":try{return(await tt(t.fsPath)).toString()}catch(e){if(e&&e.code==="ENOENT")return;throw e}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}},async applyEdits(t,e,r){switch(t.scheme){case"file":let n=nr(r,e);await od(t.fsPath,n);break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},Jv=class{constructor(e){this.fileHost=e}async readDocument(e){switch(e.scheme){case Jv.scheme:try{return(await this.fileHost.readFile(ze(e,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case Jv.scheme:let i=nr(n,r);await this.fileHost.writeFile(ze(e,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Zt=Jv;Zt.scheme="vscode-fileHost";var bc=class{constructor(e){this.shellServer=e}async readDocument(e){switch(e.scheme){case bc.scheme:try{let{stdout:r}=await this.shellServer.exec(`cat ${e.path}`);return r}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,r,n){switch(e.scheme){case bc.scheme:try{if(!bc.nonce){let s=await(0,Tq.promisify)(Iq.randomBytes)(20);bc.nonce=s.toString("hex")}let i=nr(n,r),o=`EOF-${bc.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${e.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Cc=bc;Cc.scheme="vscode-remote";var Aq=class{constructor(e){this.documents=e}async readDocument(e){let r=this.documents[e.scheme];if(!r)throw new Error(`Unsupported scheme: ${e.toString()}`);return r.readDocument(e)}async applyEdits(e,r,n){let i=this.documents[e.scheme];if(!i)throw new Error(`Unsupported scheme: ${e.toString()}`);return i.applyEdits(e,r,n)}};function Tr(t,e){let r={file:Fi,[Zt.scheme]:new Zt(t)};return e&&(r[Cc.scheme]=new Cc(e)),new Aq(r)}var sS=new Map;async function aS(t,e){let r=t.toString(),n=sS.get(r);if(n||sS.set(r,n=[]),n.push(e),n.length===1){for(;n.length;)await n[0](),n.shift();sS.delete(r)}}var Xs;(function(s){s[s.Slash=47]="Slash",s[s.Colon=58]="Colon",s[s.A=65]="A",s[s.Z=90]="Z",s[s.a=97]="a",s[s.z=122]="z"})(Xs||(Xs={}));function ze(t,e){let r;return t.authority&&t.path.length>1&&(t.scheme==="file"||t.scheme===Zt.scheme)?r=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?r=t.path[1].toLowerCase()+t.path.substr(2):r=t.path,e==="win32"&&(r=r.replace(/\//g,"\\")),r}function bu(t,e){return[t.join(e,".devcontainer","devcontainer.json"),t.join(e,".devcontainer.json")]}async function Qv(t,e){let r=bu(t.path,e);for(let n of r)if(await t.isFile(n))return Ve.file(n).with({scheme:Zt.scheme})}async function Xv(t){let e=bu(cS,t);for(let r of e)if(await zt(r))return r}var Xo=`{${Dq.EOL}}`;async function li(t,e,r,n){e.scheme==="file"&&await Tn(cS.dirname(e.fsPath)),await t.applyEdits(e,r,n)}function Eu(t){let e=cS.posix.dirname(t.path);return t.with({path:e})}function ip(t){if(!(t.extensions||t.settings||t.devPort!==void 0))return t;let e=W({},t),r=e.customizations||(e.customizations={}),n=r.vscode||(r.vscode={});return e.extensions&&(n.extensions=(n.extensions||[]).concat(e.extensions),delete e.extensions),e.settings&&(n.settings=W(W({},e.settings),n.settings||{}),delete e.settings),e.devPort!==void 0&&n.devPort===void 0&&(n.devPort=e.devPort,delete e.devPort),e}function Ec(t,e,r){return Zo(t,e.configFilePath,r)}function Zo(t,e,r){let n=Eu(e);return e.with({path:Zv.posix.resolve(n.path,t.platform==="win32"&&e.scheme!==Cc.scheme?(Zv.win32.isAbsolute(r)?"/":"")+r.replace(/\\/g,"/"):r)})}function Gt(t){return"dockerFile"in t||"build"in t&&"dockerfile"in t.build}function Zs(t){return t&&(Gt(t)||"image"in t||"dockerComposeFile"in t)}function Xr(t,e){return Ec(t,e,ane(e))}function ane(t){return"dockerFile"in t?t.dockerFile:t.build.dockerfile}async function br(t,e,r,n){if(Array.isArray(e.dockerComposeFile)){if(e.dockerComposeFile.length)return e.dockerComposeFile.map(i=>ze(Ec(t,e,i),t.platform))}else if(typeof e.dockerComposeFile=="string")return[ze(Ec(t,e,e.dockerComposeFile),t.platform)];if(n){let i=r==null?void 0:r.COMPOSE_FILE;if(i)return i.split(t.path.delimiter).map(a=>t.path.resolve(n,a));try{let a=t.path.join(n,".env"),c=await t.readFile(a),l=/^COMPOSE_FILE=(.+)$/m.exec(c.toString()),u=l&&l[1].trim();if(u)return u.split(t.path.delimiter).map(f=>t.path.resolve(n,f))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[t.path.resolve(n,"docker-compose.yml")],s=t.path.resolve(n,"docker-compose.override.yml");return await t.isFile(s)&&o.push(s),o}return[]}function cne(){return{contentHashes:{}}}async function Oq(t,e,r){let n=t.configurationTracking,i=n.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),c=(await lS(t,e,r)).contentHashes,l=Object.keys(c),u=new Set(l);s.forEach(p=>u.delete(p));let f=new Set(s);l.forEach(p=>f.delete(p));let d=[];for(let p of s)p in c&&c[p]!==o[p]&&d.push(p);if(u.size||f.size||d.length){let p=await lS(t,e,r);(async()=>{await n.containerOutdated([...u,...f,...d].sort())==="ignore"&&await t.configurationTracking.updateConfigurationState(p)})().catch(console.error)}}else await Nq(t,e,r)}async function ey(t,e,r){let n="Updating configuration state",i=t.common.output.start(n);await Nq(t,e,r),t.common.output.stop(n,i)}async function Nq(t,e,r){let n=await lS(t,e,r);await t.configurationTracking.updateConfigurationState(n)}async function lS(t,e,r){let n=cne();ty(n,op.posix.basename(r.configFilePath.path),JSON.stringify(ge(W({},r),{forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0})));let i=Eu(r.configFilePath).path;if(Gt(r)){let o=Xr(t.common.cliHost,r),s=await e.readDocument(o);s!==void 0&&ty(n,op.posix.relative(i,o.path),s)}if("dockerComposeFile"in r){let o=await br(t.common.cliHost,r,t.common.cliHost.env,t.common.cliHost.cwd),s=await Promise.all(o.map(async a=>{let c=Ve.file(a).with({scheme:Zt.scheme});return{uri:c,content:await e.readDocument(c)}}));for(let{uri:a,content:c}of s)c!==void 0&&ty(n,op.posix.relative(i,a.path),c);for(let a=s.length-1;a>=0;a--){let{uri:c,content:l}=s[a];if(l){let u=pn(l),f=u&&u.services,d=f&&f[r.service],p=d&&d.build,h=p&&(typeof p=="string"?p:p.context);if(h){let m=Zo(t.common.cliHost,c,h),g=Lq(m,p.dockerfile||"Dockerfile"),v=await e.readDocument(g);v!==void 0&&ty(n,op.posix.relative(i,g.path),v)}if(d&&(d.image||d.build))break}}}return n}function ty(t,e,r){let n=Rq.createHash("sha256").update(r).digest("hex");t.contentHashes[e]=n}var qi=te(require("path")),pU=te(require("crypto"));var _r=te(require("path"));var Uq=te(require("net")),hS=te(require("path"));var uS=te(require("path")),fS=te(require("http")),Fq=te(require("os")),Mq=te(require("crypto"));async function qq(t,e){let r=await dS(t),n=new jq(r,e);return n.listen(),n}var jq=class{constructor(e,r){this.ipcHandlePath=e;this.server=fS.createServer((n,i)=>{Promise.resolve(r(n,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",n=>console.error(n))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function $q(t){return new Promise((e,r)=>{let n=[];t.setEncoding("utf8"),t.on("data",i=>n.push(i)),t.on("error",i=>r(i)),t.on("end",()=>{let i=JSON.parse(n.join(""));e(i)})})}async function lne(t){return new Promise((e,r)=>{Mq.randomBytes(t,(n,i)=>{n?r(n):e(i)})})}async function dS(t){let r=(await lne(20)).toString("hex"),n=`${t}-${r}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?uS.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):uS.join(Fq.tmpdir(),`${n}.sock`)}var pS=class{constructor(){this.messages=[]}push(e){this.messages.push(e),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(e){if(this.messages.length){let r=this.messages;return this.messages=[],r}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((r,n)=>{this.dequeueRequest={resolve:r,reject:n},typeof e=="number"&&setTimeout(n,e)})}};async function mo(t,e,r){let n=await dS("ssh-askpass");return await new Promise((i,o)=>{Uq.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async c=>{if(a+=c,a.endsWith(`
`))try{r.write(`SSH askpass request: ${a}`,he.Trace);let l=await e(JSON.parse(a));s.write(l,u=>{u&&console.error(u)}),s.end()}catch(l){console.error(l)}}),s.on("error",c=>console.error(c))}).on("error",s=>{o(s)}).listen(n,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:hS.join(t,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:hS.join(t,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:n}}var une=0;function pr(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++une)}:{}}async function hn(t,e){return(await ea(t,[e]))[0]}async function ea(t,e){let r=await ny(t,"container",e);for(let n of r){n.Ports=[];let i=n.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let c of i[o]||[]){let{HostIp:l,HostPort:u}=c;n.Ports.push({IP:l,PrivatePort:parseInt(s),PublicPort:parseInt(u),Type:a})}}}return r}async function _u(t,e){return(await ny(t,"image",[e]))[0]}async function ry(t,e){return(await ny(t,"volume",[e]))[0]}async function sp(t,e){return ny(t,"volume",e)}async function ny(t,e,r){if(!r.length)return[];let n=cp(t),i=await We(ge(W({},n),{args:(n.args||[]).concat(["inspect","--type",e,...r])}));try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function es(t,e=!1,r=[]){let n=[];e&&n.push("-a");for(let o of r)n.push("--filter",`label=${o}`);return(await Ct(t,"ps","-q",...n)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function go(t,e=[]){let r=[];for(let i of e)r.push("--filter",`label=${i}`);return(await Ct(t,"volume","ls","-q",...r)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function mS(t){return(await Ct(t,"volume","ls","-q","-f","dangling=true")).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function Bq(t){return(await Ct(t,"volume","prune","-f")).stdout.toString()}async function iy(t,e,r){let n=[];for(let i of r||[])n.push("--label",i);await Ct(t,"volume","create",...n,e)}async function oy(t,e){let{exec:r,cmd:n,args:i,env:o,output:s}=cp(t),a=[];for(let d in e)for(let p of e[d])a.push("--filter",`${d}=${p}`);let c=await vS(t)?"json":"{{json .}}",l=(i||[]).concat(["events","--format",c,...a]),u=await r({cmd:n,args:l,env:o,output:s}),f=[];return u.stderr.on("data",d=>f.push(d)),u.exit.then(({code:d,signal:p})=>{f.length&&s.write(it(Buffer.concat(f).toString())),(d||p&&p!=="SIGKILL")&&s.write(it(`Docker events terminated (code: ${d}, signal: ${p}).`))},d=>{s.write(it(d&&(d.stack||d.message)))}),u}async function Ct(t,...e){let r=cp(t);return We(ge(W({},r),{args:(r.args||[]).concat(e)}))}async function gS(t){var e;try{let{stdout:r}=await Ct(t,"context","ls","--format","{{json .}}"),n=`[${r.toString().trim().split(/\r?\n/).join(",")}]`;return(e=JSON.parse(n).find(s=>s.Current))==null?void 0:e.Name}catch{return}}async function vS(t){if(("cliHost"in t?t.cliHost:t.common.cliHost).platform!=="linux")return!1;try{let{stdout:r}=await Ct(t,"-v");return r.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function sy(t,...e){let r=lp(t);return Hs(ge(W({},r),{args:(r.args||[]).concat(e)}))}async function _c(t,...e){let r=cp(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return We(ge(W({},r),{args:(r.args||[]).concat(e)}))}async function Hq(t,...e){let r=lp(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return Hs(ge(W({},r),{args:(r.args||[]).concat(e)}))}function Su(t,e,r){return async function(n){let{exec:i,cmd:o,args:s,env:a}=cp(t),{argsPrefix:c,args:l}=zq(e,r,n,!1);return i({cmd:o,args:(s||[]).concat(l),env:a,output:Vq(n.output,o,c)})}}async function ap(t,e,r,n){if(!await n("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:c,env:l}=lp(t),{argsPrefix:u,args:f}=zq(e,r,o,!0);return s({cmd:a,args:(c||[]).concat(f),env:l,output:Vq(o.output,a,u)})}}function Vq(t,e,r){return fne(t,`Run: ${e} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function fne(t,e,r){let n=new RegExp(e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");return Hr(ge(W({},t),{get dimensions(){return t.dimensions},event:o=>t.event("text"in o?ge(W({},o),{text:o.text.replace(n,r)}):o)}))}function zq(t,e,r,n){let{env:i,cwd:o,cmd:s,args:a}=r,c=["exec","-i"];n&&c.push("-t"),e&&c.push("-u",e),i&&Object.keys(i).forEach(u=>c.push("-e",`${u}=${i[u]}`)),o&&c.push("-w",o),c.push(t);let l=c.slice();return c.push(s),a&&c.push(...a),{argsPrefix:l,args:c}}function cp(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.dockerEnv),pr(t.dockerEnv)),output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.env),pr(t.env)),output:t.output}:ge(W({},t),{env:W(W({},t.env),pr(t.env))})}function lp(t,e){return"dockerEnv"in t?{ptyExec:t.common.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.dockerEnv),pr(t.dockerEnv)),output:t.common.output}:"cliHost"in t?{ptyExec:t.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:W(W({},t.env),pr(t.env)),output:t.output}:ge(W({},t),{env:W(W({},t.env),pr(t.env))})}function yS(t){return t.toLowerCase().replace(/[^a-z0-9\._-]+/g,"").replace(/(\.[\._-]|_[\.-]|__[\._-]|-+[\._])[\._-]*/g,(e,r)=>r.substr(0,r.length-1))}var Cy=te(require("path")),U$=te(q$()),B$=te(require("url")),voe=te(Yl());var j$=te(Zl()),$$=te(require("url"));function Ep(t,e){return new Promise((r,n)=>{let i=new $$.URL(t.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:t.type,headers:t.headers},s=j$.https.request(o,a=>{if(a.statusCode<200||a.statusCode>299)n(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),e&&e.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,he.Error);else{a.on("error",n);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>r(Buffer.concat(c)))}});s.on("error",n),t.data&&s.write(t.data),s.end()})}var H$="devcontainer-features.tgz";function by(t){return t?{allFeatures:t.featureSets.map(r=>r.features).flat()}:void 0}function Ic(t){let e=typeof t=="string"?Cy.join(t,"dist"):t.distFolder;return Cy.join(e,"node_modules","vscode-dev-containers","container-features")}function Ey(t){let{type:e}=t;switch(e){case"local-cache":return"local-cache";case"direct-tarball":return Buffer.from(t.tarballUri).toString("base64");case"github-repo":return`github-${t.owner}-${t.repo}-${t.isLatest?"latest":t.tag}`;case"file-path":return Buffer.from(t.filePath).toString("base64")}}function DS(t){if(!t)return"n/a";let{type:e}=t;switch(e){case"local-cache":return"(cache)";case"direct-tarball":return"(tarball)";case"github-repo":return`${t.owner}/${t.repo}`;case"file-path":return"(file-path)"}}function RS(t,e){let r=new RegExp("^[a-zA-Z0-9_-]*$");if(!t.includes("/"))return e.write(`[${t}] - No slash, must be locally cached feature.`,he.Trace),{id:t,sourceInformation:{type:"local-cache"}};if(t.startsWith("http://")||t.startsWith("https://")){e.write(`[${t}] - Direct URI`,he.Trace),t=t.replace(/\/+$/,"");let f=t.lastIndexOf("#"),d=t.substring(f+1);if(d===""||!r.test(d)){e.write(`Parse error. Specify a feature id with alphanumeric, dash, or underscore characters. Provided: ${d}.`,he.Error);return}let p=new B$.URL(t.substring(0,f)).toString();return e.write(`[${t}] - uri: ${p} , id: ${d}`,he.Trace),{id:d,sourceInformation:{type:"direct-tarball",tarballUri:p}}}if(t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))return;let n="latest",i=t.split("@");if(i.length>2){e.write("Parse error. Use the '@' symbol only to designate a version tag.",he.Error);return}i.length===2&&(e.write(`[${t}] has version ${i[1]}`,he.Trace),n=i[1]);let s=i[0].split("/");if(s.length!==3||s.some(f=>f==="")||!r.test(s[2])){e.write("Invalid parse for GitHub/registry feature identifier. Follow format: '<publisher>/<feature-set>/<feature>'",he.Error);return}let a=s[0],c=s[1],l=s[2],u=OS({owner:a,repo:c,tag:n});return{id:l,sourceInformation:u}}function OS(t){let{owner:e,repo:r,tag:n}=t;return n==="latest"?{type:"github-repo",apiUri:`https://api.github.com/repos/${e}/${r}/releases/latest`,unauthenticatedUri:`https://github.com/${e}/${r}/releases/latest/download/${H$}`,owner:e,repo:r,isLatest:!0}:{type:"github-repo",apiUri:`https://api.github.com/repos/${e}/${r}/releases/tags/${n}`,unauthenticatedUri:`https://github.com/${e}/${r}/releases/download/${n}/${H$}`,owner:e,repo:r,tag:n,isLatest:!1}}async function yoe(t,e){if(t.length===0){e.write("Parsed featureSet is empty.",he.Error);return}let r=gt(t.toString());if(!(r==null?void 0:r.features)||r.features.length===0){e.write("Parsed featureSet contains no features.",he.Error);return}return e.write(`Loaded devcontainer-features.json declares ${r.features.length} features and ${r.sourceInformation?"contains":"does not contain"} explicit source info.`,he.Trace),woe(r)}async function NS(t,e){let r=await tt(Cy.join(t,"devcontainer-features.json"));return yoe(r,e)}function woe(t){return t.features.find(e=>e.extensions||e.settings)?ge(W({},t),{features:t.features.map(e=>{if(!(e.extensions||e.settings))return e;let r=W({},e),n=r.customizations||(r.customizations={}),i=n.vscode||(n.vscode={});return r.extensions&&(i.extensions=(i.extensions||[]).concat(r.extensions),delete r.extensions),r.settings&&(i.settings=W(W({},r.settings),i.settings||{}),delete r.settings),r})}):t}var LS=(t,e)=>`${t}-${Ey(e)}`;async function FS(t,e,r,n){var f;let{output:i}=t,o=await n(),s=o["com.visualstudio.code.devcontainers.id"],a=o.version,c=e.features||{},l={};for(let d of Object.keys(c)){let{id:p,sourceInformation:h}=(f=RS(d,i))!=null?f:{};if(p&&h){let m=LS(p,h);l[m]=c[d]}else{i.write(`Failed to read user declared feature ${d}. Skipping.`,he.Error);continue}}let u={};for(let d of r.featureSets)for(let p of d.features){Coe(p);let h=LS(p.id,d.sourceInformation);s&&(p.exclude||[]).some(m=>V$(m,s,a))?p.included=!1:"include"in p?p.included=!!s&&(p.include||[]).some(m=>V$(m,s,a)):p.included=!0,u[h]=u[h]||p.included,p.value=l[h]||!1}t.output.write(`Feature configuration:
`+JSON.stringify(ge(W({},r),{imageDetails:void 0}),void 0,"  "),he.Trace);for(let d of r.featureSets)d.features=d.features.filter(p=>{let h=LS(p.id,d.sourceInformation);return h in u&&p.included===u[h]?(delete u[p.id],!0):!1});return r}function Coe(t){if(t.values){let e=t.options||(t.options={});e.version={type:"string",[t.customValues?"proposals":"enum"]:t.values,default:t.values[0],description:t.hint}}delete t.type,delete t.values,delete t.customValues,delete t.hint}function V$(t,e,r){let n=t.indexOf("@"),[i,o]=n!==-1?[t.slice(0,n),t.slice(n+1)]:[t,void 0];return e===i&&(!o||!r||U$.satisfies(r,o))}function ns(t){var e;return((e=t.options)==null?void 0:e.version)?"version":void 0}function _p(t){var r,n;let e=ns(t);if(!e)return!!t.value;if(typeof t.value=="object"){let i=t.value[e];return i===void 0&&t.options?(r=t.options[e])==null?void 0:r.default:i}return t.value===void 0&&t.options?(n=t.options[e])==null?void 0:n.default:t.value}function z$(t){var r;let e=ns(t);return e?t.options&&((r=t.options[e])==null?void 0:r.default):!0}var MS="com.docker.compose.project",G$="com.docker.compose.service";async function W$(t,e,r,n,i,o,s,a,c,l,u,f,d,p){return boe(t,e,r,n,i,o,K$(n),s,a,c,l,u,f,d,p)}async function boe(t,e,r,n,i,o,s,a,c,l,u,f,d,p,h){var y,C;let{common:m}=t,{cliHost:g}=e,v;try{let b=await br(g,n,g.env,g.cwd),_=g.path.join(g.cwd,".env"),P=Array.isArray(n.dockerComposeFile)&&n.dockerComposeFile.length===0&&await g.isFile(_)?_:void 0,S=await Sp(e,r,b),x=!l,T,A=async()=>T||(T=(async()=>{let X=W(W({},e.env),pr(e.env)),Q={cliHost:g,env:X,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},ve=await Py(Q,o,p,m.getLogLevel(),h,m.cliMode);return by(ve.featuresConfiguration)})());v=await Au(t,a.Id,s,n.remoteUser),f&&l&&v.user!=="root"&&(v.launchRootShellServer?await $v(v,v.launchRootShellServer,s,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let N=Tr(g,v.shellServer);x||await ey(t,N,n);let q={cwd:i,dockerCLI:t.dockerCLI,dockerComposeCLI:await t.dockerComposeCLI(),env:m.env,containerId:a.Id,user:v.user,sessionId:m.sessionId,shutdownAction:n.shutdownAction,projectName:S,composeFiles:b,envFile:P,buildContainerRunArgs:u,service:n.service,runServices:n.runServices,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:J,doneWithDocuments:Y}=await Sy(t,N,"dockerCompose",q,x?n:void 0);m.backgroundTasks.push(Y);let ee=((C=(y=n.customizations)==null?void 0:y.vscode)==null?void 0:C.devPort)||Ys,{hostOrContainerPort:re,hostPortServer:j,connectionToken:F,webConnectionToken:D,remoteEnv:$,serverDownloaded:K}=await jv(m,v,n,A,ee,xy(t,e,o,a.Id,c,p,h));return J.hostPortServer=j,Iu(m,v,re,F,D,a,r),{params:m,properties:v,config:n,resolvedAuthority:{host:ra,port:re,connectionToken:F,extensionHostEnv:$},webConnectionToken:D,tunnelInformation:m.isLocalContainer?Tu(a):{},dockerParams:t,dockerContainerId:a.Id,serverDownloaded:K}}catch(b){let _=b instanceof $e?b:new $e({description:"An error occurred setting up the container.",originalError:b});throw a&&(_.manageContainer=!0,_.params=t.common,_.containerId=a.Id,_.dockerParams=t),v&&(_.containerProperties=v),_.config=n,_}}function K$(t){return t.workspaceFolder||"/"}async function Y$(t,e,r){if(kr(t)){let n=zs(t),i=[];for(let o=0;o<e.length;o++){let s=await Yo(n,e[o],r);i.push(s)}return i}return e}async function J$(t,e,r){try{let n=[].concat(...e.map(o=>["-f",o]));r&&n.push("--env-file",r);let i=await t.dockerComposeCLI();(gc(i.version)||[])[0]>=2&&n.push("--profile","*");try{let{stdout:o}=await _c(t,...n,"config"),s=o.toString();return t.output.write(s),pn(s)||{}}catch(o){if(!Buffer.isBuffer(o==null?void 0:o.stderr)||(o==null?void 0:o.stderr.toString().indexOf("UnicodeEncodeError"))===-1)throw o;if(t.cliHost.platform==="win32"){let{cmdOutput:c}=await Hq(ge(W({},t),{output:Hr({event:t.output.event,dimensions:{columns:999999,rows:1}},he.Info)}),...n,"config");return pn(c.replace(Us,""))||{}}let{stdout:s}=await _c(ge(W({},t),{env:ge(W({},t.env),{LANG:"en_US.UTF-8",LC_CTYPE:"en_US.UTF-8"})}),...n,"config"),a=s.toString();return t.output.write(a),pn(a)||{}}}catch(n){throw n instanceof $e?n:new $e({description:"An error occurred retrieving the Docker Compose configuration.",originalError:n,data:{fileWithError:e[0]}})}}async function Q$(t,e,r){let n=await es(t,!0,[`${MS}=${e}`,`${G$}=${r}`]);return n&&n[0]}async function X$(t,e,r){var n;return(n=t.find(i=>{let o=i.Config.Labels||{};return o[MS]===e&&o[G$]===r}))==null?void 0:n.Id}async function Sp(t,e,r){let{cliHost:n}="cliHost"in t?t:t.common,i=await Eoe(t),o=_y(n.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let c=n.path.join(n.cwd,".env"),l=await n.readFile(c),u=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(l.toString()),f=u&&u[1].trim(),d=_y(f||"",i);if(d)return d}catch(c){if(!(c&&(c.code==="ENOENT"||c.code==="EISDIR")))throw c}let s=e.configFolderPath,a=r[0]?n.path.dirname(r[0]):n.cwd;return zF(n.platform,a,n.path.join(s,".devcontainer"))?_y(`${n.path.basename(s)}_devcontainer`,i):_y(n.path.basename(a),i)}function qS(t){let e=(t.Config.Labels||{})[MS];return e||void 0}function _y(t,e){return e?t.toLowerCase().replace(/[^-_a-z0-9]/g,""):t.toLowerCase().replace(/[^a-z0-9]/g,"")}async function Eoe(t){try{let e=gc((await t.dockerComposeCLI()).version);return e?!pu(e,[1,21,0]):!0}catch{return!0}}function vo(t,e,r){let n;return()=>n||(n=(async()=>{let i=!1,o;try{o=(await _c(ge(W({},t),{cmd:r}),"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await _c(ge(W({},t),{cmd:e}),"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?e:r,args:i?["compose"]:[]}})())}var yo=te(require("url")),Z$=te(require("https"));var jS;(function(e){e[e.CannotAccessRepository=2]="CannotAccessRepository"})(jS||(jS={}));function wo(t){return t.toLowerCase().indexOf("github.com")>=0?koe(t):t.toLowerCase().indexOf("visualstudio.com")>=0?xoe(t):t.toLowerCase().indexOf("dev.azure.com")>=0?Soe(t):t.toLowerCase().indexOf("gitlab.com")>=0?Poe(t):_oe(t)}function is(t){let e="owner",r="repository";return{repository:"unknown",repositoryUrl:t,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function _oe(t){var s;let e="unknown-owner",r,n=t,i;i=(s=yo.parse(t))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?is(t):(r=o[o.length-1],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"unknown",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`})}function Soe(t){var o,s;let e,r,n=t,i;if(ky(t)){let a=`http://${t}`;i=(o=yo.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return is(t);e=c[3],r=c[4]}else{i=(s=yo.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return is(t);e=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function xoe(t){var o,s;let e,r,n=t,i;if(ky(t)){let a=`http://${t}`;i=(o=yo.parse(a))==null?void 0:o.path;let c=i==null?void 0:i.split("/");if(!c||c.length<5)return is(t);e=c[3],r=c[4]}else{i=(s=yo.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return is(t);e=a[2],r=a[4],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function Poe(t){var o,s;let e,r,n=t,i;if(ky(t)){let a=`http://${t}`;i=(o=yo.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let c=i==null?void 0:i.split("/");if(!c||c.length<3)return is(t);e=c[c.length-2],r=c[c.length-1]}else{i=(s=yo.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return is(t);e=a[a.length-2],r=a[a.length-1]}return r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:n,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:r,pullRequestId:void 0,fullRepositoryName:`${e}/${r}`}}function koe(t){var c,l;let e,r,n=t,i,o,s;if(ky(t)){let u=`http://${t}`;s=(c=yo.parse(u))==null?void 0:c.path,s&&(s=s.replace("/:","/"))}else s=(l=yo.parse(t))==null?void 0:l.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return is(t);if(e=a[1],r=a[2],r.endsWith(".git")&&(r=r.substring(0,r.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let u=t.match(/\/tree\/|\/commit\//);u&&u.index&&(n=t.substring(0,u.index),i=t.substring(u.index+u[0].length))}if(a[3]==="pull"){o=a[4];let u=t.match(/\/pull\//);u&&u.index&&(n=t.substring(0,u.index))}}return{repository:"github",repositoryUrl:n,ref:i,commit:a[3]==="commit",repositoryOwner:e,repositoryName:r,pullRequestId:o,fullRepositoryName:`${e}/${r}`}}function ky(t){return t=t.toLowerCase(),t.indexOf("://")<0?t.indexOf("@")<t.indexOf(":"):!1}var Iy=class extends Error{constructor(e,r){super();this.code=e,this.description=r}},Ty=class{constructor(e){this.inputUrl=e,this.gitUrlInfo=wo(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(e,r,n,i){}installExtension(){return null}},eU=class extends Ty{constructor(e){super(e)}async parseUrl(e){var o,s,a;let r=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,n=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(e,r,n,i)}async getPullRequestInfo(e,r,n,i){var u,f,d,p,h,m,g,v,y,C,b;let o=await this.fetchPullRequestInfo(e,r,n,i),s=(f=(u=o.head)==null?void 0:u.repo)==null?void 0:f.clone_url,a=(p=(d=o.base)==null?void 0:d.repo)==null?void 0:p.clone_url;if(!a)throw new Iy(2,"Cannot access the head repository of the Pull Request.");let c=(h=o.head)==null?void 0:h.ref,l=((v=(g=(m=o.head)==null?void 0:m.repo)==null?void 0:g.owner)==null?void 0:v.login)===r?null:(b=(C=(y=o.head)==null?void 0:y.repo)==null?void 0:C.owner)==null?void 0:b.login;return{urlToClone:a,prRepositoryUrl:s,ref:c,sourceOwner:l}}async fetchPullRequestInfo(e,r,n,i){let o=`/repos/${r}/${n}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};e&&(s.authorization=`token ${e}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((c,l)=>{let u="",f=Z$.request(a,d=>{if(d.statusCode<200||d.statusCode>=300)return l(new Error(`Status Code: ${d.statusCode}`));d.on("data",p=>{u+=p}),d.on("end",()=>{let p=JSON.parse(u.toString());c(p)})});f.on("error",l),f.end()})}cloneOptions(e){return{url:e.urlToClone,fullClone:!0}}async postClone(e,r,n,i){if(e.sourceOwner){let l=e.prRepositoryUrl.replace(/\.[^/.]+$/,"");await We({exec:r.exec,cmd:"git",args:["remote","add",e.sourceOwner,l],cwd:n,output:i}),await We({exec:r.exec,cmd:"git",args:["fetch",e.sourceOwner,e.ref],cwd:n,output:i});try{await We({exec:r.exec,cmd:"git",args:["checkout","-t",`${e.sourceOwner}/${e.ref}`],cwd:n,output:i})}catch(u){if(!(u.stderr&&u.stderr.startsWith(`fatal: A branch named '${e.ref}' already exists`)))throw u}await We({exec:r.exec,cmd:"git",args:["config","--local",`remote.${e.sourceOwner}.github-pr-remote`,"true"],cwd:n,output:i})}else await We({exec:r.exec,cmd:"git",args:["checkout",e.ref],cwd:n,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,c=`${o}#${s}#${a}`;await We({exec:r.exec,cmd:"git",args:["config","--local",`branch.${e.ref}.github-pr-owner-number`,c],cwd:n,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},tU=class extends Ty{constructor(e){super(e)}async parseUrl(e){var r,n;return{urlToClone:(r=this.gitUrlInfo)==null?void 0:r.repositoryUrl,ref:(n=this.gitUrlInfo)==null?void 0:n.ref}}cloneOptions(e){let r=this.gitUrlInfo.commit;return{url:e.urlToClone,branch:!r&&e.ref||void 0,fullClone:r}}async postClone(e,r,n,i){this.gitUrlInfo.commit&&await We({exec:r.exec,cmd:"git",args:["checkout",e.ref],cwd:n,output:i})}},$S=class extends Ty{constructor(e,r){super(e);this.branch=r}async parseUrl(e){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(e){return{url:e.urlToClone,branch:e.ref||void 0}}};function Du(t,e){if(e)return new $S(t,e);let r=wo(t);if(r.repository==="github"){if(r.pullRequestId)return new eU(t);if(r.ref)return new tU(t)}return new $S(t)}var xp=_r.join(__dirname,"..","node_modules","vscode-dev-containers","repository-containers");async function rU(t,e,r,n){if(e&&!/\/\.?devcontainer\.json$/.test(e.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${ze(e,t.common.cliHost.platform)}).`);let i=t.parsedAuthority;if(!i||Dr(i))return Ioe(t,i,e,r,n);if(hi(i))return i.inspectVolume?nU(t,i):Toe(t,i,e);if(kp(i))return nU(t,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function Ioe(t,e,r,n,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c}=t,{cliHost:l,env:u,output:f}=o,d=l.cwd,p=t.originalCwd||d,h=e&&dt(l.path,Ld(e.hostPath)?l.path.join(d,_r.basename(e.hostPath)):d),m;h&&(m=await Doe(t,h),m&&(o.backgroundTasks.push(m==null?void 0:m.gitUnshallow),await m.gitClone()));let g={cliHost:l,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:c,env:u,output:f},v=i?void 0:[`${GS}=${p}`],y=i||[`${WS}=${p}`,`${Ry}=${o.product.quality}`];return US(t,g,v,y,p,d,r,n,h,e==null?void 0:e.settings,[],o.cliMode?"never":"on")}async function Toe(t,e,r){let{repositoryPath:n,volumeName:i,folder:o}=e,s=pi(n);i=await cU(t,s,i);let{labels:a,remoteWorkspaceFolder:c}=lU(s,n,o,i),l=[...a],u=[...a,`${Ry}=${t.common.product.quality}`],{containerId:f,shellServer:d,config:p}=await s.cloneAndInitializeRepository(t,e,s,i,r),h=dt(_r.posix,o?s.workspaceFolder(o):s.fullRepositoryName),m=[`type=volume,source=${i},target=${_r.posix.dirname(h.rootFolderPath)},external=true`],g=await uU(t,f,c),v={},{HOME:y,USERPROFILE:C}=t.common.env;y!==void 0&&(v.HOME=y),C!==void 0&&(v.USERPROFILE=C);let b=zS(s,i,o),_=g.cliHost,P,S=Gt(p)||"image"in p;if(S||"dockerComposeFile"in p&&p.workspaceFolder){let x=S?ge(W({},p),{configFilePath:void 0,workspaceFolder:void 0,workspaceMount:""}):ge(W({},p),{configFilePath:void 0,workspaceFolder:h.rootFolderPath}),T=_.path.join(await _.tmpdir(),`devcontainer-${Nn()}.json`),A=`EOF-${T}`,N=`${T}_${Date.now()}`;await d.exec(`cat <<'${A}' >${N}
${JSON.stringify(x)}
${A}
mv ${N} ${T}`),P=Ve.from({scheme:Zt.scheme,path:T})}try{return await US(t,g,l,u,t.common.cliHost.cwd,_.cwd,r,P,h,e.settings,m,"off",b,!0,void 0,v)}finally{Promise.all(t.common.backgroundTasks.filter(x=>typeof x!="function").map(x=>x.catch(()=>{}))).then(()=>Ct(t,"rm","-f",f))}}async function nU(t,e){let{common:r,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o}=t,{cliHost:s,env:a,output:c}=r,{volumeName:l}=e,u,f,d=kp(e);d?(u=Dy,f="Inspect Volume"):(u=pi(e.repositoryPath).volumeDestination,f="Recovery Container");let p=[`${Ay}=${l}`],h=[`${Ay}=${l}`,`${Ry}=${r.product.quality}`],m=await aU(t),g=[`type=volume,source=${l},target=${u},external=true`],v={cliHost:s,dockerCLI:n,dockerComposeCLI:i,dockerComposePath:o,env:a,output:c},y=dt(s.path,m);return US(t,v,p,h,m,m,void 0,void 0,y,e.settings,g,"never",void 0,!d,f)}async function US(t,e,r,n,i,o,s,a,c,l,u,f,d,p,h,m){let{common:g,userRepositoryConfigurationPaths:v}=t,{output:y,extensionPath:C,appRoot:b,postCreate:_}=g,{cliHost:P}=e;t.cacheMount==="bind"&&await Tn(g.localCacheFolder);let S=t.cacheMount==="volume"?[...u,"type=volume,source=vscode,target=/vscode,external=true"]:t.cacheMount==="bind"?[...u,`type=bind,source=${g.localCacheFolder},target=/vscode`]:u;if(t.cacheMount==="volume"){let Q="vscode";(await go(e)).indexOf(Q)===-1&&await iy(e,Q)}let x=s||(c?await Co(P,c,v,!a,y):void 0);if((x==null?void 0:x.scheme)==="file"&&P.type!=="local"){let Q=_r.dirname(x.fsPath),ve=_r.basename(x.fsPath),Te=ve===".devcontainer.json"?Q:_r.dirname(Q),Se=P.path.join(await P.tmpdir(),`devcontainer-config-${Nn()}`);await Tc(Te,P,Se,y),x=Ve.from({scheme:Zt.scheme,path:P.path.join(Se,...ve===".devcontainer.json"?[ve]:[_r.basename(Q),ve])})}typeof t.removeOnStartup=="string"&&await jn(t,t.removeOnStartup)&&await Ct(t,"rm","-f",t.removeOnStartup);let T=await iU(e,n);T&&t.removeOnStartup===!0&&r&&(await Ct(t,"rm","-f",T.Id),T=void 0);let A=!!T||!r,N=A?n:r,q=t.removeOnStartup===!0||!(T||r&&await iU(e,r)),J=W(W(W({},m),e.env),pr(e.env)),Y={cliHost:P,env:J,extensionPath:C,appRoot:b,package:g.package,postCreate:_,output:g.postCreate.output},ee=g.postCreate.output.dimensions||g.output.dimensions,re=await Ip(Y,["up",...e.cliHost.type==="local"&&g.persistedFolder?["--user-data-folder",g.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...A?["--container-data-folder",ai(t.common.product.serverDataFolderName)]:[],...A?["--container-system-data-folder",mu(t.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...t.workspaceMountConsistencyDefault?["--workspace-mount-consistency",t.workspaceMountConsistencyDefault]:[],...[].concat(...N.map(Q=>["--id-label",Q])),"--log-level",$s(g.getLogLevel()),"--log-format","json",...x?["--config",ze(x,P.platform)]:[],...a?["--override-config",ze(a,P.platform)]:[],"--default-user-env-probe",g.defaultUserEnvProbe,...t.buildNoCache?["--build-no-cache"]:[],...t.removeOnStartup===!0?["--remove-existing-container"]:[],...t.expectExistingContainer?["--expect-existing-container"]:[],...[].concat(...S.map(Q=>["--mount",Q])),"--skip-post-create","--update-remote-user-uid-default",f,"--mount-workspace-git-root",String(!g.cliMode),...ee?["--terminal-columns",String(ee.columns),"--terminal-rows",String(ee.rows)]:[]]);if((re==null?void 0:re.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${re?JSON.stringify(re):"data missing"}`});let j=await jn(t,re.containerId);if(!j)return dU(g.output,"Dev container not found.");let F=await BS(Y,o,x,g.getLogLevel(),a,g.cliMode),D=F.configuration,$=Ru(l),K=h||(D.name?`Dev Container: ${D.name}${$}`:`Dev Container${$}`);g.setWorkspaceName(K);let X;if(Gt(D)||"image"in D)X=await fU(t,e,c,D,F.workspace,i,o,j,A,q,p,N,x,a);else if("dockerComposeFile"in D){if(!c)throw new $e({description:"A Dev Container using Docker Compose requires a workspace folder."});X=await W$(t,e,c,D,i,o,j,A,q,d,p,N,x,a)}else throw new $e({description:`Dev container config (${D.configFilePath}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.`});return X}async function iU(t,e){let r=await es(t,!0,e);return(await ea(t,r)).filter(i=>i.State.Status!=="removing")[0]}async function BS(t,e,r,n,i,o=!1){let{cliHost:s,output:a}=t,c=await Ip(t,["read-configuration","--workspace-folder",e,"--log-level",$s(n),"--log-format","json",...r?["--config",ze(r,s.platform)]:[],...i?["--override-config",ze(i,s.platform)]:[],"--mount-workspace-git-root",String(!o),...a.dimensions?["--terminal-columns",String(a.dimensions.columns),"--terminal-rows",String(a.dimensions.rows)]:[]]);return c.configuration.configFilePath=Ve.revive(c.configuration.configFilePath).with({scheme:s.type==="local"?"file":Zt.scheme}),c}async function Co(t,e,r,n,i){let o=await HS(t,e,r,n,i);return o==null?void 0:o.uri}async function HS(t,e,r,n,i){let o=await b1(t,e,Rt),s=o&&await Pp(o,r);if(s)return{uri:s,location:"user"};let a=await Qv(t,e.configFolderPath);if(a)return{uri:a,location:"workspace"};let c=o&&await Pp(o,[xp]);if(c)return{uri:c,location:"builtin"};n&&i&&((o==null?void 0:o.length)?i.write(`No dev container config found. Additional locations checked:
${[...VS(o,r),...VS(o,[xp])].map(l=>`- ${_r.join(l,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function Pp(t,e){let r=VS(t,e);for(let n of r){let i=await Xv(n);if(i)return Ve.file(i)}}function VS(t,e){let r=[],n=new Set(t.map(Aoe).filter(i=>!!i));for(let i of n)for(let o of e){let s=_r.join(o,i);r.push(s)}return r}function oU(t,e,r){let n=t.path.relative(e.rootFolderPath,ze(r,t.platform));return n&&!n.startsWith("..")&&!t.path.isAbsolute(n)}function sU(t){if(t.scheme!=="file")return;let e=_r.relative(xp,t.fsPath);if(e&&!e.startsWith("..")&&!_r.isAbsolute(e))return e}function Aoe(t){let e;if(t.startsWith("https://"))e=t.substr(8);else{let r=/[^@:]+@([^:]+):(.+)/.exec(t);if(r)e=`${r[1]}/${r[2]}`;else return}if(!(e.toLowerCase().startsWith("github.com")&&(e=(/^[^/]+\/[^/]+\/[^/]+/.exec(e)||[])[0],!e)))return e.endsWith(".git")&&(e=e.substr(0,e.length-4)),e}async function Doe(t,e){var p;let{common:r,gitClone:n}=t,{cliHost:i}=r;if(!n)return;let o=Xd(r),s=Xd(r),a=Du(n.url,n.branch),c=await a.parseUrl(n.tokenEnvVar?i.env[n.tokenEnvVar]:void 0),l=a.cloneOptions(c),u=ge(W(W({},n),l),{env:W(W({},n.env),l.env)}),f=await iv(r,r.cliHost,e.rootFolderPath,u,o.output,s.output),d=(p=f.gitClone)==null?void 0:p.then(()=>a.postClone(c,i,e.rootFolderPath,o.output));return{gitClone:async()=>{o.flush(),await d},gitUnshallow:async()=>{o.flush(),s.flush(),await f.gitUnshallow}}}function pi(t){return{repositoryPath:t,fullRepositoryName:Oy(t),repositoryName:Roe(t),workspaceFolder:hU,volumeDestination:KS(),oldVolumeName:Ooe(t),alreadyCloned:!1,imageName:Noe(t),uniqueVolumeName:Loe(t),getWorkspaceConfiguration:(e,r)=>Foe(e,r),getOldWorkspacePath:vU,cloneAndInitializeRepository:Moe,getConfigurationFromImage:gU,gitUrlHandler:Du(t),gitUrlInfo:wo(t)}}function Oy(t){let e=wo(t);return e==null?void 0:e.fullRepositoryName}function Roe(t){let e=wo(t);return e==null?void 0:e.repositoryName}function KS(){return"/workspaces"}function Ooe(t){let e=Oy(t);return`vsc-${qi.posix.basename(e)}-${YS(t)}`}function Noe(t){let e=Oy(t),r=YS(t),n=qi.posix.basename(e);return yS(`vsc-${n}-${r}`)}function Loe(t){let e=wo(t),r="";e&&e.repositoryName&&(r=e.repositoryName,e.ref?r=`${r}-${e.ref.replace(/\//g,"-")}`:e.pullRequestId&&(r=`${r}-pull-${e.pullRequestId}`));let n=YS(t);return`${r}-${n}`}function YS(t){return pU.createHash("md5").update(t).digest("hex")}function Foe(t,e){let r=hU(t),n=`type=volume,src=${e},dst=${KS()}`;return{workspaceFolder:r,workspaceMount:n}}function hU(t){return qi.posix.join(`${KS()}`,`${t}`)}async function Moe(t,{folder:e,cloneInfo:r},n,i,o){var u;await $oe(t);let{containerId:s,shellServer:a}=await qoe(t,n,i,e,o,t.configProvider,r),{config:c}=await gU(t,n,e,o,a),l=(u=n.gitUrlHandler)==null?void 0:u.installExtension();if(l){let f=c.customizations||(c.customizations={}),d=f.vscode||(f.vscode={}),p=d.extensions||(d.extensions=[]);p.includes(l)||p.push(l)}return{repository:n,volumeName:i,containerId:s,shellServer:a,config:c}}async function qoe(t,e,r,n,i,o,s){let{common:a}=t,{output:c,loadNativeModule:l}=a,u=e.fullRepositoryName,f,d,p,h;t.common.progress(Vr.CloningRepository);let m=zS(e,r,n,t.buildContainerRunArgs);n?(c.write(`Cloning Github repository: ${u} into ${e.workspaceFolder(n)}
\r`),f=`fatal: destination path '${e.workspaceFolder(n)}' already exists`,h=e.workspaceFolder(n),p=`Repository '${u}' was already cloned into '${e.workspaceFolder(n)}'.
\r`):(c.write(`Cloning Github repository: ${u} into volume ${r}
\r`),f=`fatal: destination path '${u}' already exists`,h=`${u}`,p=`Repository '${u}' was already cloned into volume.`);let g=e.gitUrlHandler;if(!g)throw new $e({description:"Could not analyze the URL."});s?d=g.cloneOptions(s):d={url:e.repositoryPath};let{stdout:v}=await Ct(t,...m),y=v.toString().trim(),C=Su(t,y,"root"),b=await Ko(C,c),_,P,S=Promise.resolve(),x;if(!a.cliMode){let q=await Bd(a,{remoteExec:C,user:"root",nodeExecutable:"node",shellServer:b});_=q.remoteContainersCLI,P=q.remoteEnv,S=q.ready,x=q.mrpcExec}let T=await ap(t,y,"root",l),A=Gs("container",h,{},await x||C,T,()=>{throw new Error("not implemented")},void 0,c);try{a.cliMode||(t.common.isCopyGitConfigEnabled&&(await vc(t.common,{homeFolder:"/root",shellServer:b},[".gitconfig"],"git"),await Uv(t.common,{homeFolder:"/root",shellServer:b},{})),await gu({shellServer:b,nodeExecutable:"node"},_,c,"global"),await vc(t.common,{homeFolder:"/root",shellServer:b},[".ssh","known_hosts"],"ssh"),await S);let q=Xd(a),J=await iv(a,A,h,ge(W({},d),{env:W(W({},P),d.env)}),c,q.output);if(await J.gitClone,J.gitUnshallow&&(a.backgroundTasks.push(J.gitUnshallow.then(()=>{})),J.gitUnshallow.then(q.flush,q.flush)),J.gitClone&&s)try{await g.postClone(s,A,h,c)}catch{return JS(t,y,`Failed to checkout the repository ${s.urlToClone}.`)}}catch(q){let J=q&&(q.cmdOutput||q.stack||q.message)||String(q);if(J=J.replace(Us,""),J.replace(/[\r\n]+/gm,"").includes(f))c.write(p),e.alreadyCloned=!0;else return JS(t,y,`Git clone failed. ${J}`)}let{configRaw:N}=await mU(t,e,n,i,b);if(!Zs(N)&&o){c.write(`Repository ${u} has no development container files.
\r`);let q=!0;for(;q;){let J=await o.createConfiguration(h,A);if(J)q=!1;else if(J=await o.showError("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started.","Select Configuration"),J!=="Select Configuration")return JS(t,y,"Cancelled container configuration selection.")}}return{containerId:y,shellServer:b}}function zS(t,e,r,n=[]){return r?["run","-d","--mount",`type=volume,src=${e},dst=${t.volumeDestination}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${QS}`,"sleep","infinity"]:["run","-d","--mount",`type=volume,src=${e},dst=${t.fullRepositoryName}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${QS}`,"sleep","infinity"]}function JS(t,e,r){throw e&&Ct(t,"rm","-f",e),new $e({description:r})}async function mU(t,e,r,n,i){let o,s;if(r?s=e.workspaceFolder(r):s=`${vU(e.repositoryPath)}`,n)return o=(await i.exec(`cat ${n.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&gt(o),configFile:n,workspaceFolder:s};if(n=await Pp([e.repositoryPath],t.userRepositoryConfigurationPaths),n&&(o=(await tt(n.fsPath)).toString()),!n)for(let a of bu(qi.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,n=Ve.from({scheme:"vscode-remote",path:a});break}catch{}return n||(n=await Pp([e.repositoryPath],[xp]),n&&(o=(await tt(n.fsPath)).toString())),{configRaw:o&&gt(o),configFile:n,workspaceFolder:s}}async function gU(t,e,r,n,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await mU(t,e,r,n,i);if(!s||!o)throw new $e({description:"The repository does not have a 'devcontainer.json' configuration file."});let{common:c,configUpdater:l}=t,{cliHost:u,output:f}=c,d=ip(W({},o)),p=d;l&&(d.configFilePath=s,p=l(d),delete p.configFilePath);let h=Rv({platform:u.platform,configFile:s,env:u.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},p);return h.configFilePath=s,("workspaceMount"in h||"workspaceFolder"in h)&&f.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:h}}function vU(t){return`/workspaces/${qi.posix.basename(Oy(t))}`}var QS="vsc-volume-bootstrap";var XS="bootstrap.Dockerfile",joe="volume.Dockerfile";async function $oe(t){let{common:e,development:r}=t,{cliHost:n,output:i}=e,o=e.package.version,s=n.path.join(await n.tmpdir(),"vsch","bootstrap-image",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,XS),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let u="Removing incomplete bootstrap-image folder.",f=i.start(u),d=`${s}-${Nn()}`;await n.rename(s,d),await n.rm(d,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(u,f)}if(c){let u=`${s}-${Nn()}`,f=n.path.join(u,".vscode-remote-containers","dist",`dev-containers-cli-${o}`);await n.mkdirp(n.path.join(f,"dist","spec-node")),await n.writeFile(n.path.join(u,XS),await tt(qi.join(e.extensionPath,"scripts",XS))),await n.writeFile(n.path.join(f,"package.json"),await tt(qi.join(e.extensionPath,"package.json"))),await n.writeFile(n.path.join(f,"dist","spec-node","devContainersSpecCLI.js"),await tt(qi.join(e.extensionPath,"dist","spec-node","devContainersSpecCLI.js")));let d=Ic(e.extensionPath),p=n.path.join(f,"dist","node_modules","vscode-dev-containers","container-features");await Tc(d,n,p,i),await n.rename(u,s)}await sy(t,...["build","-f",a,"-t",QS,s])}async function aU(t){let{common:e,development:r}=t,{cliHost:n,output:i}=e,o=e.package.version,s=n.path.join(await n.tmpdir(),"vsch","inspect-volume",r?`${o}-dev-${Date.now()}`:o),a=n.path.join(s,joe),c=!await n.isFolder(s);if(!c&&!await n.isFile(a)){let l="Removing incomplete inspect-volume folder.",u=i.start(l),f=`${s}-${Nn()}`;await n.rename(s,f),await n.rm(f,{recursive:!0,force:!0}),c=!await n.isFolder(s),i.stop(l,u)}if(c){let l=`${s}-${Nn()}`;await Tc(qi.join(e.extensionPath,"scripts","inspect-volume"),n,l,i),await n.rename(l,s)}return s}async function cU(t,e,r){let n=[`vsch.local.repository=${e.repositoryPath}`];return r?r===mi?(r=e.uniqueVolumeName,n.push("vsch.local.repository.unique=true")):n.push("vsch.local.repository.unique=false"):(r=e.oldVolumeName,n.push("vsch.local.repository.unique=false")),e.gitUrlInfo.ref&&n.push(`vsch.local.repository.branch=${e.gitUrlInfo.ref}`),e.gitUrlInfo.pullRequestId&&n.push(`vsch.local.repository.pullRequestId=${e.gitUrlInfo.pullRequestId}`),(await go(t)).indexOf(r)===-1&&await iy(t,r,n),r}var Ny="vsch.local.repository",ZS="vsch.local.repository.volume",ex="vsch.local.repository.folder";function lU(t,e,r,n){return r?{labels:[`${Ny}=${e}`,`${ZS}=${n}`,`${ex}=${r}`],remoteWorkspaceFolder:t.workspaceFolder(r)}:{labels:[`${Ny}=${e}`],remoteWorkspaceFolder:t.getOldWorkspacePath(e)}}async function uU(t,e,r){let{loadNativeModule:n,output:i}=t.common,o=Su(t,e,"root"),s=await ap(t,e,"root",n),a=Gs("container",r,{},o,s,()=>{throw new Error("not implemented")},"node",i);return{cliHost:a,dockerCLI:"docker",dockerComposeCLI:vo({exec:a.exec,env:{},output:i},"docker","docker-compose"),dockerComposePath:"docker-compose",env:{},output:i}}var GS="devcontainer.local_folder",Ay="vsch.local.volume",Dy="/volume",Ry="vsch.quality",WS="vsch.local.folder";async function fU(t,e,r,n,i,o,s,a,c,l,u,f,d,p){let{common:h}=t,m,g;try{let v=!l,y;return m=async()=>y||(y=(async()=>{let C=W(W({},e.env),pr(e.env)),b={cliHost:e.cliHost,env:C,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,output:h.postCreate.output},_=await Py(b,s,d,h.getLogLevel(),p,h.cliMode);return by(_.featuresConfiguration)})()),g=await Au(t,a.Id,i.workspaceFolder,n.remoteUser),u&&l&&i.workspaceFolder&&g.user!=="root"&&(g.launchRootShellServer?await $v(g,g.launchRootShellServer,i.workspaceFolder,n.configFilePath.path):h.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files.")),await Boe(a,c,t,e,g,n,m,r,v,o,s,f,d,p)}catch(v){throw Uoe(v,a,t,g,n)}}function Uoe(t,e,r,n,i){let o=t instanceof $e?t:new $e({description:"An error occurred setting up the container.",originalError:t});return e&&(o.manageContainer=!0,o.params=r.common,o.containerId=e.Id,o.dockerParams=r),n&&(o.containerProperties=n),i&&(o.config=i),o}async function Boe(t,e,r,n,i,o,s,a,c,l,u,f,d,p){var x,T;let{common:h}=r,m=Tr(h.cliHost,i.shellServer);c||await ey(r,m,o);let g={cwd:l,dockerCLI:r.dockerCLI,env:h.env,containerId:t.Id,user:i.user,sessionId:h.sessionId,shutdownAction:o.shutdownAction,logLevel:h.getLogLevel(),delay:1e4},{shutdownArgs:v}=await Sy(r,m,"singleContainer",g,c?o:void 0),{hostOrContainerPort:y,hostPortServer:C,connectionToken:b,webConnectionToken:_,remoteEnv:P,serverDownloaded:S}=await jv(h,i,o,s,((T=(x=o.customizations)==null?void 0:x.vscode)==null?void 0:T.devPort)||Ys,xy(r,n,u,t.Id,e,d,p));return v.hostPortServer=C,Iu(h,i,y,b,_,t,a),{params:h,properties:i,config:o,resolvedAuthority:{host:ra,port:y,connectionToken:b,extensionHostEnv:P},webConnectionToken:_,tunnelInformation:h.isLocalContainer?Tu(t):{},dockerParams:r,dockerContainerId:t.Id,serverDownloaded:S}}function Ou(t){let e=t.Config.Labels||{},r=e[GS]||e[WS];return r||void 0}function Ac(t){let e=(t.Config.Labels||{})[Ny];return e||void 0}function Ly(t){let e=(t.Config.Labels||{})[ZS];return e||void 0}function yU(t){let e=(t.Config.Labels||{})[Ay];return e||void 0}function wU(t){let e=(t.Config.Labels||{})[ex];return e||void 0}function dU(t,e){throw t.write(it(e)),new Error(e)}var CU=te(require("path"));async function bU(t,e,r,n,i,o){let s,a=new Promise(h=>s=h),c=new pS,l=[],u=await qq("vscode-remote-containers",async(h,m)=>{let g=await $q(h),v=[];if(g.type==="poll")try{v=await c.dequeue(6e4)}catch{}else if(g.type==="reply"){let y=l[g.sequence];y&&(y(g.reply),delete l[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&n.event(g.event);m.write(JSON.stringify(v)),m.end()});u.server.unref();let f=CU.join(r,"dist","shutdown","shutdownMonitorProcess"),d=[u.ipcHandlePath,t,he[e],i||"",o.getTime().toString()];n.write(`Forking shutdown monitor: ${f} ${d.join(" ")}\r
`);let p=YF(f,d,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",h=>{console.error(h)}),p.unref(),{queue:c,sequence:0,replies:l,done:a}}async function Fy(t,e,r){let n=t.sequence++,i=new Promise(s=>t.replies[n]=s);return t.queue.push({type:"configure",sequence:n,options:e}),await i}async function EU({queue:t,done:e}){t.push({type:"cleanup"}),await e}var SU=te(require("util"));var Tp=te(require("string_decoder"));var mi="__UNIQUE__",ra="127.0.0.1";function Nu(t,e){let r=t.platform==="win32"&&!t.env.SSH_AUTH_SOCK?C_:t.type==="wsl"?t.env.SSH_AUTH_SOCK:void 0,n={DOCKER_CONTEXT:"default"};return e&&("context"in e?n.DOCKER_CONTEXT=e.context:(e.host&&(e.host.startsWith("ssh://")&&t.type==="ssh"?n.VSCODE_DOCKER_HOST=e.host:n.DOCKER_HOST=e.host),e.certPath&&(n.DOCKER_CERT_PATH=e.certPath),e.tlsVerify&&(n.DOCKER_TLS_VERIFY=e.tlsVerify))),r&&(n.SSH_AUTH_SOCK=r),n}function na(t){let e;if(t.DOCKER_CONTEXT&&t.DOCKER_CONTEXT!=="default")e={context:t.DOCKER_CONTEXT};else{e={};let r=t.VSCODE_DOCKER_HOST||t.DOCKER_HOST;r&&(e.host=r),t.DOCKER_CERT_PATH&&(e.certPath=t.DOCKER_CERT_PATH),t.DOCKER_TLS_VERIFY&&(e.tlsVerify=t.DOCKER_TLS_VERIFY),Object.keys(e).length||(e=void 0)}return e}function My(t,e){e&&("context"in e&&e.context&&t.write(`Context: ${e.context}\r
`),"host"in e&&e.host&&t.write(`Host: ${e.host}\r
`),"certPath"in e&&e.certPath&&t.write(`CertPath: ${e.certPath}\r
`),"tlsVerify"in e&&e.tlsVerify&&t.write(`TLSVerify: ${e.tlsVerify}\r
`))}function qy(t){return!t.VSCODE_DOCKER_HOST&&!t.DOCKER_HOST&&(!t.DOCKER_CONTEXT||t.DOCKER_CONTEXT==="default")}function Ru(t){return t&&("context"in t||t.host)?` @ ${"context"in t?t.context:t.host}`:""}async function jn(t,e){try{return await hn(t,e)}catch{return}}function Iu(t,e,r,n,i,o,s){let a=o.Ports.filter(d=>!!d.PublicPort),c="";if(t.authority&&s){let d=s.isWorkspaceFile?"workspace":"folder",p=e.remoteWorkspaceFolder||"/",h=s.isWorkspaceFile?$n.posix.join(p,t.cliHost.path.basename(s.workspaceOrFolderPath)):p;c=`&${d}=${encodeURIComponent(`vscode-remote://${t.authority}${h}`)}`}let l=[...a.length?["Published Ports:"]:[],...a.map(d=>`${d.PrivatePort}/${d.Type} -> ${d.IP}:${d.PublicPort}`),...a.length?[""]:[],...t.web?[`VS Code Web: http://localhost:${r}?tkn=${n||i}${c}`,""]:[]],u=l.reduce((d,p)=>Math.max(p.length,d),0),f="-".repeat(u);u>0&&t.output.write(`\r
\r
${f}\r
${l.join(`\r
`)}${f}\r
\r
`)}async function jy(t){let{common:e}=t,{output:r}=e,n="Check Docker is running",i=r.start(n);try{let{stdout:o}=await Ct(t,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);r.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&r.write(it(s));let a="Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed.",c=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw c.indexOf("permission denied")!==-1?c.indexOf("ssh")!==-1?a="Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction.":a="Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group.":c.indexOf("ENOENT")!==-1&&(a="The 'docker' command was not found. Make sure Docker is installed."),new $e({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{r.stop(n,i)}}function Dr(t){return t.hostPath!==void 0}function hi(t){return t.repositoryPath!==void 0}function kp(t){return!hi(t)&&t.volumeName!==void 0}function gi(t){let e=PU("dev-container",t);if(!!e)return typeof e=="string"?{hostPath:e}:"repositoryPath"in e?e.dockerHost?{repositoryPath:e.repositoryPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`,cloneInfo:e.cloneInfo}}:e:"hostPath"in e&&e.dockerHost?{hostPath:e.hostPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`}}:e}function Ap(t,e,r,n){let i=r?JSON.stringify({hostPath:t,localDocker:n,settings:r}):t;return`vscode-remote://dev-container+${Buffer.from(i,"utf8").toString("hex")}${e}`}function Dc(t,e,r,n,i,o){if(t){let a=pi(t);if(!e){let l=JSON.stringify({repositoryPath:t,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${a.getOldWorkspacePath(t)}`}let c=JSON.stringify({repositoryPath:t,volumeName:e,folder:r,settings:i,cloneInfo:o,inspectVolume:n});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${a.workspaceFolder(r)}`}let s=JSON.stringify({volumeName:e,settings:i});return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${Dy}`}function $y(t){let e=PU("attached-container",t);if(!!e)return typeof e=="string"?{containerId:e}:(e.dockerHost&&(e.settings={host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},delete e.dockerHost),e)}function xU(t,e,r){let n=JSON.stringify({containerName:t,settings:e,cwd:r});return`attached-container+${Buffer.from(n,"utf8").toString("hex")}`}function PU(t,e){try{let[r,n]=e.split("+"),i=r===t&&n?Buffer.from(n,"hex").toString("utf8"):void 0;return i?i.startsWith("{")?JSON.parse(i):i:void 0}catch(r){console.warn(r);return}}async function kU(t,e,r,n=!1){return!n&&await XE(t,e,r)||e}function IU(t,e,r){let n=t.path.relative(t.path.dirname(e),r);return`/workspaces/${t.platform==="win32"?n.replace(/\\/g,"/"):n}`}function TU(t,e,r){if(t==="win32")return e;let n=`${Voe(r,"/")}/`;return(t==="linux"?e.startsWith(n):e.toLowerCase().startsWith(n.toLowerCase()))&&(e=`~/${e.substr(n.length)}`),e}function Voe(t,e){if(e.length===0)return t;for(;t.endsWith(e);)t=t.substr(0,t.length-e.length);return t}function Lq(t,e){return t.with({path:$n.posix.resolve(t.path,e)})}async function Sy(t,e,r,n,i){let{common:o,onRemoveOnShutdownChanged:s}=t;if(o.cliMode)return{shutdownArgs:{},doneWithDocuments:Promise.resolve()};let a=o.output.start("Setup shutdown monitor"),c=await bU(r,o.getLogLevel(),o.extensionPath,o.output,o.logFilePath?$n.dirname(o.logFilePath):void 0,o.sessionStart);Fy(c,n,o.output).catch(d=>console.error(d)),s&&s(async d=>{n.rebuild=!!d,n.delay=0,await Fy(c,n,o.output)}),o.onDidChangeLogLevel(async d=>{n.logLevel=d,await Fy(c,n,o.output)});let l={},u=async()=>{let d=EU(c);l.hostPortServer&&await(0,SU.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await d};o.shutdowns.push(u);let f=i?Oq(t,e,i).catch(console.error):Promise.resolve();return o.output.stop("Setup shutdown monitor",a),{monitor:c,shutdownArgs:l,doneWithDocuments:f}}function Tu(t){return{environmentTunnels:t.Ports.filter(e=>!!e.PublicPort).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}}async function Au(t,e,r,n,i){let{common:o}=t,s="Inspecting container",a=o.output.start(s),c=await hn(t,e);o.output.stop(s,a);let l=n||c.Config.User||"root",[,u,,f]=/([^:]*)(:(.*))?/.exec(l),d=zoe(c.Config.Env),p=Su(t,e,l),h=await ap(t,e,l,o.loadNativeModule),m=Su(t,e,"root"),g=c.Mounts.find(C=>C.Type==="volume"&&C.Name==="vscode"),v=c.Mounts.find(C=>C.Type==="bind"&&C.Source===o.localCacheFolder),y=g&&$n.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination);return Fv({params:o,createdAt:c.Created,startedAt:c.State.StartedAt,sharedDataFolder:y,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:r,containerUser:u==="0"?"root":u,containerGroup:f,containerEnv:d,remoteExec:p,remotePtyExec:h,remoteExecAsRoot:m,rootShellServer:i})}function zoe(t){return(t||[]).reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substr(0,n)]=r.substr(n+1)),e},{})}async function AU(t){let{common:e,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,dockerEnv:o}=t,{cliHost:s,output:a}=e;return{cliHost:s,dockerCLI:r,dockerComposeCLI:n,dockerComposePath:i,env:o,output:a}}async function DU(t,e){return t.type==="local"&&e?t.path.join(e,"data"):t.path.join(await t.homedir(),".vscode-remote-containers","data")}async function Tc(t,e,r,n){await e.mkdirp(r);let i=_U.c({cwd:t,filter:l=>(console.log(l),!0)},["."]),o=new Promise((l,u)=>{i.on("error",u),i.on("finish",l)}),s=await e.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:r,output:n}),a=new Tp.StringDecoder;s.stdout.on("data",l=>{n.write(a.write(l))});let c=new Tp.StringDecoder;s.stderr.on("data",l=>{n.write(it(c.write(l)))}),i.pipe(s.stdin),await s.exit,await o}async function Ip(t,e){let{cliHost:r,env:n,appRoot:i,postCreate:o,output:s}=t,a=await Woe(t),c=r.type==="local"?fo?D_:process.argv[0]:r.nodeExecutable||(()=>{throw new Error("nodeExecutable required")})(),l;return await Goe({exec:r.exec,cwd:a.cwd,cmd:c,args:[a.script,...e],env:W(W(W({},n),r.type==="local"?i?{NODE_PATH:`${r.path.join(i,"node_modules.asar")}${$n.delimiter}${r.path.join(i,"node_modules")}`}:void 0:r.type==="container"?void 0:{NODE_PATH:r.path.join(r.path.dirname(c),"node_modules")}),fo?{TS_NODE_PROJECT:void 0}:{}),stdin:o==null?void 0:o.onDidInput,output:s,stdoutData:u=>l=u,stderrData:u=>{s.event(u)}}),l}async function Goe(t){let{exec:e,cmd:r,args:n,cwd:i,env:o,stdin:s,output:a,stdoutData:c,stderrData:l}=t,u=await e({cmd:r,args:n,cwd:i,env:o,output:a});return new Promise((f,d)=>{let p=new Tp.StringDecoder,h="";u.stdout.on("data",y=>{h+=p.write(y);let C=h.split(`
`);h=C.pop();for(let b of C)if(b.trim())try{c(JSON.parse(b))}catch{a.write(b)}}),u.stdout.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let m=new Tp.StringDecoder,g="";u.stderr.on("data",y=>{g+=m.write(y);let C=g.split(`
`);g=C.pop();for(let b of C)if(b.trim())try{l(JSON.parse(b))}catch{a.write(b)}}),u.stderr.on("error",y=>{if((y==null?void 0:y.code)!=="ENOTCONN")throw y});let v=[];u.exit.then(({code:y})=>{try{v.forEach(C=>C.dispose()),y?(a.write(`Exit code ${y}`),d({message:`Command failed: ${r} ${(n||[]).join(" ")}`,code:y})):f()}catch(C){d(C)}},d),typeof s=="function"&&v.push(s(y=>u.stdin.write(y)))})}async function Woe(t){let{cliHost:e,extensionPath:r,output:n}=t,i=$n.join(r,...fo?["node_modules","@devcontainers","cli","src"]:["dist"],"spec-node",`devContainersSpecCLI.${fo?"t":"j"}s`),o=e.type==="local"?r:e.path.join(await e.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${t.package.version}`),s=e.type==="local"?i:e.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","ssh"].indexOf(e.type)!==-1&&!await e.isFile(s)){let a=`${o}-${Nn()}`,c=e.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await e.mkdirp(e.path.dirname(c)),await e.writeFile(e.path.join(a,"package.json"),await tt($n.join(r,"package.json"))),await e.writeFile(c,await tt(i));let l=Ic(r),u=e.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await Tc(l,e,u,n),await Tc($n.join(r,"scripts"),e,e.path.join(a,"scripts"),n),await e.rename(a,o)}return{cwd:o,script:s}}function xy(t,e,r,n,i,o,s){return async(a,c,l,u)=>{let{common:f}=t,{cliHost:d}=e,p=W(W({},e.env),pr(e.env)),h={cliHost:e.cliHost,env:p,extensionPath:f.extensionPath,appRoot:f.appRoot,package:f.package,postCreate:f.postCreate,output:f.postCreate.output},m=f.postCreate.output.dimensions||f.output.dimensions,g=await Ip(h,["run-user-commands",...e.cliHost.type==="local"&&f.persistedFolder?["--user-data-folder",f.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...i?["--container-data-folder",ai(t.common.product.serverDataFolderName)]:[],...i?["--container-system-data-folder",mu(t.common.product.serverDataFolderName)]:[],"--workspace-folder",r,"--container-id",n,"--log-level",$s(f.getLogLevel()),"--log-format","json",...o?["--config",ze(o,d.platform)]:[],...s?["--override-config",ze(s,d.platform)]:[],"--default-user-env-probe",f.defaultUserEnvProbe,"--skip-non-blocking-commands",String(a),"--prebuild",String(l),"--stop-for-personalization",String(c),...[].concat(...Object.keys(u).map(v=>["--remote-env",`${v}=${u[v]}`])),"--mount-workspace-git-root",String(!f.cliMode),...m?["--terminal-columns",String(m.columns),"--terminal-rows",String(m.rows)]:[]]);if((g==null?void 0:g.outcome)!=="success")throw new $e({description:`devcontainer command failed: ${g?JSON.stringify(g):"data missing"}`});return g.result}}async function Py(t,e,r,n,i,o=!1){let{cliHost:s,output:a}=t,c=await Ip(t,["read-configuration","--workspace-folder",e,"--log-level",$s(n),"--log-format","json",...r?["--config",ze(r,s.platform)]:[],...i?["--override-config",ze(i,s.platform)]:[],"--include-features-configuration","--mount-workspace-git-root",String(!o),...a.dimensions?["--terminal-columns",String(a.dimensions.columns),"--terminal-rows",String(a.dimensions.rows)]:[]]);return c.configuration.configFilePath=Ve.revive(c.configuration.configFilePath).with({scheme:s.type==="local"?"file":Zt.scheme}),c}var Ut=te(require("vscode"));var Rc={id:"openDocumentation",title:"Open Documentation",isLastAction:!1,applicable:(t,e)=>!e,execute:async t=>{await Ut.env.openExternal(Ut.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},Oc={id:"reloadWindow",title:"Reload Window",isLastAction:!0,applicable:(t,e)=>!e&&t.data.reload!==!1,execute:async t=>{t.manageContainer&&t.dockerParams&&t.containerId&&await Ct(t.dockerParams,"stop","-t","0",t.containerId),await Ut.commands.executeCommand("workbench.action.reloadWindow")}},RU={id:"rebuildContainer",title:"Rebuild Container",isLastAction:!0,applicable:(t,e)=>t.manageContainer&&!!t.dockerParams&&!!t.containerId&&!e,execute:async t=>{await Ct(t.dockerParams,"rm","-f",t.containerId),await Ut.commands.executeCommand("workbench.action.reloadWindow")}},Lu={id:"openRecent",title:"Open Recent...",isLastAction:!0,applicable:(t,e)=>!e,execute:async t=>{await Ut.commands.executeCommand("workbench.action.openRecent")}},OU={id:"startContainer",title:"Start Container",isLastAction:!0,applicable:t=>!!t.dockerParams&&!!t.containerId&&t.data.start===!0,execute:async t=>{await Ct(t.dockerParams,"start",t.containerId),await Ut.commands.executeCommand("workbench.action.reloadWindow")}},NU={id:"chooseContainer",title:"Choose Container",isLastAction:!0,applicable:t=>t.data.attach===!0,execute:async()=>{await Ut.commands.executeCommand("remote-containers.attachToRunningContainer")}},ia={id:"closeRemote",title:"Close Remote",isLastAction:!0,applicable:(t,e)=>{if(!e)return!1;let r=Ut.workspace.workspaceFile;return!(r&&r.scheme==="untitled"||Ut.workspace.textDocuments.some(i=>i.isDirty))},execute:async t=>{await Ut.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Fu=[{id:"retry",title:"Retry",isLastAction:!0,applicable:(t,e)=>e&&t.data.reload!==!1,execute:Oc.execute},{id:"moreActions",title:"More Actions...",isCloseAffordance:!0,isLastAction:!1,applicable:(t,e)=>e,execute:async t=>{}},{id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(t,e)=>e&&!!t.data.learnMoreUrl,async execute(t){await Ut.env.openExternal(Ut.Uri.parse(t.data.learnMoreUrl))}}];async function oa(t,e,r,n=!1,i){var d,p,h,m,g,v;let o=t instanceof $e?t:new $e({description:"An error occurred setting up the container.",originalError:t});if(i){i.show();let y=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(y!==void 0){i.log.write(it(String(y)));let C=(p=(d=o.originalError)==null?void 0:d.stdout)==null?void 0:p.toString().trim();C&&i.log.write(C);let b=(m=(h=o.originalError)==null?void 0:h.stderr)==null?void 0:m.toString().trim();b&&i.log.write(it(b)),((g=o.originalError)==null?void 0:g.code)&&i.log.write(`Exit code ${(v=o.originalError)==null?void 0:v.code}`)}}if(t.message.indexOf("Cancelled container configuration selection")!==-1)throw await Ut.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Ut.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let s=o.actions;s.length||(s=[Rc]);let a=await s.reduce(async(y,C)=>await C.applicable(o,!0)?[...await y,C]:y,Promise.resolve([])),c=await Ut.window.showErrorMessage(o.description,{modal:!0},...a);if(c&&(LU(r,e,c.id),await c.execute(o)),c&&c.isLastAction){if(n)throw Ut.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let l=await s.reduce(async(y,C)=>await C.applicable(o,!1)?[...await y,C]:y,Promise.resolve([])),u=l.map(y=>({label:y.title,action:y}));async function f(){let C=await(l.length?Ut.window.showQuickPick(u,{ignoreFocusOut:!0,placeHolder:"Pick an action to help resolve the problem."}):Promise.resolve(void 0));C&&(LU(r,e,C.action.id),C.action.execute(o).catch(console.error),C.action.isLastAction||await f())}if(f().catch(console.error),n)throw Ut.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function LU(t,e,r){t.sendTelemetryEvent("errorAction",{resolver:e,action:r})}var pe=te(require("vscode")),Th=te(require("path")),Y3=te(require("os"));var J3=te(fV()),Ea=te(K3());var Zde="remote.containers.defaultExtensions",ko="remote-containers.revealLogTerminal",Sk="remote-containers.revealPostCreateTerminal",Ah="remote-containers.openDevContainerFile",Q3="remote-containers.openRepositoryInVolume",lC="remote-containers.openRepositoryInUniqueVolume",X3="remote-containers.openRepositoryFromRemoteHub",Z3="remote-containers.openPullRequestInVolume",Dh=pe.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),Rh=pe.Uri.parse("https://aka.ms/vscode-dev-containers"),ez=new i_,Yr={onRemoveOnShutdownChangedEmitter:ez,onRemoveOnShutdownChanged:ez.event,results:new Map},pl,Io=t=>JF(t,pe.env.appRoot);function uC(t,e,r,n){return async(i,o)=>{if(pe.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0),o.resolveAttempt>1){let s=r.get(i);if(!s)throw new Error("Reconnect attempt without old result.");let a=`Reconnection attempt ${o.resolveAttempt-1}`,c=t.log.start(a),{cliHost:l}=s.params;if(l.reconnect)try{await l.reconnect()}catch(u){throw t.log.write(it(String(u&&(u.stack||u.message)||u))),pe.RemoteAuthorityResolverError.TemporarilyNotAvailable("Cannot reconnect to remote host.")}if(s.dockerContainerId){let u=await jn(s.dockerParams,s.dockerContainerId);if(!u)throw pe.RemoteAuthorityResolverError.NotAvailable("Container no longer exists.");if(u.State.Status==="paused")throw pe.RemoteAuthorityResolverError.TemporarilyNotAvailable("Container is paused.");if(u.State.Status!=="running")throw pe.RemoteAuthorityResolverError.NotAvailable("Container is no longer running.")}return t.log.stop(a,c),ge(W({},s.resolvedAuthority),{isTrusted:s.isTrusted})}else{let s="Resolving Remote",a=t.log.start(s),c=await n(i,t,e);return epe(c.params,c.properties).catch(l=>{}),r.set(i,c),t.log.stop(s,a),pe.window.withProgress({location:pe.ProgressLocation.Window,title:gpe,cancellable:!1},async l=>{await UM(c.params.backgroundTasks)}).then(void 0,l=>{t.log.write(it(String(l&&(l.stack||l.message)||l)))}),ge(W(W({},c.resolvedAuthority),c.tunnelInformation),{isTrusted:c.isTrusted})}}}async function epe(t,e){if(!e.nodeExecutable)return;let r=await tt(Th.join(t.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:n}=await Jo(t,e,[e.nodeExecutable,"-e",r],void 0,{silent:!0}),i=n.toString().trim();t.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var xk;async function tpe(t){return xk||(xk=mo(Th.join(__dirname,"..",".."),ws,t)),xk}var Oh={};async function ws(t,e=!0){var r;if(t.counter&&((r=Oh[t.prompt])==null?void 0:r.from)===t.counter&&delete Oh[t.prompt],!Oh[t.prompt]){if(!e)return"";Oh[t.prompt]={result:Promise.resolve(pe.window.showInputBox({prompt:t.prompt||"Enter password",password:!0,ignoreFocusOut:!0}).then(n=>n||"")),from:t.counter}}return Oh[t.prompt].result}async function yt(t,e,r,n=!0,i=tpe(e),o=!0){let s=!r;if(s){if(Yr.results.size){let g=[...Yr.results.values()].filter(v=>v.dockerParams)[0];return AU(g.dockerParams)}if(pl)return pl}r&&typeof r!="string"&&"scheme"in r&&(r.scheme==="file"?r=r.fsPath:r=lu(r));let a;if(!r){let g=(pe.workspace.workspaceFolders||[])[0];if(pe.env.remoteName==="wsl")g?r=lu(g.uri):r={wslDistro:_v(pe.env.remoteAuthority),wslPath:"/"};else if(pe.env.remoteName==="ssh-remote"){let v=rpe(pe.env.remoteAuthority);if(v){let{user:y,hostName:C,port:b}=v;a={host:`ssh://${y?`${y}@`:""}${C}${b?`:${b}`:""}`},g?r=g.uri.path:r="/"}}else(g==null?void 0:g.uri.scheme)==="file"&&(r=g.uri.fsPath);r||(r=process.cwd())}let c=a&&"host"in a&&a.host||void 0,l=n?Qi():{executeInWSL:"never",defaultDistro:void 0},u=Li(c,r,Io,l,t.extensionPath,bs(),await Wd(pe.env.appRoot),e,Do,{sshAskpassEnv:i,settings:Tf()});o&&!await Promise.race([u,po(1e3)])&&await pe.window.withProgress({location:pe.ProgressLocation.Notification,title:`[Setting up Remote-Containers (show log)](command:${ko} "Show details in terminal")`,cancellable:!1},async()=>{await u});let f=await u,d=Ji(),p=To();if(!a){let g=pe.workspace.getConfiguration("docker"),v=g.get("context")||f.env.DOCKER_CONTEXT;if(!v){let y={cliHost:f,dockerCLI:d,dockerComposeCLI:vo({exec:f.exec,env:{},output:Rt},d,p),dockerComposePath:p,env:{},output:Rt};v=await gS(y)||"default"}v&&v!=="default"?a={context:v}:(a=na(f.env)||{},"context"in a||(Pk(a,g,"host"),Pk(a,g,"certPath"),Pk(a,g,"tlsVerify"),Object.keys(a).length||(a=void 0)))}let h=W(W({},await i),Nu(f,a)),m={cliHost:f,dockerCLI:d,dockerComposeCLI:vo({exec:f.exec,env:h,output:e},d,p),dockerComposePath:p,env:h,output:e};return s&&(pl=m),m}var fC;function tz(t){if(fC)return fC;let e=ipe(t);return t.subscriptions.push(e),t.subscriptions.push(e.event(()=>{let r=pl==null?void 0:pl.cliHost;pl=void 0,(r==null?void 0:r.terminate)&&r.terminate()})),fC=e.event,fC}function rpe(t){let e=/^ssh-remote\+(.*)$/.exec(t);if(!e)return;let r=e[1];try{let n=JSON.parse(Buffer.from(r,"hex").toString("utf8"));if(n&&n.hostName)return n}catch{}return{hostName:r}}function Pk(t,e,r){let n=e.get(r);n&&(t[r]=n)}var npe=["remote.containers.dockerPath","remote.containers.executeInWSL","remote.containers.executeInWSLDistro","docker.context","docker.host","docker.certPath","docker.tlsVerify"];function ipe(t){let e=new pe.EventEmitter,r=pe.workspace.onDidChangeConfiguration(async c=>{npe.some(l=>c.affectsConfiguration(l))&&e.fire()}),n,i,o,s=()=>{(async()=>{i||(i=await Li(void 0,process.cwd(),Io,Qi(),t.extensionPath,bs(),void 0,Rt,Do));let c={cliHost:i,dockerCLI:Ji(),dockerComposeCLI:vo({exec:i.exec,env:{},output:Rt},Ji(),To()),dockerComposePath:To(),env:{},output:Rt},l=await gS(c);l===void 0?o=setTimeout(s,2*60*1e3):(l!==n&&(n!==void 0&&e.fire(),n=l),o=setTimeout(s,2*1e3))})().catch(console.error)};s();let a=e.dispose;return e.dispose=()=>{r.dispose(),o&&clearTimeout(o),a.call(e)},e}async function hl(){let t=pe.workspace.workspaceFolders;if((t==null?void 0:t.length)===1){let e=t[0].uri;return kk(e)}return null}async function kk(t){if(t&&t.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(t.authority)){let r=gi(t.authority);if(Dr(r))return null;if(hi(r)&&r.inspectVolume&&r.inspectVolume===!0)return r}return null}function dC(t){return{getConfigurationState:()=>t.get("configurationState"),updateConfigurationState:async e=>t.update("configurationState",e),containerOutdated:ope}}async function ope(t){let e="Rebuild",r="Ignore",n=await pe.window.showInformationMessage(`Configuration file(s) changed: ${t.join(", ")}. The container might need to be rebuilt to apply the changes.`,e,r);if(n===e)return pe.commands.executeCommand("remote-containers.rebuildContainer");if(n===r)return"ignore"}async function spe(t){return t?rz():Array.from(new Set([...pe.workspace.getConfiguration().get(Zde)||[],...rz()]))}function rz(){let t=pe.env.language,e=t.indexOf("-"),r=nz(t)||(e!==-1?nz(t.substr(0,e)):void 0);return r?[r]:[]}function nz(t){let e=t.toLowerCase();return pe.extensions.all.filter(r=>{var i;let n=r.packageJSON&&r.packageJSON.contributes;return((i=n==null?void 0:n.localizations)==null?void 0:i.length)?!!n.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===e}):!1}).map(r=>r.id)[0]}function iz(){return!!pe.workspace.getConfiguration().get("workbench.enableExperiments")}function ape(){return!!pe.workspace.getConfiguration().get("remote.containers.enableWebAccess")}function pC(){return pe.workspace.getConfiguration().get("remote.containers.workspaceMountConsistency")||"cached"}function hC(){return!!pe.workspace.getConfiguration().get("remote.containers.experimentalUpdateRemoteUserUIDOnMacOS")}function mC(){var t;return(t=pe.workspace.getConfiguration().get("remote.containers.cacheVolume"))!=null?t:!0}function cpe(){let t=pe.workspace.getConfiguration().get("remote.containers.copyGitConfig");return typeof t=="boolean"?t:!0}function lpe(){return pe.workspace.getConfiguration().get("remote.containers.gitCredentialHelperConfigLocation")||"global"}function Ji(){return pe.workspace.getConfiguration().get("remote.containers.dockerPath")||"docker"}function Qi(){return{executeInWSL:Ik(),defaultDistro:Tk()}}function Ik(){return process.platform!=="win32"?"never":pe.workspace.getConfiguration().get("remote.containers.executeInWSL",!1)?"always":"forWSLPath"}function Tk(){if(process.platform==="win32")return pe.workspace.getConfiguration().get("remote.containers.executeInWSLDistro")||void 0}function To(){return pe.workspace.getConfiguration().get("remote.containers.dockerComposePath")||"docker-compose"}function gC(){let t=pe.workspace.getConfiguration().get("remote.containers.logLevel")||"debug";return MO(t)}var upe=t=>pe.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("remote.containers.logLevel")&&t(gC())});function fpe(){let t=pe.workspace.getConfiguration();return{repository:(t.get("remote.containers.dotfiles.repository","")||t.get("dotfiles.repository","")).trim()||void 0,installCommand:(t.get("remote.containers.dotfiles.installCommand","")||t.get("dotfiles.installCommand","")).trim()||void 0,targetPath:(t.get("remote.containers.dotfiles.targetPath","")||t.get("dotfiles.targetPath","")).trim()||"~/dotfiles"}}function Tf(){let t=pe.workspace.getConfiguration();return{executablePath:t.get("remote.SSH.path"),configFilePath:t.get("remote.SSH.configFile")}}function Cs(t,e,r,n,i,o,s){var u,f;let a={resolver:e,outcome:r};n&&(a.hostType=n.cliHost.type),i&&(a.configProperties=JSON.stringify(Object.keys(i)),a.configExtensions=JSON.stringify(((f=(u=i.customizations)==null?void 0:u.vscode)==null?void 0:f.extensions)||[]),a.configFeatures=JSON.stringify(Object.keys(i.features||{})),"image"in i?a.configType="image":Gt(i)?a.configType="dockerfile":"dockerComposeFile"in i&&(a.configType="dockerCompose")),o&&(a.hardwareId=o.osRelease.hardware,a.osReleaseId=o.osRelease.id,a.osReleaseVersion=o.osRelease.version);let c=s&&s.originalError,l=c&&(c.stack||c.message||String(c))||s&&s.description;l&&(a.errorMessage=l),t.sendTelemetryEvent("resolver",a)}var oz=class{constructor(e){this.onClose=e;this.writeEmitter=new pe.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new pe.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(e=>this.writeEmitter.fire(e))}close(){this.ready=!1,this.onClose()}write(e){this.queue.push(e),this.ready&&this.writeEmitter.fire(e)}handleInput(e){this.inputEmitter.fire(e)}},vC=class{constructor(e,r,n=void 0){this.sessionStart=r;this.outputTerminal=new oz(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name="Dev Containers";this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=e?Th.join(e,`remoteContainers-${r.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=dpe(i,gC,this.logFilePath,r,n),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>pe.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(e){this._name=e}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(e){this._revealOnNextOutput=e}show(){this._terminal||(this._terminal=pe.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function dpe(t,e,r,n,i=void 0){let o=[];return r&&o.push(jO(r,()=>Math.min(he.Debug,e()))),o.push($O(t,e,n)),Hr(qO(o,i))}async function Ak(t,e){let r=await jn(t,e.Id);if(r&&r.State.Status==="running")try{await Ct(t,"stop",r.Id)}catch(n){pe.window.showErrorMessage(`Error stopping container: ${n.message}`)}}async function yC(t,e){let r=await jn(t,e.Id);if(r&&r.State.Status!=="running")try{await Ct(t,"start",r.Id)}catch(n){pe.window.showErrorMessage(`Error starting container: ${n.message}`)}}async function sz(t,e){try{await Ct(t,"rm",e)}catch(r){pe.window.showErrorMessage(`Error removing container: ${r.message}`)}}async function Dk(t,e){try{await Ct(t,"volume","rm","--force",e)}catch(r){pe.window.showErrorMessage(`Error removing volume: ${r.message}`)}}function ppe(){return pe.env.sessionId!=="someValue.sessionId"?pe.env.sessionId:`${pe.env.sessionId}_${Date.now()}`}function hpe(t,e){let r=pe.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:t.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:e,tildify:!0}});t.shutdowns.push(r.dispose.bind(r))}async function az(t,e){if(t.globalState.get("removeOnStartup")===e)return await t.globalState.update("removeOnStartup",null),!0;let r=t.workspaceState.get("removeOnStartup",!1);return r&&await t.workspaceState.update("removeOnStartup",null),r}async function cz(t,e){await t.workspaceState.update("removeOnStartup",e)}async function Rk(t,e){await t.globalState.update("removeOnStartup",e)}async function lz(t,e){return t.globalState.get("buildNoCache")===e?(await t.globalState.update("buildNoCache",null),!0):!1}async function Nh(t,e){await t.globalState.update("buildNoCache",e)}async function Lh(t,e,r,n,i){await t.globalState.update("openEditorsOnStartup",{workspaceFolder:e,fileWithError:r==null?void 0:r.toString(),logFile:n,openLog:i})}async function uz(t){var r;let e=t.globalState.get("openEditorsOnStartup");if(e){await t.globalState.update("openEditorsOnStartup",void 0);let n=(r=pe.workspace.workspaceFolders)==null?void 0:r.some(o=>o.uri.fsPath===e.workspaceFolder||o.uri.path===e.workspaceFolder),i=await hl();if(n||i&&i.repositoryPath===e.workspaceFolder&&(n=!0),n){let o=e.fileWithError?Ve.parse(e.fileWithError):void 0;if(e.openLog==="onTheSide"&&await dz(o),e.openLog&&e.logFile){let s={viewColumn:e.openLog==="onTheSide"?pe.ViewColumn.Beside:pe.ViewColumn.One,preserveFocus:!0},a=await pe.window.showTextDocument(pe.Uri.file(e.logFile),s),c=new pe.Position(a.document.lineCount-1,0);a.selection=new pe.Selection(c,c),a.revealRange(a.selection)}return e.openLog!=="onTheSide"&&await dz(o),!0}}return!1}function fz(t){return[`vscode-remote:/workspaces/${t}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${t}/.devcontainer.json`]}async function dz(t){return t?pe.commands.executeCommand("vscode.open",pe.Uri.parse(t.toString()),{viewColumn:pe.ViewColumn.One}):pe.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:pe.ViewColumn.One})}async function Ok(t){if(Yr.results.size)return[...Yr.results.values()].filter(o=>o.config).map(o=>o.config.configFilePath);let e=Ao(),r=pe.workspace.workspaceFolders||[],n=await Promise.all(r.map(async o=>{let s=dt(t.path,ze(o.uri,t.platform));return await Co(t,s,e)})),i=pe.workspace.workspaceFile;if(i&&i.scheme!=="untitled"){let o=dt(t.path,ze(i,t.platform)),s=await Co(t,o,e);s&&n.indexOf(s)===-1&&n.unshift(s)}return n.filter(o=>!!o)}function Ao(){return pe.workspace.getConfiguration().get("remote.containers.repositoryConfigurationPaths")||[]}async function mpe(t,e,r="localhost"){await pe.workspace.openTunnel({remoteAddress:{host:r,port:e}})}function pz(t,e){let r=new vC(void 0,e);r.name="Configuring...",r.revealOnNextOutput=!0;let n=!1;r.onDidInput(()=>{n&&(n=!1,r.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:QF(r.log,"postCreate",t),onDidInput:r.onDidInput,done:()=>{r.shown&&(r.log.raw("[1mDone. Press any key to close the terminal.[0m"),n=!0),i()},promise:new Promise(s=>i=s)};return{channel:r,postCreate:o}}async function Af(t){let{authority:e,extensionContext:r,sessionStart:n,progress:i,cliHost:o,env:s,cwd:a,isLocalContainer:c,telemetry:l,output:u,logFilePath:f,allowSystemConfigChange:d,postCreate:p}=t,h=ape(),m=ge(W({computeExtensionHostEnv:!0},l),{appRoot:pe.env.appRoot,localCacheFolder:bs(),extensionPath:r.extensionPath,webConnectionToken:void 0,sessionId:ppe(),sessionStart:n,authority:e,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:spe,isCopyGitConfigEnabled:cpe(),credentialHelperConfigLocation:lpe(),dotfilesConfiguration:fpe(),progress:ype(i),output:u,logFilePath:f,allowSystemConfigChange:d,defaultUserEnvProbe:"loginInteractiveShell",postCreate:p,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:gC,onDidChangeLogLevel:upe,loadNativeModule:Io,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:g=>hpe(m,g),openTunnel:mpe,getTunnels:()=>Promise.resolve(pe.workspace.tunnels),onAdoptProcess:pe.window.onDidOpenTerminal,persistedFolder:await DU(o,r.globalStoragePath),alternateDownload:Do});return m}async function Do(t,e){let r=await pe.commands.executeCommand("_workbench.downloadResource",pe.Uri.parse(t));if(!r)throw new $e({description:"Downloading the VS Code Server failed. Please try again later."});await jo(r.fsPath,e)}var Df=`[Starting Dev Container (show log)](command:${ko} "Show details in terminal")`,gpe=`[Configuring Dev Container](command:${Sk} "Show details in terminal")`,vpe={[Vr.Begin]:"",[Vr.CloningRepository]:"Cloning Repository",[Vr.BuildingImage]:"Building image",[Vr.StartingContainer]:"Starting container",[Vr.InstallingServer]:"Installing server",[Vr.StartingServer]:"Starting server",[Vr.End]:""};function bs(){return Th.join(Y3.tmpdir(),"vsch")}function ype(t){let e=0;return r=>{let n=Vr.End-r,i=(100-e)/(n+1);t.report({message:vpe[r],increment:i}),e+=i}}async function hz(t,e,r){let{name:n,publisher:i,version:o,aiKey:s}=e;if(!s)return NO(e,r);let a=i?`${i}.${n}`:n,c=new J3.default(a,o,s);t.subscriptions.push(c);let l=new mz(c),u=wpe(r),f=iz()?(0,Ea.getExperimentationService)(a,o,u,l,t.globalState):void 0;return{sendTelemetryEvent:l.sendTelemetryEvent.bind(l),isCachedFlightEnabled:async d=>f&&iz()?f.isCachedFlightEnabled(d):!1,product:r,package:e,getTelemetryLevel:()=>c.telemetryLevel}}var mz=class{constructor(e){this.baseReporter=e;this.sharedProperties={}}sendTelemetryEvent(e,r,n){this.baseReporter.sendTelemetryEvent(e,W(W({},this.sharedProperties),r),n)}setSharedProperty(e,r){this.sharedProperties[e]=r}postEvent(e,r){let n={};for(let[i,o]of r)n[i]=o;this.sendTelemetryEvent(e,n)}};function wpe(t){switch(t.quality){case"stable":return Ea.TargetPopulation.Public;case"insider":return Ea.TargetPopulation.Insiders;case"exploration":return Ea.TargetPopulation.Internal;case void 0:return Ea.TargetPopulation.Team;default:return Ea.TargetPopulation.Public}}var Fh="Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container.",Nk="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function Mh(t,e){if((e==null?void 0:e.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-"))||t.globalState.get(Nk))return!0;let r="Got It",n="Learn More",i=await pe.window.showWarningMessage("Cloning a repository in a Dev Container may execute arbitrary code. ",{modal:!0,detail:"Only clone a repository in a Dev Container if you trust its authors."},r,n);return i===r?(await t.globalState.update(Nk,!0),!0):(i===n&&pe.env.openExternal(pe.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var Lk="userConfirmedAttachToContainerRequiresTrust";async function _a(t){if(t.globalState.get(Lk))return!0;let e="Got It",r="Learn More",n=await pe.window.showWarningMessage("Attaching to a container may execute arbitrary code.",{modal:!0,detail:"Only attach to a container if you trust its origin."},e,r);return n===e?(await t.globalState.update(Lk,!0),!0):(n===r&&pe.env.openExternal(pe.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function gz(t){t.globalState.setKeysForSync([Nk,Lk,Fk])}function vz(){let t=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(t)&&(process.env.PATH=`${t}:/usr/local/bin`)}var Fk="updatedToPreRelease2",Cpe="2022-01-19T05:14:31.474Z";async function yz(t,e){try{e.quality==="insider"&&e.date&&e.date.localeCompare(Cpe)>=0&&!t.globalState.get(Fk,!1)&&(await t.globalState.update(Fk,!0),await pe.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(r){console.error(r)}}async function Rf(t,e,r,n,i=!1){try{return BS(t,e,r,gC(),n,i)}catch{return}}var St=te(require("vscode")),st=te(require("path")),P9=te(require("fs"));var Ss=te(tT()),k9=te(s9());var I9=te(require("util"));var a9=te(require("path"));var Vwe=["png","md","json","txt","map"],zwe=["node_modules",".git","bin","out","dist",".vscode-test"],Gwe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],c9={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},l9={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},Wwe=["docker-existing-docker-compose","docker-existing-dockerfile","codespaces-linux"];async function xT(t,e){for(let r of e)if(r.metaData){if(Wwe.indexOf(a9.basename(r.definitionFolder))>-1)continue;let n=0,i=0,o=r.metaData.get("languagesPlatforms");if(o){let s=o.split(",").map(a=>a.trim());if(s[0]==="Any")n+=5;else for(let a of s)if(l9[a]){let c=l9[a];for(let l of c)t.fileTypes.get(l.toLowerCase())&&(n+=10),t.mostPopularFileType===l&&(n+=10)}else if(c9[a]){let c=c9[a],l=!1;for(let u of c)t.configFiles.get(u)&&(l=!0,i+=20);l||(i-=20)}}r.recommendationScore=n+(i<0?-4:i)}}async function u9(t,e){return Kwe(t,e.rootFolderPath,zwe,Vwe)}async function Kwe(t,e,r,n){let i=new Map,o=new Map,s=500;function a(p,h,m,g){let v=[];(t.readDirWithTypes||t.readDir)(p).then(C=>{if(m.count>=s)return m.count+=C.length,m.maxReached=!0,g(v);let b=C.length;if(b===0)return g(v);let _=C;m.count+C.length>s&&(m.maxReached=!0,b=s-m.count,_=C.slice(0,b)),m.count+=C.length;for(let P of _){let S=Array.isArray(P)?P[0]:P;(Array.isArray(P)?Promise.resolve((P[1]&sd.File)!=0):t.isFile(t.path.join(p,S))).then(T=>{T?(v.push(S),--b==0&&g(v)):h.indexOf(S)===-1?a(t.path.join(p,S),h,m,A=>{if(v=v.concat(A),--b==0)return g(v)}):--b==0&&g(v)},()=>{if(--b==0)return g(v)})}},()=>g(v))}let c=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},l=p=>{for(let h of Gwe)h.pattern.test(p)&&(o.has(h.tag)?o.set(h.tag,o.get(h.tag)+1):o.set(h.tag,1))},u=p=>{if(p.lastIndexOf(".")>=0){let h=p.split(".").pop();h&&!n.includes(h)&&c(h.toLowerCase())}l(p)},f=p=>[...p.entries()].reduce((h,m)=>m[1]>h[1]?m:h,["",0])[0],d={count:0,maxReached:!1};return new Promise((p,h)=>{a(e,r,d,async m=>{m.forEach(u),p({configFiles:o,fileTypes:i,fileCount:d.count,mostPopularFileType:f(i)})})})}var _0=te(require("path"));var Da=te(require("vscode"));async function S0(){await Da.window.showInformationMessage("You need to first save your workspace in a folder containing all its workspace folders.",{modal:!0})}function Ra(t,e){let r=Da.workspace.fs;return{platform:t,path:t==="win32"?_0.win32:_0.posix,async isFile(n){try{return((await r.stat(_s(t,e,n))).type&Da.FileType.File)!=0}catch(i){if((i==null?void 0:i.code)==="FileNotFound")return!1;throw i}},async readFile(n){try{let i=await r.readFile(_s(t,e,n));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${n}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(n,i){try{let o=_s(t,e,n),s=_s(t,e,n);await r.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${n} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(n,i){await r.writeFile(_s(t,e,n),i)},async readDir(n){return(await r.readDirectory(_s(t,e,n))).map(o=>o[0])},async readDirWithTypes(n){return r.readDirectory(_s(t,e,n))},async mkdirp(n){await r.createDirectory(_s(t,e,n))},async toCommonURI(n){return _s(t,e,n)}}}function _s(t,e,r){let n=t==="win32"?"/"+r.replace(/\\/g,"/"):r;return e.with({path:n})}var x0=class{async readDocument(e){try{let r=await Da.workspace.fs.readFile(e);return Buffer.from(r).toString()}catch{return}}async applyEdits(e,r,n){let i=nr(n,r);await Da.workspace.fs.writeFile(e,Buffer.from(i))}};var Le=te(require("vscode"));var Jt=te(require("vscode")),P0=te(require("path"));async function PT(t,e){var i,o;let{fileHost:r}=t,n=await t.findDevContainerFiles();if(n.length){let s=n.length>1?(i=await Jt.window.showQuickPick(n.map(f=>({label:f.scheme==="file"?f.fsPath:f.toString(),uri:f})),{placeHolder:"Select a container configuration file"}))==null?void 0:i.uri:n[0];if(!s)return;let a=r.path.dirname(ze(s,r.platform)),c=r.path.basename(a)===".devcontainer"?r.path.dirname(a):a,l=dt(r.path,c),u=await _m(r,l);if(u){let f=ge(W({},u.object),{configFilePath:u.uri}),d=await Mo();if("image"in f)return{workspace:l,config:u,imageName:f.image,manifest:await Sm(f.image,d)};if(Gt(f)){let p=((o=f.build)==null?void 0:o.args)||{},h=Xr(r,f),m=await kT(r,h,p);if(m)return W({workspace:l,config:u},m)}if("dockerComposeFile"in f){let p=await br(r,f),h=await e.readDockerComposeConfig(p,void 0),m=await f9(r,p,c,u.uri,f,h);if(m)return W({workspace:l,config:u},m)}return{workspace:l,config:u}}}else{let s="Add Files...";await Jt.window.showInformationMessage("No container configuration file found.",{modal:!0},s)===s&&await Em(t)}}async function f9(t,e,r,n,i,o){var f;let s=((o==null?void 0:o.services)||{})[i.service]||{},a=k0(t,e,r,s),c=a?Zo(t,n,a):void 0,l=c&&await kT(t,c,((f=s.build)==null?void 0:f.args)||{}),u=await Mo();if(l)return l;if(typeof s.image=="string")return{imageName:s.image,manifest:await Sm(s.image,u)}}function k0(t,e,r,n){let i=e.length?t.path.dirname(e[0]):r,o=n.build;if(typeof o=="string")return t.path.resolve(i,o,"Dockerfile");if(o&&typeof o=="object"&&typeof o.context=="string"){let s=typeof o.dockerfile=="string"?o.dockerfile:"Dockerfile";return t.path.resolve(i,o.context,s)}}async function kT(t,e,r){let i=await Tr(t).readDocument(e);if(i){let o=(/^\s*FROM\s+(\S+)(\s|$)/m.exec(i)||[])[1]||void 0;if(o){let s=o.replace(/\$\{([^\}]+)\}/,(c,l)=>r[l]||c),a=await Mo();return{imageName:s,manifest:await Sm(s,a)}}}}async function d9(t){let e=await PT(t,{readDockerComposeConfig:async(r,n)=>{if(r[0])try{let i=await t.fileHost.readFile(r[0]);return pn(i.toString())}catch(i){t.output.write(it(String(i&&(i.stack||i.message)||i)))}return{}}});e&&await IT(t,e,{})}async function IT(t,e,r){var h;let{fileHost:n}=t,{workspace:i,config:o}=e,s=Jt.window.createQuickPick();s.ignoreFocusOut=!0;let a={fileHost:n,workspace:i,quickPick:s,telemetry:await t.telemetry,output:t.output},c={featureSets:[]},l=await T0(),u=Ic({distFolder:l}),f=await NS(u,a.output);if(!f)return;f=ge(W({},f),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(f),c=await FS(a,o.object,c,async()=>{var m,g;return W({"com.visualstudio.code.devcontainers.id":(m=e.manifest)==null?void 0:m.definitionName,version:(g=e.manifest)==null?void 0:g.definitionVersion},r)});let d=((h=c.featureSets.find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:h.features.filter(m=>m.included))||[];if(!d.length){await Jt.window.showInformationMessage("No container features available for the current base image.",{modal:!0});return}let p=await Cm(a,d,d.filter(m=>m.value!==!1));try{if(p){let m=o.text,g=o.text;for(let v of d){let y=p[v.id];if(y!==_p(v)){let C=["features",v.id];if(y!==!1&&typeof v.value=="object"){let _=ns(v);_&&C.push(_)}let b=Ft(g,C,y!==!1?y:void 0,{formattingOptions:{}});g=nr(g,b)}}m!==g&&await Tr(n).applyEdits(o.uri,[{content:g,offset:0,length:o.text.length}],o.text)}}finally{s.dispose()}}async function I0(t,e,r,n){var u,f;if(!bm())return e;let i=e.configText,o=(u=t.existingConfig)==null?void 0:u.object.features;if(!t.replaceExistingConfig&&o){r=ge(W({},r),{features:W(W({},r.features),o)});for(let d in o){let p=Ft(i,["features",d],o[d],{formattingOptions:{}});i=nr(i,p)}}let s=Ra(process.platform,Ve.file(e.configFilePath)),a=await TT(t,s,r,e.basePath,P0.basename(e.definitionFolder)),c=((f=((a==null?void 0:a.featureSets)||[]).find(d=>d.sourceInformation.type==="local-cache"))==null?void 0:f.features.filter(d=>d.included))||[],l=await Cm(t,c,c.filter(d=>d.value!==!1),!0);if(!!l){if(l==="back")return n();for(let d of c){let p=l[d.id];if(p!==_p(d)){let h=["features",d.id];if(p!==!1&&typeof d.value=="object"){let g=ns(d);g&&h.push(g)}let m=Ft(i,h,p!==!1?p:void 0,{formattingOptions:{}});i=nr(i,m)}}return ge(W({},e),{configText:i})}}async function TT(t,e,r,n,i){var u;let o;if("image"in r)o=await Sm(r.image,n);else if(Gt(r)){let f=((u=r.build)==null?void 0:u.args)||{},d=Xr(e,r),p=await kT(e,d,f);o=p==null?void 0:p.manifest}else if("dockerComposeFile"in r){let f=await br(e,r);if(f.length&&await e.isFile(f[0])){let d=await e.readFile(f[0]),p=pn(d.toString()),h=await f9(e,f,t.workspace.rootFolderPath,r.configFilePath,r,p);o=h==null?void 0:h.manifest}o=o||i&&await AT(i,P0.join(n,"manifests"))||void 0}let s=await T0(),a=Ic({distFolder:s}),c={featureSets:[]},l=await NS(a,t.output);if(!!l)return l=ge(W({},l),{sourceInformation:{type:"local-cache"}}),c.featureSets.push(l),c=await FS(t,r,c,async()=>({"com.visualstudio.code.devcontainers.id":o==null?void 0:o.definitionName,version:o==null?void 0:o.definitionVersion})),c}var wm={iconPath:new Jt.ThemeIcon("check-all"),tooltip:"Finish"};async function Cm(t,e,r,n=!1){if(!e.length)return{};let i={iconPath:new Jt.ThemeIcon("info"),tooltip:"Open Documentation"},o=t.quickPick.onDidTriggerItemButton(l=>{let u=l.item.feature.documentationURL;Jt.env.openExternal(Jt.Uri.parse(u))}),s=await Sn(t.quickPick,e.map(l=>({label:l.name,picked:r.indexOf(l)!==-1,buttons:l.documentationURL?[i]:void 0,feature:l})).sort((l,u)=>l.label.localeCompare(u.label)),"Select additional features to install",void 0,!0,n?[Jt.QuickInputButtons.Back,wm]:[wm]);if(o.dispose(),!s)return;if(s.button===Jt.QuickInputButtons.Back)return"back";let a=s.pick.map(l=>l.feature),c={};for(let l of e){let u=a.indexOf(l)!==-1;c[l.id]=u?_p(l)||z$(l):!1}return s.button===wm?c:Jwe(t,c,a,()=>Cm(t,e,a))}function Ywe(t){let e=ns(t),r=e&&t.options&&t.options[e];return!!r&&r.type==="string"&&("enum"in r||"proposals"in r)}async function Jwe(t,e,r,n){let i=r.filter(Ywe);return async function o(s,a,c){if(!a.length)return s;let l=a[0],u=l.options[ns(l)],f=("enum"in u&&u.enum||"proposals"in u&&u.proposals||[]).map(h=>({label:String(h),value:h,picked:_p(l)===h})),d=f.length===1?{pick:f[0],button:"ok"}:await Sn(t.quickPick,f,u.description||"Select a value",void 0,void 0,[Jt.QuickInputButtons.Back,wm],"proposals"in u);if(!d)return;if(d.button===Jt.QuickInputButtons.Back)return c();let p=ge(W({},s),{[l.id]:d.pick.value});return d.button===wm?s:o(p,a.slice(1),()=>o(s,a,c))}(e,i,n)}var p9="remote.containers.experimentalContainerFeatures";function h9(){return Jt.commands.executeCommand("setContext","experimentalContainerFeatures",bm()),Jt.workspace.onDidChangeConfiguration(t=>{t.affectsConfiguration(p9)&&Jt.commands.executeCommand("setContext","experimentalContainerFeatures",bm())})}function bm(){return Jt.workspace.getConfiguration().get(p9,!0)}var DT=te(require("path"));function m9(t){return{provideCompletionItems(e,r,n){let i=mN(e.getText(),e.offsetAt(r)),o=e.getWordRangeAtPosition(r)||new Le.Range(r,r);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=gt(e.getText());return s.configFilePath=e.uri,Qwe(s,o)}if(bm()&&i.path[0]==="features"){let s=gt(e.getText());s.configFilePath=e.uri;try{return Xwe(t,s,i,o)}catch(a){console.error(a)}}return[]}}}function Qwe(t,e){var n,i;let r=((t==null?void 0:t.extensions)||[]).concat(((i=(n=t==null?void 0:t.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(r)){let o=Le.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||r.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new Le.CompletionItem(s.id),c=`"${s.id}"`;return a.kind=Le.CompletionItemKind.Value,a.insertText=c,a.range=e,a.filterText=c,a})}}async function Xwe(t,e,r,n){var o,s;let i=e&&e.features||{};if(typeof i=="object"){if(e.configFilePath.scheme==="vscode-remote"&&t.fileHost.type==="local"){e=ge(W({},e),{configFilePath:e.configFilePath.with({scheme:Zt.scheme,authority:""})});let m=Le.env.remoteName&&Le.env.remoteName!=="test"?"linux":process.platform,g=((o=(Le.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||Ve.file(process.cwd());t=ge(W({},t),{fileHost:await Ra(m,g)})}let{path:a}=t.fileHost,c=ze(e.configFilePath,t.fileHost.platform),l=a.basename(c),u=a.dirname(c),f=dt(a,l===".devcontainer.json"?u:a.dirname(u)),d=await Mo(),p=await TT(ge(W({},t),{workspace:f}),t.fileHost,e,d),h=((s=((p==null?void 0:p.featureSets)||[]).find(m=>m.sourceInformation.type==="local-cache"))==null?void 0:s.features.filter(m=>m.included))||[];if(r.path.length===2)if(r.isAtPropertyKey){let m=h.filter(g=>!(g.id in i));if(m.length)return m.map(g=>{let v=new Le.CompletionItem(g.id),y=`"${g.id}": `;return v.kind=Le.CompletionItemKind.Property,v.insertText=y,v.range=n,v.filterText=y,v})}else{let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=ns(g),y=v&&(g.options||{})[v]||{type:"boolean",description:"Set to true to install."},C=(y.type==="string"?("enum"in y&&y.enum||"proposals"in y&&y.proposals||[""]).map(b=>`"${b}"`):["true","false"]).map(b=>({label:b,text:b}));return C.push({label:"{}",text:new Le.SnippetString(`{
	$1
}$0`)}),C.map(({label:b,text:_},P)=>{let S=new Le.CompletionItem(b);return S.kind=Le.CompletionItemKind.Value,S.insertText=_,S.range=n,S.sortText=`${P}_${b}`,S})}}else if(r.path.length===3){let m=r.path[1],g=h.find(v=>v.id===m);if(g){let v=g.options||{};if(r.isAtPropertyKey)return Object.keys(v).filter(y=>!(y in(i[m]||{}))).map(y=>{let C=new Le.CompletionItem(y),b=`"${y}": `;return C.kind=Le.CompletionItemKind.Property,C.insertText=b,C.range=n,C.filterText=b,C.detail=v[y].description,C});{let y=r.path[2],C=v[y];if(C)return(C.type==="string"?("enum"in C&&C.enum||"proposals"in C&&C.proposals||[""]).map(_=>`"${_}"`):["true","false"]).map((_,P)=>{let S=new Le.CompletionItem(_),x=_;return S.kind=Le.CompletionItemKind.Value,S.insertText=x,S.range=n,S.filterText=x,S.sortText=`${P}_${_}`,S})}}}}}async function g9(t){let e=await RT(t);if((e==null?void 0:e.scheme)===Zt.scheme){let r=ze(e,t.fileHost.platform);e=await t.fileHost.toCommonURI(r)}e&&await Le.window.showTextDocument(Le.Uri.parse(e.toString()))}async function RT(t){let e=await t.findDevContainerFiles();if(!e.length){let n="Add Files...";await Le.window.showInformationMessage("No container configuration file found.",{modal:!0},n)===n&&await Em(t)&&(e=await t.findDevContainerFiles())}if(!e.length)return;let r;return e.length===1?r={uri:e[0]}:r=await Le.window.showQuickPick(e.map(n=>({label:n.scheme==="file"?n.fsPath:n.toString(),uri:n})),{placeHolder:"Select a container configuration file"}),r==null?void 0:r.uri}async function v9(t,e){var n,i,o,s,a,c,l;let r=await RT(t);if(r){let u=Tr(t.fileHost);r.scheme==="file"&&!await zt(r.fsPath)?await li(Fi,r,[],Xo):r.scheme==="vscode-remote"&&(u=new x0);let f=await u.readDocument(r);if(f){let d=!/\.?devcontainer\.json/.test(DT.default.posix.basename(r.path)),p=gt(f),h=!d&&(((i=(n=p.customizations)==null?void 0:n.vscode)==null?void 0:i.extensions)||!p.extensions),m=(h?(s=(o=p.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:p.extensions)||[],g=t.openConfigurationCommandId?`[Dev Container configuration](command:${t.openConfigurationCommandId})`:"Dev Container configuration";if((p.extensions||[]).concat(((c=(a=p.customizations)==null?void 0:a.vscode)==null?void 0:c.extensions)||[]).indexOf(e)===-1){m.push(e);let v;h?((l=p.customizations)==null?void 0:l.vscode)?v=Ft(f,["customizations","vscode","extensions"],m,{formattingOptions:{}}):p.customizations?v=Ft(f,["customizations","vscode"],{extensions:m},{formattingOptions:{}}):v=Ft(f,["customizations"],{vscode:{extensions:m}},{formattingOptions:{}}):v=Ft(f,["extensions"],m,{formattingOptions:{}}),await u.applyEdits(r,v,f),await Le.window.showInformationMessage(`Extension has been added to the ${g}.`)}else await Le.window.showInformationMessage(`Extension is already included in the ${g}.`)}}}async function y9(t,e){var s,a;let r=await Le.commands.executeCommand("remote.tunnel.label",e);if(r===void 0)return;let n=r.label,i=r.port,o=await RT(t);if(o){let c=Tr(t.fileHost);o.scheme==="file"&&!await zt(o.fsPath)?await li(Fi,o,[],Xo):o.scheme==="vscode-remote"&&(c=new x0);let l=await c.readDocument(o);if(l){let f=(s=gt(l).portsAttributes)!=null?s:{},d=(a=f[`${i}`])!=null?a:{},p=t.openConfigurationCommandId?`[Dev Container configuration](command:${t.openConfigurationCommandId})`:"Dev Container configuration";if(f&&d&&d.label===n)await Le.window.showInformationMessage(`Port attributes are already included in the ${p}.`);else{d.label=n,f[`${i}`]=d;let h=Ft(l,["portsAttributes"],f,{formattingOptions:{}});await c.applyEdits(o,h,l),await Le.window.showInformationMessage(`Port attributes have been added to the ${p}.`)}}}}function w9(t,e){let r=Le.languages.createDiagnosticCollection("devcontainer");return Le.window.activeTextEditor&&OT(Le.window.activeTextEditor.document,r,e.output),t.subscriptions.push(Le.workspace.onDidChangeTextDocument(n=>{n&&OT(n.document,r,e.output)})),t.subscriptions.push(Le.workspace.onDidOpenTextDocument(n=>{n&&OT(n,r,e.output)})),r.dispose}function OT(t,e,r){let n=DT.default.basename(t.uri.fsPath);if(/\.?devcontainer\.json/.test(n)){let i=Xg(t.getText());if(!i)return;let o=Zg(i)||{},s=[...Zwe(t,o,r),...eCe(i,t)];e.set(t.uri,s)}}function Zwe(t,e,r){let n=e==null?void 0:e.features;if(!n)return[];let i=[];return Object.keys(n).forEach(o=>{let s=RS(o,r);if(!s||s.sourceInformation.type!=="local-cache")for(let a=0;a<t.lineCount;a++){let c=t.lineAt(a);if(c.text.includes(o)){let l=c.text.indexOf(o),u=l+o.length,f=s==null?void 0:s.sourceInformation,d="Expected feature identifier to contain only alphanumeric and/or the '-' characters.",p=Le.DiagnosticSeverity.Error;f&&(d=`WARNING: Provided feature syntax is currently experimental and is subject to change.
`,p=Le.DiagnosticSeverity.Warning);let h={message:d,severity:p,range:new Le.Range(new Le.Position(a,l),new Le.Position(a,u))};i.push(h);break}}if(s&&s.sourceInformation.type==="github-repo")for(let a=0;a<t.lineCount;a++){let c=t.lineAt(a),l=s.sourceInformation;if(c.text.includes(o)){let u=c.text.indexOf(o),f=u+o.length,d={message:"Feature-set source can be found on GitHub.",range:new Le.Range(new Le.Position(a,u),new Le.Position(a,f)),code:{target:Le.Uri.parse(`https://github.com/${l.owner}/${l.repo}`),value:"github-repo"},severity:Le.DiagnosticSeverity.Information};i.push(d);break}}}),i}function eCe(t,e){return["extensions","settings","devPort"].filter(r=>Bs(t,[r])&&Bs(t,["vscode",r])).map(r=>{var s,a;let n=(((a=(s=Bs(t,[r]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=e.positionAt(n.offset),o=e.positionAt(n.offset+n.length);return{message:`Legacy "${r}" property when "${r}" property under "vscode" is also present.`,range:new Le.Range(i,o),severity:Le.DiagnosticSeverity.Warning}})}var Mr=te(require("vscode")),C9=te(require("os")),yr=te(require("path"));var b9=te(Yl()),Kf=te(tT());var E9=te(require("fs")),NT={"user-agent":"devcontainer"};async function _9(t){let{fileHost:e,output:r}=t;r.write(" -- CREATEDEVCONTAINER v2");let n=await LT();if(n){let i=ze(n,e.platform),o=dt(e.path,i),s=await tu(e,o);if(s){let c="Continue";if(await Mr.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await tCe(t,o);if(a){let c=await e.toCommonURI(a);return c&&Mr.window.showTextDocument(Mr.Uri.parse(c.toString())),!0}}return!1}async function tCe(t,e){let{fileHost:r,telemetry:n,output:i}=t,o=await n,s=await _m(r,e),c=!!Zs(s==null?void 0:s.object)&&!!s;if(c){on(o,"exists");let _=ze(s.uri,r.platform);if(!await Mr.window.showWarningMessage(`Dev Container configuration '${r.path.relative(e.configFolderPath,_)}' file already exists.`,{modal:!0},"Continue")){let S=await r.toCommonURI(_);S&&Mr.window.showTextDocument(Mr.Uri.parse(S.toString()));return}}let l=Mr.window.createQuickPick();l.ignoreFocusOut=!0;let u=new Set,f="remote.containers.additionalDefinitionIndexes",d=Mr.workspace.getConfiguration().get(f)||[];d.length===0?i.write("No additional indexes provided via setting"):(i.write(`${d.length} additional indexes provided via setting.`),d.forEach(_=>u.add(_)));let p=Mr.workspace.getConfiguration().get("remote.containers.useEmbeddedV1PackagedCache")||!1,h=C9.tmpdir(),m=yr.join(h,"collectionsMetadataCache.json"),g=ge(W({},t),{quickPick:l,replaceExistingConfig:c,existingConfig:s,telemetry:o,workspace:e,codespaces:!!t.codespaces,indexes:u,tmpDir:h,collectionsMetadataCache:m,useEmbeddedV1PackagedCache:p}),v=await S9(g,{});if(!v){i.write("Failed to get definitions",he.Error);return}let{mergedDefinitions:y,cachedAt:C,collectionsContainer:b}=v;return y.sort((_,P)=>{let S=_==null?void 0:_.categories.some(T=>T==="Core"),x=P==null?void 0:P.categories.some(T=>T==="Core");return S&&x?0:S?-1:1}),A0(g,y,C,b)}async function A0(t,e,r,n){var p;let{output:i,quickPick:o,fileHost:s,useEmbeddedV1PackagedCache:a}=t,c=[{iconPath:new Mr.ThemeIcon("cloud-download"),tooltip:"Clear definitions cache and refetch.",action:"clear-cache"}],l=await Sn(o,e,`Select a container configuration definition (last cached ${r})`,void 0,void 0,c);if(!l)return;let u=l==null?void 0:l.pick,f=u==null?void 0:u.type,d=l==null?void 0:l.button;if(d!=="ok"&&d.action==="clear-cache"){i.write("Refresh Cache!");let h=await S9(t,{clearCache:!0});if(!h){o.dispose();return}return A0(t,h.mergedDefinitions,h.cachedAt,h.collectionsContainer)}if(f==="singleContainer"||f==="dockerCompose"){let h=await oCe(t,{},u);if(h==="back")return A0(t,e,r,n);(!h||Object.keys(h).length===0)&&i.write("No options returned",he.Trace);let m,g=u.srcInfo;if(g){let v=(p=n.collections.find(y=>Ey(y.sourceInformation)===Ey(g)&&y.features))==null?void 0:p.features;if(v){let y=v.map(C=>ge(W({},C),{value:!1}));m=await Cm(t,v,y,!0)}}else i.write("No srcInfo for selected definition.  Not offering features.",he.Warning);if(m==="back")return A0(t,e,r,n);o.busy=!0,o.enabled=!1;try{let v;if(i.write(`useEmbeddedV1PackagedCache is ${a}`),a)v=await nCe(t,u);else{let S=await fCe(t,u);if(!S){i.write("Failed to fetch definition",he.Error),o.dispose();return}v=await rCe(t,S)}if(!v){i.write("Failed during configuration copy",he.Error),o.dispose();return}let{devcontainerjsonPath:y,config:C,configText:b}=v,_=await iCe(t,h,C,b);if(!_){i.write("Failed during application of options",he.Error),o.dispose();return}b=_.configText;let P=await sCe(t,m,b);if(!P){i.write("Failed during application of features",he.Error),o.dispose();return}return b=P.configText,await s.writeFile(y,Buffer.from(b)),y}finally{o&&o.dispose()}}i.write("Undefined behavior in definition selection UX",he.Error),o.dispose()}async function rCe(t,e){let{workspace:r,fileHost:n,output:i}=t,{rootFolderPath:o}=r;await Ps(o,{recursive:!0,force:!0}),await n.mkdirp(o),await b9.x({file:e,cwd:o});let s=yr.join(o,".devcontainer","devcontainer.json");if(!await n.isFile(s)){i.write(`No devcontainer.json found at expected path:  ${s}`),t.quickPick.dispose();return}let a=(await n.readFile(s)).toString(),c=gt(a),l=JSON.stringify(c,void 0,4);if(c.configFilePath=Ve.parse(s),!a||a===""||!c){i.write("devcontainer.json has no contents or could not be parsed.",he.Error),t.quickPick.dispose();return}return{rootFolderPath:o,devcontainerjsonPath:s,config:c,configText:l}}async function nCe(t,e){let{workspace:r,fileHost:n,output:i}=t,{rootFolderPath:o}=r;await Ps(o,{recursive:!0,force:!0}),await n.mkdirp(yr.join(o,".devcontainer"));let s=yr.join(await Mo(),"containers",e.id),a=(await D0(s)).map(d=>yr.relative(s,d));for(let d of a){let p=yr.join(s,d),h=n.path.sep!==yr.sep?d.replace(yr.sep===yr.win32.sep?/\\/g:/\//g,n.path.sep):d,m=n.path.join(o,h);await n.mkdirp(yr.dirname(m)),(0,E9.copyFileSync)(p,m)}let c=yr.join(o,".devcontainer","devcontainer.json"),l=(await n.readFile(c)).toString(),u=gt(l),f=JSON.stringify(u,void 0,4);if(u.configFilePath=Ve.parse(c),!l||l===""||!u){i.write("devcontainer.json has no contents or could not be parsed.",he.Error),t.quickPick.dispose();return}return{rootFolderPath:o,devcontainerjsonPath:c,config:u,configText:f}}async function iCe(t,e,r,n){var a;let{output:i,fileHost:o}=t;if(!e||Object.keys(e).length===0)return{configText:n};if(!r)return;i.write("Applying selected options to devcontainer.json");let s=Object.keys(e);if(Gt(r)){let c=((a=r.build)==null?void 0:a.args)||{};s.forEach(l=>{let u=e[l];if(!u)return;let f=c[l];if(u!==f){let d=Ft(n,["build","args",l],u,{formattingOptions:{}});n=nr(n,d)}})}else if("dockerComposeFile"in r){let c=await br(o,r);if(c.length&&await o.isFile(c[0])){let l=(await o.readFile(c[0])).toString(),u;s.forEach(f=>{let d=e[f];if(!d)return;u||(u=Kf.parseDocument(l,{lineCounter:new Kf.LineCounter}));let p=u.getIn(["services","app","build"]);p.has("args")||p.set("args",new Kf.YAMLMap),p.get("args").set(f,String(d))}),u&&await o.writeFile(c[0],Buffer.from(u.toString()))}}return{configText:n}}async function oCe(t,e,r){if(!r.options)return;let n=r.options,i=Object.keys(n),o=i.length;if(!!i.length)return async function s(a,c,l){if(!c.length)return a;let u=c[0],f=n[u],d=("enum"in f&&f.enum||"proposals"in f&&f.proposals||[]).map(m=>({label:String(m),value:m})),p=d.length===1?{pick:d[0],button:"ok",picked:void 0}:await Sn(t.quickPick,d,(f==null?void 0:f.description)||"Select a value",void 0,void 0,[Mr.QuickInputButtons.Back]);if(!p)return;if(p.button===Mr.QuickInputButtons.Back)return c.length===o?"back":l();let h=ge(W({},a),{[u]:p.pick.value});return s(h,c.slice(1),()=>s(a,c,l))}(e,i,async()=>{})}async function sCe(t,e,r){let{output:n}=t;if(!e||!r){n.write("No features selected or no devcontainer.json to apply features to.",he.Warning);return}let i=r,o=Object.keys(e);for(let s of o){let a=e[s],c=["features",s];if(a!==!1){let l=Ft(i,c,a,{formattingOptions:{}});i=nr(i,l)}}return{configText:i}}async function S9(t,{clearCache:e=!1}){let{output:r,collectionsMetadataCache:n,fileHost:i,useEmbeddedV1PackagedCache:o}=t;r.write("--- In getDefinitions_v2");let s;!e&&n&&await i.isFile(n)?s=gt((await i.readFile(n)).toString()):o?s=await cCe(t):s=await aCe(t);let a=s==null?void 0:s.collections,c=s==null?void 0:s.cachedAt;if(!s||!a||!c||a.length===0){r.write("Failed to gather definition collections metadata",he.Error);return}let l=[];for(let u of a){let f=u.sourceInformation,d=f?DS(f)+"/":"";for(let p of u.definitions)l.push(ge(W({},p),{srcInfo:f,label:(p==null?void 0:p.displayName)||p.id||"ERR: No id",description:`${d}${p.id}`,detail:(p==null?void 0:p.description)||"No Description"}))}return{mergedDefinitions:l,cachedAt:c,collectionsContainer:s}}async function aCe(t){let{output:e}=t;e.write("Populating collection(s) cache from internet...");let r=await lCe(t);if(!r){e.write("Failed to fetch collection names from indexes",he.Error);return}return await uCe(t,r)}async function cCe(t){let{output:e,fileHost:r}=t;e.write("Populating collection(s) cache from from embedded package...");let n=[],i=yr.join(await Mo(),"devcontainer-collection.json");if(!await r.isFile(i)){e.write("Embedded package does not contain devcontainer-collection.json",he.Error);return}let o=gt((await r.readFile(i)).toString()),s={type:"local-cache"};return o.sourceInformation=s,n.push(o),await x9(t,n)}async function x9(t,e){let{output:r,tmpDir:n,collectionsMetadataCache:i,fileHost:o}=t,s={collections:e,cachedAt:"never"};if(s.cachedAt=new Date().toISOString(),r.write(`Fetched ${e.length} collections.`),r.write(`Cached at: ${s.cachedAt}`),i&&n){r.write(`Caching collection metadata to ${t.collectionsMetadataCache}`);let a=yr.join(n,`metadata-tmp-${new Date().getMilliseconds()}`);await o.writeFile(a,Buffer.from(JSON.stringify(s))),await o.rename(a,i)}else r.write("Did not write collection to cache. Needs cache directory and path to cache to.",he.Warning);return s}async function lCe(t){let{indexes:e,output:r}=t;if(!e)return;let n=new Set;for await(let i of e){let o={type:"GET",url:i,headers:NT},s;try{s=await Ep(o,r)}catch(c){r.write(`Failed to fetch index ${i} - ${c==null?void 0:c.message}`,he.Error);continue}if(!s||s.length===0){r.write(`Did not receive a valid response from index defined at: ${i}`,he.Error);continue}s.toString().split(`
`).filter(c=>c&&c.trim()!=="").forEach(c=>{n.add(c)})}if(n.add("https://github.com/microsoft/vscode-dev-containers/releases/latest/download/devcontainer-collection.json"),n.size===0){r.write("No collections set. Exiting.",he.Warning);return}return n}async function uCe(t,e){let{output:r,tmpDir:n,collectionsMetadataCache:i}=t;if(!n||!i){r.write("Missing required metadata",he.Error);return}let o=[];for await(let s of e){let a={type:"GET",url:s,headers:NT},c;try{c=await Ep(a,r)}catch(f){r.write(`Failed to fetch collection ${s} - ${f==null?void 0:f.message}`,he.Error);continue}if(!c||c.length===0){r.write(`Did not receive a valid response from collection defined at: ${s}`,he.Error);continue}let l=gt(c.toString()),u=OS(l.sourceInformation);l.sourceInformation=u,o.push(l)}if(o.length===0){r.write("No collections set. Exiting.",he.Warning);return}return await x9(t,o)}async function fCe(t,e){let{output:r,tmpDir:n,fileHost:i}=t;if(!n||n===""){r.write("ERR: No tmpDir defined.",he.Error);return}let o=`devcontainer-definition-${e.id}`;if(!e.srcInfo){r.write(`ERR: No srcInfo defined for definition ${e.id}`,he.Error);return}let s=`https://github.com/${DS(e.srcInfo)}/releases/latest/download/${o}.tgz`,a={type:"GET",url:s,headers:NT},c;try{c=await Ep(a,r)}catch(u){r.write(`Failed to fetch definition ${s} - ${u==null?void 0:u.message}`,he.Error);return}if(!c||c.length===0){r.write(`Did not receive a valid response from definition defined at: ${s}`,he.Error);return}let l=yr.join(n,`${o}-${new Date().getMilliseconds()}.tgz`);return await i.writeFile(l,c),l}async function T9(t,e){return w9(t,e),{async openConfiguration(){return g9(e)},async createConfiguration(){return St.workspace.getConfiguration().get("remote.containers.experimentalAddDefinitionUX")||!1?_9(e):Em(e)},async addExtensionToConfiguration(r){return v9(e,r)},async addPortLabelToConfiguration(r){return y9(e,r)},async configureContainerFeatures(){return d9(e)},createCompletionItemProvider(){return m9(e)}}}async function Em(t){let{fileHost:e,output:r}=t;r.write(" -- CREATEDEVCONTAINER v1");let n=await LT();if(n){let i=ze(n,e.platform),o=dt(e.path,i),s=await tu(e,o);if(s){let c="Continue";if(await St.window.showInformationMessage(`The workspace could fail to open in a container: ${s}`,{modal:!0},c)!==c)return!1}let a=await xm(t,o);if(a){let c=await e.toCommonURI(a);return c&&St.window.showTextDocument(St.Uri.parse(c.toString())),!0}}return!1}async function LT(){let t=St.workspace.workspaceFile,e=St.workspace.workspaceFolders,r;if(t){if(t.scheme==="untitled"){await S0();return}r=t}else if(e&&e.length)if(e.length>1){let n=await St.window.showWorkspaceFolderPick({placeHolder:"Select a folder to create a container configuration for"});n&&(r=n.uri)}else r=e[0].uri;return r}function Sn(t,e,r,n,i,o,s){if(t.value="",t.title=n||"Add Development Container Configuration Files",t.placeholder=r,t.canSelectMany=!!i,Array.isArray(e))if(t.items=e,i)t.selectedItems=e.filter(l=>l.picked);else{let l=e.find(u=>u.picked);l&&(t.activeItems=[l])}t.buttons=o?Array.isArray(o)?o:[St.QuickInputButtons.Back]:[];let a=[],c=new Promise((l,u)=>{if(Array.isArray(e)||(t.busy=!0,e.then(f=>{if(t.busy=!1,t.items=f,i)t.selectedItems=f.filter(d=>d.picked);else{let d=f.find(p=>p.picked);d&&(t.activeItems=[d])}},f=>{t.busy=!1,u(f)})),a.push(t.onDidAccept(()=>{let f=i?t.selectedItems.slice():t.selectedItems[0];l(Array.isArray(o)?{pick:f,button:"ok"}:f),a.forEach(d=>d.dispose())})),t.buttons.length&&a.push(t.onDidTriggerButton(f=>{let d=i?t.selectedItems.slice():t.activeItems[0];l(o===!0?"back":{pick:d,button:f}),a.forEach(p=>p.dispose())})),a.push(t.onDidHide(()=>{a.forEach(f=>f.dispose()),t.dispose(),l(void 0)})),s){let f;a.push(t.onDidChangeValue(d=>{let p=d.trim().toLowerCase(),h=!p||t.items.find(m=>m.label.toLowerCase()===p);if(h&&f)t.items=t.items.filter(m=>m!==f),f=void 0;else if(!h){let m=t.items.filter(g=>g!==f);m.push(f={label:`Other: ${d}`,value:d}),t.items=m}}))}});return t.show(),c}var FT={label:"Learn More",description:"Documentation on predefined container definitions",alwaysShow:!0,type:"help"};async function xm(t,e){let{fileHost:r,telemetry:n}=t,i=await n,o=await _m(r,e),a=!!Zs(o==null?void 0:o.object)&&!!o;if(a){on(i,"exists");let l=ze(o.uri,r.platform);if(!await St.window.showWarningMessage(`Dev Container configuration '${r.path.relative(e.configFolderPath,l)}' file already exists.`,{modal:!0},"Continue")){let f=await r.toCommonURI(l);f&&St.window.showTextDocument(St.Uri.parse(f.toString()));return}}let c=St.window.createQuickPick();return c.ignoreFocusOut=!0,MT(ge(W({},t),{quickPick:c,replaceExistingConfig:a,existingConfig:o,telemetry:i,workspace:e,codespaces:!!t.codespaces,tmpDir:void 0,indexes:void 0,collectionsMetadataCache:void 0,useEmbeddedV1PackagedCache:void 0}))}async function R0(){return await CCe(void 0)}async function MT(t){let{fileHost:e,workspace:r,telemetry:n,existingFilesLearnMoreLink:i}=t,o=await e.readDir(r.rootFolderPath),s=o.filter(p=>/docker.*compose/i.test(p)).map(p=>e.path.join(r.rootFolderPath,p)),a=o.filter(p=>/dockerfile/i.test(p)).map(p=>e.path.join(r.rootFolderPath,p)),c=a.map(p=>{let h=e.path.basename(p);return{label:`From '${h}'`,description:q9(e,p),dockerfile:h,dockerfilePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerfile"}}),l=s.map(p=>{let h=e.path.basename(p);return{label:`From '${h}'`,description:q9(e,p),dockerComposeFile:h,dockerComposePath:p,detail:`Refer to the existing '${h}' in the container configuration`,type:"dockerComposeFile"}});if(!(a.length>0||s.length>0))return O0(t,void 0);let f={label:"From a predefined container configuration definition...",detail:"Use a base configuration from the container definition registry",alwaysShow:!0,type:"predefined"},d=await Sn(t.quickPick,[f,...c,...l,...i?[FT]:[]],"How would you like to create your container configuration?");if(!d){on(n,"canceled");return}if(d.type==="help"){on(n,"help"),St.env.openExternal(i);return}if(d.type==="predefined")return O0(t,()=>MT(t));if(d.type==="dockerComposeFile")return vCe(t,d.dockerComposePath,()=>MT(t));if(d.type==="dockerfile")return gCe(t,d.dockerfilePath)}function A9(t){let e=t.metaData.get("categories");return e?e.trim().split(", ").indexOf("Core")>-1:!1}async function dCe(t){let{fileHost:e,workspace:r,predefinedDefinitionsLearnMoreLink:n}=t,i=t.stats||(t.stats=await u9(e,r)),o=await $9(t,xT.bind(null,i)),s=[];i.mostPopularFileType.length===0?s=await wCe(t):s=o.filter(c=>c.recommendationScore&&c.recommendationScore>0&&A9(c));let a;return s.length>0?a=[{label:"Show All Definitions...",detail:"Show all available predefined container definitions.",alwaysShow:!0,type:"showAll"},...n?[FT]:[],...s]:a=[...n?[FT]:[],...o],{items:a,stats:i}}async function O0(t,e){let{telemetry:r,predefinedDefinitionsLearnMoreLink:n}=t,i=dCe(t),{infoButton:o,sub:s}=R9(t),a=i.then(l=>l.items.map(u=>u.type==="baseConfiguration"?ge(W({},u),{buttons:[o]}):u)),c=await Sn(t.quickPick,a,"Select a container configuration definition",void 0,void 0,!!e);if(s.dispose(),c==="back")return e();if(!c){on(r,"canceled");return}if(c.type==="help"){on(r,"help"),St.env.openExternal(n);return}if(c.type==="showAll")return D9(t,(await i).stats,()=>O0(t,e));if(c.type==="baseConfiguration")return O9(t,c,()=>O0(t,e))}async function D9(t,e,r){let{telemetry:n}=t,i=await $9(t,xT.bind(null,e)),{infoButton:o,sub:s}=R9(t),a=i.map(l=>l.type==="baseConfiguration"?ge(W({},l),{buttons:[o]}):l),c=await Sn(t.quickPick,a,"Select a container configuration definition",void 0,void 0,!0);if(s.dispose(),c==="back")return r();if(c&&c.type==="baseConfiguration")return O9(t,c,()=>D9(t,e,r));on(n,"canceled")}function R9(t){let e={iconPath:new St.ThemeIcon("info"),tooltip:"Open Documentation"},r=t.quickPick.onDidTriggerItemButton(n=>{let i=`https://github.com/microsoft/vscode-dev-containers/blob/main/containers/${st.basename(n.item.definitionFolder)}/README.md`;St.env.openExternal(St.Uri.parse(i))});return{infoButton:e,sub:r}}async function O9(t,e,r){let{telemetry:n}=t,i=await pCe(t,e);if(!i){on(n,"canceled");return}return i==="back"?r():(on(n,"definition",st.basename(i.definitionFolder)),qT(t,i))}async function qT(t,e){let{quickPick:r}=t;r.busy=!0,r.enabled=!1;try{return await SCe(t,e)}finally{r.hide()}}async function pCe(t,e){let r=gt(e.configText);if(r.configFilePath=Ve.file(e.configFilePath),Gt(r))return hCe(t,e,r,async()=>"back",(n,i)=>N9(t,n,r,i));if("dockerComposeFile"in r){let n=Ra(process.platform,Ve.file(e.configFilePath));return mCe(t,e,n,r,async()=>"back",(i,o)=>L9(t,i,n,r,o))}return I0(t,e,r,async()=>"back")}async function hCe(t,e,r,n,i){var c;let o=Xr({platform:process.platform},r),s=((c=r.build)==null?void 0:c.args)||{},a=await F9(o,s);return async function l(u,f,d){if(!f.length)return i(ge(W({},e),{configText:u}),d);let p=f[0],h=await Sn(t.quickPick,p.items,p.placeholder,void 0,void 0,!0);if(!h)return;if(h==="back")return d();let m=u;if(h.value!==p.default){let g=Ft(m,["build","args",p.name],h.value,{formattingOptions:{}});m=nr(m,g)}return l(m,f.slice(1),()=>l(u,f,d))}(e.configText,a,n)}async function N9(t,e,r,n){var u;let i=Xr({platform:process.platform},r),o=((u=r.build)==null?void 0:u.args)||{},{options:s,hasOptions:a}=await M9(i,o),c=s.length?await Sn(t.quickPick,s,a?`Select the options for the '${e.label}' dev container`:`Select the install options for the '${e.label}' dev container`,void 0,!0,!0):[];if(!c)return;if(c==="back")return n();let l=e.configText;for(let f of s){let d=c.indexOf(f)!==-1;if(d!==f.default){let p=Ft(l,["build","args",f.name],String(d),{formattingOptions:{}});l=nr(l,p)}}return I0(t,ge(W({},e),{configText:l}),r,s.length?()=>N9(t,e,r,n):n)}async function mCe(t,e,r,n,i,o){var a;let s=await br(r,n);if(s.length&&await r.isFile(s[0])){let c=e.files||{},l=c[s[0]]||(await r.readFile(s[0])).toString(),u=pn(l),f=((u==null?void 0:u.services)||{})[n.service]||{},d=t.workspace.rootFolderPath,p=k0(r,s,d,f);if(p){let h=n.configFilePath,m=Zo(r,h,p),g=((a=f.build)==null?void 0:a.args)||{},v=await F9(m,g),y;return async function C(b,_){if(!b.length)return y&&(c[s[0]]=y.toString()),o(ge(W({},e),{files:c}),_);let P=b[0],S=await Sn(t.quickPick,P.items,P.placeholder,void 0,void 0,!0);if(!!S){if(S==="back")return _();if(S.value!==P.default){y||(y=Ss.parseDocument(l,{lineCounter:new Ss.LineCounter}));let x=y.getIn(["services","app","build"]);x.has("args")||x.set("args",new Ss.YAMLMap),x.get("args").set(P.name,S.value)}return C(b.slice(1),()=>C(b,_))}}(v,i)}}return o(e,i)}async function L9(t,e,r,n,i){var c;let o=!1,s=e.files||{},a=await br(r,n);if(a.length&&await r.isFile(a[0])){let l=s[a[0]]||(await r.readFile(a[0])).toString(),u=pn(l),f=((u==null?void 0:u.services)||{})[n.service]||{},d=t.workspace.rootFolderPath,p=k0(r,a,d,f);if(p){let h=n.configFilePath,m=Zo(r,h,p),g=((c=f.build)==null?void 0:c.args)||{},{options:v,hasOptions:y}=await M9(m,g);o=!!v.length;let C=v.length?await Sn(t.quickPick,v,y?`Select the options for the '${e.label}' dev container`:`Select the install options for the '${e.label}' dev container`,void 0,!0,!0):[];if(!C)return;if(C==="back")return i();let b;for(let _ of v){let P=C.indexOf(_)!==-1;if(P!==_.default){b||(b=Ss.parseDocument(l,{lineCounter:new Ss.LineCounter}));let S=b.getIn(["services","app","build"]);S.has("args")||S.set("args",new Ss.YAMLMap),S.get("args").set(_.name,String(P))}}b&&(s[a[0]]=b.toString())}}return I0(t,ge(W({},e),{files:s}),n,o?()=>L9(t,e,r,n,i):i)}async function F9(t,e){let r=(await tt(t.fsPath)).toString(),n=/^#\s*\[Choice\]\s*([^:\r\n]+):(.*)\r?\nARG\s+([^=\s]+)="?([^"\r\n]*)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);return o.map(([,s,a,c,l])=>{let u=e[c]||l,f=a.trim().split(",").map(p=>p.trim()).map(p=>({label:p,description:p===u?"(default)":void 0,value:p})),d=f.findIndex(p=>p.value===u);return d!==-1&&f.unshift(...f.splice(d,1)),{placeholder:s||c,name:c,default:u,items:f}})}async function M9(t,e){let r=(await tt(t.fsPath)).toString(),n=/^#\s*\[(Option|Install)\]\s*(.+)\r?\nARG\s+([^=\s]+)="?(true|false)"?\s*$/gm,i,o=[];for(;i=n.exec(r);)o.push(i);let s=o.map(([,c,l,u,f])=>{let p=(e[u]||f)==="true";return{type:c.toLowerCase(),label:l||u,picked:p,name:u,default:p}}),a=s.some(c=>c.type==="option");return a&&s.filter(c=>c.type==="install").forEach(c=>c.label=`Install ${c.label}`),{options:s,hasOptions:a}}function q9(t,e){let r=St.workspace.workspaceFolders||[];if(r.length<2)return;let n=r.find(i=>t.platform==="win32"?e.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):e.startsWith(i.uri.fsPath));return n&&n.name}async function gCe(t,e){let{fileHost:r,workspace:n,telemetry:i}=t,s=(await R0()).find(a=>st.basename(a.definitionFolder)==="docker-existing-dockerfile");if(s){let a=st.relative(s.definitionFolder,s.configFilePath),c=r.path.sep!==st.sep?a.replace(st.sep===st.win32.sep?/\\/g:/\//g,r.path.sep):a,l=r.path.resolve(n.configFolderPath,c),u=r.path.relative(r.path.dirname(l),e),f=r.platform==="win32"?u.replace(/\\/g,"/"):u,d="dockerFile"in gt(s.configText)?["dockerFile"]:["build","dockerfile"],p=Ft(s.configText,d,f,{formattingOptions:{}}),h=nr(s.configText,p);return on(i,"dockerFile"),qT(t,ge(W({},s),{configText:h}))}else{on(i,"existingDockerfileDefinitionNotFound");return}}async function vCe(t,e,r){let{fileHost:n,workspace:i,telemetry:o}=t,s=(await n.readFile(e)).toString(),a=pn(s);if(!a){await St.window.showErrorMessage(`Invalid docker-compose file "${e}"`,{modal:!0});return}let c=a.version,l=Object.keys(a&&a.services||{}),u=l.length<2?l[0]||"":await Sn(t.quickPick,l.map(h=>({label:h,type:"service"})),"Select a service",void 0,void 0,!0);if(u==="back")return r();if(u===void 0){on(o,"canceled");return}let f=typeof u=="string"?u:u.label,p=(await R0()).find(h=>st.basename(h.definitionFolder)==="docker-existing-docker-compose");if(p){let h=st.relative(p.definitionFolder,p.configFilePath),m=n.path.sep!==st.sep?h.replace(st.sep===st.win32.sep?/\\/g:/\//g,n.path.sep):h,g=n.path.resolve(i.configFolderPath,m),v=n.path.relative(n.path.dirname(g),e),y=n.platform==="win32"?v.replace(/\\/g,"/"):v,C=gt(p.configText).dockerComposeFile,b=Array.isArray(C)?C.slice(1):[],_=[y,...b],P=Ft(p.configText,["dockerComposeFile"],_,{formattingOptions:{}}),S=nr(p.configText,P),x=Ft(S,["service"],f,{formattingOptions:{}}),T=nr(S,x),A=b.reduce((q,J)=>(q[Ec({platform:process.platform},{configFilePath:Ve.file(p.configFilePath)},J).fsPath]=!0,q),{}),N=ge(W({},p),{configText:T,async copyFile(q,J){if(A[q]){let Y=this.files&&this.files[q]||(await tt(q)).toString(),ee=pn(Y);ee.version&&c&&ee.version!==c&&(Y=Y.replace(new RegExp(`^(version:.*)(${ee.version.replace(/\./g,"\\.")})`,"m"),`$1${c}`));let re=Object.keys(ee&&ee.services||{});re.length&&(Y=Y.replace(new RegExp(`\\b${re[0]}\\b`),f)),await n.writeFile(J,Buffer.from(Y))}else{let Y=this.files&&this.files[q]?Buffer.from(this.files[q]):await tt(q);await n.writeFile(J,Y)}}});return on(o,"dockerComposeFile"),qT(t,N)}else{on(o,"existingDockerComposeDefinitionNotFound");return}}function on(t,e,r){let n={outcome:e};r&&(n.definitionName=r),t.sendTelemetryEvent("createConfiguration",n)}function yCe(t,e){let r=e.recommendationScore===void 0?0:e.recommendationScore,n=t.recommendationScore===void 0?0:t.recommendationScore;return r-n}var j9=["docker-existing-docker-compose","docker-existing-dockerfile"];async function $9(t,e){let{codespaces:r}=t,n=(await R0()).filter(i=>j9.indexOf(st.basename(i.definitionFolder))===-1);return r&&(n=n.filter(i=>!/^\s*no\b/i.test(i.metaData.get("codespaces")||"yes"))),e?(await e(n),n.sort(yCe)):n.sort((i,o)=>i.label.localeCompare(o.label))}async function wCe(t){let{codespaces:e}=t,r=(await R0()).filter(n=>j9.indexOf(st.basename(n.definitionFolder))===-1);return r=r.filter(n=>A9(n)),e&&(r=r.filter(n=>!/^\s*no\b/i.test(n.metaData.get("codespaces")||"yes"))),r.sort((n,i)=>n.label.localeCompare(i.label))}async function CCe(t){let e=!t;t=t!=null?t:await Mo();let r=new k9.default,n=st.join(t,"containers"),i=st.join(t,"containers-readmes"),o=await Qn(n);return(await Promise.all(o.map(async a=>{var C;let c=st.join(n,a),l=await Xv(c),u=l&&await _Ce(l);if(!u)return;let f=gt(u);f.configFilePath=Ve.file(l);let[,d,p]=((C=f.name)==null?void 0:C.match(/^(.*)(\([^)]*\))$/))||[],h=(d==null?void 0:d.trim())||f.name||a,m=p,g,v=st.join(i,a,"README.md"),y=new Map;if(await zt(v))try{let b=await tt(v,{encoding:"utf8"}),_=/\#\s*summary.*\n*(.*)/i.exec(b);if(_){let P=r.render(_[1]);g=bCe(P);let S=g.indexOf(". ");S!==-1&&(g=g.substr(0,S+1))}y=ECe(b)}catch(b){console.error(b)}return{label:h,description:m,type:"baseConfiguration",detail:g,definitionFolder:c,configText:u,configFilePath:l,metaData:y,isV2:!e,basePath:t}}))).filter(a=>!!a)}function bCe(t){return t.replace(/<[^>]*>/g,"").trim().replace(/&#([0-9]+);/g,function(e,r){return String.fromCodePoint(parseInt(r,10))}).replace(/&#x([0-9a-f]+);/g,function(e,r){return String.fromCodePoint(parseInt(r,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return e})}function ECe(t){let e=new Map,r=!1,n=/^\s*\|\s*Metadata\s*\|\s*Value\s*\|/i,i=/^\s*\|/gi,o={categories:/^\s*\|\s*\*Categories\*\s*\|\s*(.*)\s*\|/i,contributors:/^\s*\|\s*\*Contributors\*\s*\|\s*(.*)\s*\|/i,definitionType:/^\s*\|\s*\*Definition type\*\s*\|\s*(.*)\s*\|/i,codespaces:/^\s*\|\s*\*Works in Codespaces\*\s*\|\s*(.*)\s*\|/i,languagesPlatforms:/^\s*\|\s*\*Languages, platforms\*\s*\|\s*(.*)\s*\|/i},s=t.toString().split(`
`);for(let a of s)if(!r)a.match(n)&&(r=!0);else{if(!a.match(i))break;for(let c in o){let l=a.match(o[c]);l&&l[1]&&e.set(c,l[1])}}return e}async function _Ce(t){return await zt(t)?(await tt(t)).toString():void 0}async function SCe(t,e){let{fileHost:r,workspace:n,replaceExistingConfig:i,existingConfig:o,output:s}=t,a=n.configFolderPath,c="Skip",l=(await D0(e.definitionFolder)).map(d=>st.relative(e.definitionFolder,d)),u,f;for(let d of l){let p=st.join(e.definitionFolder,d),h=p===e.configFilePath,m=r.path.sep!==st.sep?d.replace(st.sep===st.win32.sep?/\\/g:/\//g,r.path.sep):d,g=r.path.join(a,m);if(h&&!i&&o){let v=gt(e.configText);try{f=xCe(r,v,g,o)}catch(y){await kCe(y,r,g,m,s);return}g=ze(o.uri,r.platform)}else if(await r.isFile(g)){let v=await St.window.showInformationMessage(`File '${m}' already exists, overwrite?`,{modal:!0},c,"Overwrite");if(!v)return;if(v===c)continue}if(await r.mkdirp(r.path.dirname(g)),h)u=g,await r.writeFile(g,Buffer.from(f||e.configText));else if(e.copyFile)await e.copyFile(p,g);else{let v=e.files&&e.files[p]?Buffer.from(e.files[p]):await tt(p);await r.writeFile(g,v)}}return u}function xCe(t,e,r,n){var u,f,d,p,h,m,g,v,y,C,b,_,P,S;let i=n.text,o=ze(n.uri,t.platform);if("image"in e)i=It(i,["image"],e.image);else if("dockerFile"in e){let x=Yf(t,r,o,e.dockerFile);if(i=It(i,["dockerFile"],x),e.context){let T=Yf(t,r,o,e.context);i=It(i,["context"],T)}}else if("build"in e){let x=Yf(t,r,o,e.build.dockerfile);if(i=It(i,["build","dockerfile"],x),e.build.context){let T=Yf(t,r,o,e.build.context);i=It(i,["build","context"],T)}i=It(i,["build","target"],e.build.target),i=It(i,["build","args"],e.build.args)}else if("dockerComposeFile"in e){let x=PCe(t,r,o,e.dockerComposeFile);i=It(i,["dockerComposeFile"],x),i=It(i,["service"],e.service),i=It(i,["workspaceFolder"],e.workspaceFolder)}e.features&&(i=It(i,["features"],e.features));let s=$T(((f=(u=e.customizations)==null?void 0:u.vscode)==null?void 0:f.settings)||e.settings,((p=(d=n.object.customizations)==null?void 0:d.vscode)==null?void 0:p.settings)||n.object.settings);((m=(h=n.object.customizations)==null?void 0:h.vscode)==null?void 0:m.settings)||!n.object.settings?((g=n.object.customizations)==null?void 0:g.vscode)?i=It(i,["customizations","vscode","settings"],s):n.object.customizations?i=It(i,["customizations","vscode"],{settings:s}):i=It(i,["customizations"],{vscode:{settings:s}}):i=It(i,["settings"],s);let a=jT(n.object.forwardPorts,e.forwardPorts);i=It(i,["forwardPorts"],a);let c=jT(((y=(v=n.object.customizations)==null?void 0:v.vscode)==null?void 0:y.extensions)||n.object.extensions,((b=(C=e.customizations)==null?void 0:C.vscode)==null?void 0:b.extensions)||e.extensions);if(((P=(_=n.object.customizations)==null?void 0:_.vscode)==null?void 0:P.extensions)||!n.object.extensions?((S=n.object.customizations)==null?void 0:S.vscode)?i=It(i,["customizations","vscode","extensions"],c):n.object.customizations?i=It(i,["customizations","vscode"],{extensions:c}):i=It(i,["customizations"],{vscode:{extensions:c}}):i=It(i,["extensions"],c),"image"in e||Gt(e)){let x=jT(n.object.mounts,e.mounts);i=It(i,["mounts"],x);let T=$T(e.containerEnv,n.object.containerEnv);i=It(i,["containerEnv"],T),i=It(i,["containerUser"],e.containerUser);let A=U9(n.object.runArgs,e.runArgs);i=It(i,["runArgs"],A)}i=It(i,["postCreateCommand"],e.postCreateCommand);let l=$T(e.remoteEnv,n.object.remoteEnv);return i=It(i,["remoteEnv"],l),i=It(i,["remoteUser"],e.remoteUser),i}function It(t,e,r){if(r===void 0)return t;let n=Ft(t,e,r,{formattingOptions:{}});return nr(t,n)}function PCe(t,e,r,n){return Array.isArray(n)?n.map(i=>Yf(t,e,r,i)):Yf(t,e,r,n)}function Yf({path:t},e,r,n){let i=t.resolve(t.dirname(e),n);return t.relative(t.dirname(r),i)||"."}function jT(t,e){var r;return(r=U9(t,e))==null?void 0:r.filter((n,i,o)=>o.indexOf(n)===i)}function U9(t,e){if(!!(e==null?void 0:e.length))return(t||[]).concat(e)}function $T(t,e){if(!(!t||!Object.keys(t).length))return Object.assign({},t,e)}async function _m(t,e){let r=await Qv(t,e.configFolderPath);if(!r)return;let n=await Tr(t).readDocument(r);if(!n)return;let i=gt(n);return{uri:r,text:n,object:i}}async function D0(t){let e=await Qn(t);return[].concat(...await Promise.all(e.map(async r=>{let n=st.join(t,r);return(await(0,I9.promisify)(P9.lstat)(n)).isDirectory()?D0(n):n})))}async function kCe(t,e,r,n,i){i.write(it(t&&(t.stack||t.message)));let o=await e.toCommonURI(r),s=await St.window.showErrorMessage(`Could not update '${n}' due to errors in its content. Try fixing these first.`,{modal:!0},...o?["Open devcontainer.json"]:[]);o&&s&&St.window.showTextDocument(St.Uri.parse(o.toString()))}async function Sm(t,e){return(await ICe(e)).find(n=>{var i,o;return(o=(i=n.build)==null?void 0:i.tags)==null?void 0:o.some(s=>{let l=`^mcr.microsoft.com/vscode/devcontainers/${s.split(/\$\{[^}]*\}/).map(u=>u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g").join(".*")}$`;return new RegExp(l).test(t)})})}async function ICe(t){let e=st.join(t,"manifests");return(await Promise.all((await Qn(e)).map(r=>AT(r,e)))).filter(Boolean)}async function AT(t,e){let r=st.join(e,t,"definition-manifest.json");if(await zt(r)){let n=(await tt(r)).toString(),i=gt(n);return i.definitionName=t,i}}async function T0(){let t=await id(st.join(__dirname,"node_modules","vscode-dev-containers"))?[]:await id(st.join(__dirname,"..","node_modules","vscode-dev-containers"))?[".."]:["..",".."];return st.join(__dirname,...t)}async function Mo(){return st.join(await T0(),"node_modules","vscode-dev-containers")}async function B9(t,e,r,n,i,o){let s=gi(r);if(Dr(s)&&!await at.workspace.requestWorkspaceTrust({message:Fh}))return kr(s.hostPath)?(await at.window.showInformationMessage("The WSL folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen in WSL."}),await at.commands.executeCommand("remote-containers.reopenInWSL")):(await at.window.showInformationMessage("The local folder is currently not trusted.",{modal:!0,detail:"Trust is required to build a dev container from it. The folder will now reopen locally."}),await at.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let a=hi(s);return a&&!await Mh(t,s.repositoryPath)?(await at.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{})):ge(W({},await TCe(s,t,i,o,e,r,n)),{isTrusted:a||void 0})}async function TCe(t,e,r,n,i,o,s){let{log:a,logFilePath:c}=r,l="hostPath"in t&&kr(t.hostPath)&&!!at.extensions.getExtension("ms-vscode-remote.remote-wsl");l&&at.commands.executeCommand("setContext","canReopenInWSL",!0);let u=t.settings,f="localDocker"in t&&t.localDocker,d=!!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!f)&&(!!at.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!at.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));d&&at.commands.executeCommand("setContext","canReopenInSSH",!0);let p=!(u&&"host"in u&&u.host&&u.host.startsWith("ssh://")&&!f);p&&at.commands.executeCommand("setContext","canReopenLocally",!0);let h;return at.window.withProgress({location:at.ProgressLocation.Notification,title:Df,cancellable:!1},async m=>{let g=mo(e.extensionPath,ws,a),{cliHost:v,originalCwd:y}=await ACe(t,e.extensionPath,bs(),g,i.product,a),C=W(W({},await g),Nu(v,t.settings)),b=W(W({},v.env),C),_=await Af({authority:o,extensionContext:e,sessionStart:r.sessionStart,progress:m,cliHost:v,env:b,cwd:v.cwd,isLocalContainer:qy(C),telemetry:i,output:a,logFilePath:c,allowSystemConfigChange:!0,postCreate:n}),P={async createConfiguration(S,x){return xm({fileHost:x,telemetry:i,output:a,existingFilesLearnMoreLink:Dh,predefinedDefinitionsLearnMoreLink:Rh,openConfigurationCommandId:Ah},dt(UT.posix,S))},async showError(S,...x){return await at.window.showErrorMessage(S,{modal:!0},...x)}};return h={common:_,parsedAuthority:t,dockerCLI:Ji(),dockerComposePath:To(),dockerComposeCLI:vo({exec:_.cliHost.exec,env:W(W({},C),pr(C)),output:_.output},Ji(),To()),dockerEnv:C,workspaceMountConsistencyDefault:pC(),updateRemoteUserUIDOnMacOS:hC(),cacheMount:mC()?"volume":"none",configurationTracking:dC(e.workspaceState),removeOnStartup:await az(e,o),buildNoCache:await lz(e,o),onRemoveOnShutdownChanged:s,userRepositoryConfigurationPaths:Ao(),originalCwd:y,configProvider:P,development:e.extensionMode===at.ExtensionMode.Development},await jy(h),rU(h)}).then(m=>(s(async g=>{await cz(e,g&&m.dockerContainerId||!1),await Nh(e,g==="rebuildNoCache"?o:!1)}),Cs(i,BT(t),"success",h==null?void 0:h.common,m.config,m.properties),m),m=>{var S;let g=m instanceof $e?m:new $e({description:"An error occurred setting up the container.",originalError:m});hi(t)&&(g.volumeName=t.volumeName,g.volumeName===mi&&(g.volumeName=pi(t.repositoryPath).uniqueVolumeName),g.repositoryPath=t.repositoryPath,g.folderPath=t.folder),Cs(i,BT(t),"failure",h==null?void 0:h.common,g.config,g.containerProperties,g);let v="onTheSide",y=(S=g.data)==null?void 0:S.fileWithError,C=y&&(h==null?void 0:h.common.cliHost.path.basename(y))||"devcontainer.json",b=Dr(t)?[{id:"openFileWithErrorLocally",title:`Open ${C} Locally`,isLastAction:!0,applicable:async(x,T)=>p&&!(T&&l),async execute(){let x=h==null?void 0:h.common.cliHost,T=y?x.type==="wsl"?await x.toCommonURI(y):Ve.file(y):void 0;await Lh(e,t.hostPath,T,c,v);let A=at.Uri.file(t.hostPath);await at.commands.executeCommand("vscode.openFolder",A)}},{id:"openFileWithErrorinWSL",title:`Open ${C} in WSL`,isLastAction:!0,applicable:async()=>l,async execute(){let x=at.Uri.parse((await cu(t.hostPath,a)).toString());await Lh(e,x.path,y?x.with({path:y}):void 0,c,v),await at.commands.executeCommand("vscode.openFolder",x)}},{id:"openFileWithErrorinSSH",title:`Open ${C} in SSH`,isLastAction:!0,applicable:async()=>d,async execute(){let x=t.settings,T=at.Uri.parse(Jd(x.host,t.hostPath).toString());await Lh(e,T.path,y?T.with({path:y}):void 0,c,v),await at.commands.executeCommand("vscode.openFolder",T)}}]:[],_=hi(t)?t.inspectVolume?[ia]:[{id:"reopenInRecoveryContainer",title:`Open ${C} in Recovery Container`,isLastAction:!0,applicable:(x,T)=>!0,execute:async x=>{await Lh(e,t.repositoryPath,y?Ve.file(y).with({scheme:"vscode-remote"}):void 0,c,v),await at.commands.executeCommand("remote-containers.inspectVolume",x.volumeName,x.repositoryPath,x.folderPath)}},ia,{id:"openRepository",title:"Open Repository",isLastAction:!1,applicable:(x,T)=>!T,async execute(){at.env.openExternal(at.Uri.parse(t.repositoryPath))}}]:[],P=kp(t)?[ia]:[];return g.actions=[...Fu,Oc,RU,...b,..._,...P,Lu,Rc],DCe(g),oa(g,BT(t),i,!0,r)})}async function ACe(t,e,r,n,i,o){let{settings:s}=t,a=s&&"host"in s&&s.host||void 0;if(Dr(t)){let c=dt(UT,t.hostPath),l=c.rootFolderPath,u=await Li(a,c.rootFolderPath,Io,Qi(),e,r,i,o,Do,{sshAskpassEnv:n,settings:Tf(),localDocker:t.localDocker});return u.cwd!==c.rootFolderPath&&(c=dt(u.path,c.isWorkspaceFile?u.path.join(u.cwd,UT.basename(t.hostPath)):u.cwd)),o.write(`Setting up container for folder or workspace: ${c.workspaceOrFolderPath}\r
`),My(o,t.settings),t.localDocker&&o.write(`Local Docker: ${t.localDocker}\r
`),{cliHost:u,originalCwd:l}}else{let c=await Li(a,void 0,Io,Qi(),e,r,i,o,Do,{sshAskpassEnv:n,settings:Tf()});return{cliHost:c,originalCwd:await c.homedir()}}}function BT(t){return Dr(t)?"config":hi(t)?t.inspectVolume?"volume":"repository":"volume"}function DCe(t){let e=(t.originalError&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();e&&e.indexOf("drive has not been shared")!==-1?t.description="The drive of the workspace folder is not shared. Share it in the Docker settings first.":e&&(e.indexOf("port is already allocated")!==-1||e.indexOf("address already in use")!==-1)?t.description="A port the container is setup to bind to is already in use. See the Dev Containers terminal for details.":e&&e.indexOf('invalid mount config for type "bind"')!==-1?t.description="A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running.":e&&e.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(t.description="The base image references the obsolete Debian 8 update repository.",t.actions.push({id:"learnMore",title:"Learn More",isLastAction:!1,applicable:(r,n)=>n,async execute(){at.env.openExternal(at.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var qo=te(require("vscode"));var H9=te(require("util"));var eo=te(require("path"));async function V9(t,e,r){let{common:n}=t,i;try{let{commit:o}=n.product;if(!o)throw new $e({description:"Cannot attach without commit id for the remote extension host."});i=await Au(t,e.Id,r.workspaceFolder,r.remoteUser);let s=Tr(n.cliHost,i.shellServer),{hostOrContainerPort:a,hostPortServer:c,connectionToken:l,webConnectionToken:u,remoteEnv:f,serverDownloaded:d}=await qv(n,i,r,async()=>{},Ys);if(RCe(n,i,s,r.configFilePath),NCe(n,i,s,r.configFilePath),Iu(n,i,a,l,u,e,dt(eo.posix,"/")),c){let p=async()=>{await(0,H9.promisify)(c.close.bind(c))()};n.shutdowns.push(p)}return{params:n,properties:i,config:r,resolvedAuthority:{host:ra,port:a,connectionToken:l,extensionHostEnv:f},webConnectionToken:u,tunnelInformation:n.isLocalContainer?Tu(e):{},dockerParams:t,dockerContainerId:e.Id,serverDownloaded:d}}catch(o){let s=o instanceof $e?o:new $e({description:"An error occurred attaching to the container.",originalError:o});throw e&&(s.manageContainer=!1,s.params=t.common,s.containerId=e.Id,s.dockerParams=t),i&&(s.containerProperties=i),s.config=r,s}}function RCe(t,e,r,n){e.installFolder&&z9(t,e,r,n).catch(console.error)}async function z9(t,e,r,n){try{await Jo(t,e,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],xM(e),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await OCe(t,e,r,n):(i==null?void 0:i.code)!==2&&await po(6e4)}return z9(t,e,r,n)}async function OCe(t,e,r,n){let i=await AM(t,e);await aS(n,async()=>{var s,a;let o=await M0(t.cliHost,r,n,e.remoteWorkspaceFolder);if(!FCe(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let c=Ft(o.text,["extensions"],i,{formattingOptions:{}});await li(r,n,c,o.text)}})}function NCe(t,e,r,n){G9(t,e,r,n).catch(console.error)}async function G9(t,e,r,n){try{let i=Mv(e),o=eo.posix.dirname(i),s=eo.posix.basename(i);await Jo(t,e,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await LCe(t.cliHost,e,r,n):(i==null?void 0:i.code)!==2&&await po(6e4)}return G9(t,e,r,n)}async function LCe(t,e,r,n){let{stdout:i}=await e.shellServer.exec(`cat ${Mv(e)}`),o=gt(i)||{};await aS(n,async()=>{var a,c;let s=await M0(t,r,n,e.remoteWorkspaceFolder);if(JSON.stringify(((c=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:c.settings)||{})!==JSON.stringify(o)){let l=Ft(s.text,["settings"],o,{formattingOptions:{}});await li(r,n,l,s.text)}})}function FCe(t,e){let r=new Set(t),n=new Set(e);return r.size===n.size&&t.every(i=>n.has(i))}async function W9(t,e){let r=L0(t,e.Name),n=await e5(r);return n||(r=J9(t,e.Config.Image),n=await e5(r)),n}async function K9(t,e,r,n,i){let o=Ve.file(L0(r,n.Name)),s=await M0(t,e,o,i);return s.exists||(o=Ve.file(J9(r,n.Config.Image)),s=await M0(t,e,o,i)),s}function N0(t){return eo.join(t,"nameConfigs")}function L0(t,e){let r=e.startsWith("/")?e.substr(1):e;return eo.join(N0(t),`${X9(r)}.json`)}async function Y9(t){try{let e=N0(t);return(await Qn(e)).filter(n=>n.endsWith(".json")).map(n=>({name:Z9(n.substr(0,n.length-5)),uri:Ve.file(eo.join(e,n))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function F0(t){return eo.join(t,"imageConfigs")}function J9(t,e){return eo.join(F0(t),`${X9(e)}.json`)}async function Q9(t){try{let e=F0(t);return(await Qn(e)).filter(n=>n.endsWith(".json")).map(n=>({image:Z9(n.substr(0,n.length-5)),uri:Ve.file(eo.join(e,n))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function X9(t){return t.replace(/[:/%]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}function Z9(t){return t.replace(/%([0-9a-f]{2})/g,(e,r)=>String.fromCharCode(parseInt(r,16)))}async function e5(t){if(!await zt(t))return;let e=await tt(t),r=gt(e.toString())||{},n=ip(r);return n.configFilePath=Ve.file(t),n}async function M0(t,e,r,n){let i=await e.readDocument(r),o=i||Xo,s=gt(o)||{},a=ip(s),c=Rv({platform:t.platform,configFile:r,env:t.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:n},a);return c.configFilePath=r,{exists:!!i,text:o,config:c}}async function t5(t,e,r,n,i){return await _a(t)?ge(W({},await MCe(t,e,r,n,i)),{isTrusted:!0}):(await qo.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function MCe(t,e,r,n,i){let o,s;return qo.window.withProgress({location:qo.ProgressLocation.Notification,title:Df,cancellable:!1},async a=>{var c,l;try{let u=$y(r),{settings:f}=u,d="containerName"in u?u.containerName:u.containerId;n.log.write(`Setting up container: ${d}\r
`),My(n.log,f);let p=f&&"host"in f&&f.host||void 0,h=mo(t.extensionPath,ws,n.log),m=await Li(p,u.cwd,Io,Qi(),t.extensionPath,bs(),e.product,n.log,Do,{sshAskpassEnv:h,settings:Tf()}),g=Ji(),v=W(W({},await h),Nu(m,f)),y=vo({exec:m.exec,env:W(W({},v),pr(v)),output:n.log},Ji(),To()),C=W(W({},m.env),v),b=await jn({cliHost:m,dockerCLI:g,dockerComposeCLI:y,dockerComposePath:To(),env:C,output:n.log},"containerName"in u?u.containerName:u.containerId);if(!b)throw new $e({description:`Cannot attach to the container with name/id ${d}, it no longer exists.`,data:{reload:!1,attach:!0}});let _=(l=(c=(qo.workspace.workspaceFolders||[void 0])[0])==null?void 0:c.uri)==null?void 0:l.path,P=await K9(m,Fi,t.globalStoragePath,b,_);if(_&&P.config.workspaceFolder!==_){let A=Ft(P.text,["workspaceFolder"],_,{formattingOptions:{}});await li(Fi,P.config.configFilePath,A,P.text)}o={common:await Af({authority:r,extensionContext:t,sessionStart:n.sessionStart,progress:a,cliHost:m,env:C,cwd:u.cwd||await m.homedir(),isLocalContainer:qy(v),telemetry:e,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),parsedAuthority:u,dockerCLI:g,dockerComposePath:To(),dockerComposeCLI:y,dockerEnv:v,workspaceMountConsistencyDefault:pC(),updateRemoteUserUIDOnMacOS:hC(),cacheMount:mC()?"volume":"none",configurationTracking:dC(t.workspaceState),userRepositoryConfigurationPaths:[],development:t.extensionMode===qo.ExtensionMode.Development},await jy(o);let S=Ru(f),x=b.Name.startsWith("/")?b.Name.substr(1):b.Name,T=`Container ${b.Config.Image} (${x})${S}`;if(o.common.setWorkspaceName(T),b.State.Status!=="running")throw new $e({description:`Cannot attach to the container ${b.Config.Image} (${x})${S}, it is not running.`,params:o.common,containerId:b.Id,dockerParams:o,data:{reload:!1,start:!0}});return await V9(o,b,P.config)}catch(u){let f=u instanceof $e?u:new $e({description:"An error occurred attaching to the container.",originalError:u});throw f.actions=[OU,NU,...Fu,Oc,ia,Lu,Rc],f}}).then(a=>(Cs(e,"attach","success",o==null?void 0:o.common,s,a.properties),a),a=>{let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});return Cs(e,"attach","failure",o==null?void 0:o.common,s,c.containerProperties,c),oa(c,"attach",e,!0,n)})}var Mt=te(require("vscode"));var Qt=te(require("vscode")),r5=te(require("path")),Sl=te(require("os")),Pm=te(require("fs")),n5=te(require("child_process")),i5=te(Zl());async function q0(t){$Ce()?await new o5().downloadAndInstallDocker(t):a5()?await new s5().downloadAndInstallDocker(t):await Qt.env.openExternal(Qt.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var HT=class{async downloadAndInstallDocker(e){if(await this.preInstallCheck(e)){let n="Downloading Docker installer...",i="The Docker Desktop installation is started. Complete the installation and then start Docker Desktop.",o;try{o=await Qt.window.withProgress({location:Qt.ProgressLocation.Notification,title:n},async()=>this.downloadInstaller())}catch(a){let c="Downloading the Docker Desktop installer failed. Do you want to manually download and install?",l="Download";throw this.handleError(c,l,this.downloadUrl),a}let s=this.getInstallCommand(o);Qt.window.showInformationMessage(i);try{await this.install(o,s,e)}catch(a){let c=`Docker Desktop installation failed. ${a}`,l="Install Instruction";throw this.handleError(c,l,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(e){let r=!0;if(await new c5(e).isDockerInstalledRealTimeCheck()){let n="Docker Desktop is already installed. Would you like to reinstall?",i="Reinstall";r=await Qt.window.showInformationMessage(n,{modal:!0},i)!==void 0}return r}async downloadInstaller(){let e=`${jCe()}.${this.fileExtension}`;return await BCe(this.downloadUrl,e),e}handleError(e,r,n){Qt.window.showErrorMessage(e,{title:r}).then(i=>{i&&Qt.env.openExternal(Qt.Uri.parse(n))})}},o5=class extends HT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(e){return`"${e}"`}async install(e,r,n){try{n.write(`Executing command ${r}`),await u5(r,n)}finally{try{await Pm.promises.stat(e),await Pm.promises.unlink(e)}catch{}}}},s5=class extends HT{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(e){return`chmod +x '${e}' && open '${e}'`}async install(e){let r="Docker Install",n=this.getInstallCommand(e);await UCe(n,r,{addDockerEnv:!1})}},qCe=0;function jCe(){return r5.join(Sl.tmpdir(),`${Qt.env.sessionId}-${qCe++}.tmp`)}function $Ce(){return Sl.platform()==="win32"}function a5(){return Sl.platform()==="darwin"}async function UCe(t,e,r){var a,c,l;let n;r=r!=null?r:{},r.addDockerEnv&&(n={});let i=new Qt.Task({type:"shell"},(a=r.workspaceFolder)!=null?a:Qt.TaskScope.Workspace,e,"Docker",new Qt.ShellExecution(t,{cwd:r.cwd||((l=(c=r.workspaceFolder)==null?void 0:c.uri)==null?void 0:l.fsPath)||Sl.homedir(),env:n}),[]);r.alwaysRunNew&&(i.definition.idRandomizer=Math.random()),r.focus&&(i.presentationOptions={focus:!0});let o=await Qt.tasks.executeTask(i);return new Promise((u,f)=>{let d=Qt.tasks.onDidEndTaskProcess(p=>{p.execution===o&&(d.dispose(),p.exitCode&&r.rejectOnError&&f(p.exitCode),u())})})}var c5=class{constructor(e){this.output=e;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new f5(async()=>{let r=await this.isDockerInstalledRealTimeCheck();return r&&this.isDockerInstalledLazy.cacheForever(),r},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{return await u5("docker -v",this.output),!0}catch{return!1}}};async function BCe(t,e){await new Promise((r,n)=>{let i=Pm.createWriteStream(e);i5.https.get(t,s=>{if(s.statusCode<200||s.statusCode>299){n(new Error(`Failed to download Docker (${t}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",n),s.pipe(i),s.on("end",r)}).on("error",n)})}var l5=10*1024;async function u5(t,e,r,n){let i=Buffer.alloc(r&&r.maxBuffer||l5),o=Buffer.alloc(r&&r.maxBuffer||l5);return await HCe(t,e,r,n,i,n,o),{stdout:VT(i),stderr:VT(o)}}async function HCe(t,e,r,n,i,o,s,a){return await new Promise((c,l)=>{let u,f=0,d=0;r=r||{},r.shell=!0,VCe(r,e);let p=n5.spawn(t,r);p.on("error",h=>(u&&(u.dispose(),u=void 0),l(h))),p.on("close",(h,m)=>{if(u&&(u.dispose(),u=void 0),a&&a.isCancellationRequested)return l(new Error("User canceled"));if(h){let g=`Process '${t.length>50?`${t.substring(0,50)}...`:t}' exited with code ${h}`;s&&(g+=`
Error: ${VT(s)}`);let v=new Error(g);return v.code=h,v.signal=m,v.stdErrHandled=o!==null,l(v)}return c()}),(r==null?void 0:r.stdin)&&(p.stdin.write(r.stdin),p.stdin.end()),(n||i)&&p.stdout.on("data",h=>{let m=h.toString();n&&n(m,p),i&&(f+=i.write(m,f))}),(o||s)&&p.stderr.on("data",h=>{let m=h.toString();o&&o(m,p),s&&(d+=s.write(m,d))}),a&&(u=a.onCancellationRequested(()=>{p.kill()}))})}function VCe(t,e){var r,n;!a5()||/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((r=t==null?void 0:t.env)==null?void 0:r.PATH)||process.env.PATH||"")||(t=t!=null?t:{},t.env=(n=t.env)!=null?n:W({},process.env),e.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),t.env.PATH=`${t.env.PATH}:/usr/local/bin`)}function VT(t){return t.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var f5=class{constructor(e,r){this.valueFactory=e;this._valueLifetime=r;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let e=this._valuePromise===void 0;e&&(this._valuePromise=this.valueFactory());let r=await this._valuePromise;if(e&&(this._value=r,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&e){let n=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(n)},this._valueLifetime)}return r}};async function xn(t,e,r){var o;let n=(o=(Mt.workspace.workspaceFolders||[])[0])==null?void 0:o.uri;n&&(n.scheme==="file"&&kr(n.fsPath)||lu(n))&&(e=await yt(t,e.output,n));let i=await km(e,r);if(i==="permission")return await Mt.window.showErrorMessage("Current user does not have permission to run 'docker'.",{modal:!0,detail:"Try adding the user to the 'docker' group."},"Documentation")&&Mt.env.openExternal(Mt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(i==="ssh")return await Mt.window.showErrorMessage("Cannot connect to Docker daemon using 'ssh'.",{modal:!0,detail:"Make sure public/private keys are set up for connecting without keyboard interaction."},"Show Log")&&Mt.commands.executeCommand(ko),!1;if(i==="daemon")return await Mt.window.showErrorMessage("Docker returned an error.",{modal:!0,detail:"Make sure the Docker daemon is running."},"Show Log")&&Mt.commands.executeCommand(ko),!1;if(!i||i==="command"){if(e.cliHost.type==="wsl")await Mt.window.showErrorMessage("Docker Desktop WSL 2 backend required.",{modal:!0},"Read more on docker.com")&&Mt.env.openExternal(Mt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let s="Install",a="License",c="Ignore",l=i===!1?[s,a,c]:[s,a],u=await Mt.window.showErrorMessage("Docker version 17.12.0 or later required.",{modal:!0,detail:"Check the license for details."},...l);if(u===s)q0(e.output).then(console.error);else if(u===a)Mt.env.openExternal(Mt.Uri.parse("https://aka.ms/docker-subscription-service-agreement"));else if(u===c)return!0}return!1}return i==="wsl1"?(await Mt.window.showErrorMessage("WSL 2 distro required.",{modal:!0,detail:"The WSL distro is running with WSL 1."},"Read more on docker.com")&&Mt.env.openExternal(Mt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}async function km(t,e){var s,a,c,l;let r;try{let u=await Ct(t,"version","--format","{{.Server.APIVersion}}");r=u.stdout.toString(),t.output.write(r);let f=u.stderr.toString();f&&t.output.write(it(f))}catch(u){console.error(u);let f=(s=u==null?void 0:u.stdout)==null?void 0:s.toString();f&&t.output.write(f);let d=u&&(u.stderr?u.stderr.toString():u.message)||"";d&&t.output.write(it(d)),Im(e,"error",void 0,d);let p=d.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1?(t.output.write(`CLI host's PATH: ${t.cliHost.env.PATH}`),"command"):t.cliHost.type==="wsl"&&((l=(c=(a=u==null?void 0:u.stdout)==null?void 0:a.toString())==null?void 0:c.toLowerCase())==null?void 0:l.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let n=r.trim(),i=gc(n);if(!i&&n.toLowerCase().indexOf("error during connect")!==-1)return Im(e,"error",void 0,n),"daemon";if(!i)return Im(e,"unparsed",n),!0;let o=!pu(i,[1,35]);return!o&&await vS(t)?(Im(e,"podman",n),!0):(Im(e,o?"success":"failure",n),o)}function Im(t,e,r,n){let i={outcome:e};r&&(i.version=r),n&&(i.errorMessage=n),t.sendTelemetryEvent("dockerVersion",i)}async function d5(t){try{return await _c(t,"version"),!0}catch{return await Mt.window.showErrorMessage("Docker Compose required",{modal:!0},"Documentation")&&Mt.env.openExternal(Mt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")),!1}}var Jf=te(require("vscode"));var zT=class{constructor(e){this.fileHost=e}async provideDocumentLinks(e,r){let n=[],i=Xg(e.getText());if(!i)return n;let o=Zg(i)||{};return o.configFilePath=e.uri,Gt(o)&&this._linksForDockerfile(n,o,i,e),"dockerComposeFile"in o&&await this._linksForDockerCompose(n,o,i,e),n}_tryAddDocumentLinkToBucket(e,r,n,i,o){let s=e.positionAt(r),a=e.positionAt(n);s.compareTo(a)!==0&&o.push(new Jf.DocumentLink(new Jf.Range(s,a),i))}_linksForDockerfile(e,r,n,i){let o=Bs(n,["build","dockerfile"])||Bs(n,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,Xr(this.fileHost,r),e)}async _linksForDockerCompose(e,r,n,i){let s=(await br(this.fileHost,r)).map(c=>Jf.Uri.file(c).path),a=Bs(n,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let c=0;c<a.children.length;c++)this._tryAddDocumentLinkToBucket(i,a.children[c].offset+1,a.children[c].offset+a.children[c].length-1,i.uri.with({path:s[c]}),e);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),e)}};var ue=te(require("vscode")),xl=te(require("path"));var p5="Stop Container",h5="Reopen Folder locally",m5="Close Workspace",Oa;(function(i){i.Placeholder="Placeholder",i.Group="Group",i.Container="Container",i.Folder="Folder"})(Oa||(Oa={}));var qr=class{static isGroupItem(e){return!!e&&e.type===Oa.Group}static isContainerItem(e){return!!e&&e.type===Oa.Container}static isFolderItem(e){return!!e&&e.type===Oa.Folder}},Tm;(function(n){n[n.DevContainers=0]="DevContainers",n[n.AttachContainers=1]="AttachContainers",n[n.OtherContainers=2]="OtherContainers"})(Tm||(Tm={}));var GT=class extends qr{constructor(e,r){super();this.label=e;this.groupType=r;this.type=Oa.Group}async asTreeItem(e,r,n,i){return new ue.TreeItem(this.label,ue.TreeItemCollapsibleState.Expanded)}},ro=class extends qr{constructor(e,r=[],n,i=!1){super();this.container=e;this.folders=r;this.parent=n;this.isDevContainer=i;this.type=Oa.Container;this._alreadyCheckedRepository=!1}async asTreeItem(e,r,n,i){let o=new ue.TreeItem(this.getContainerLabel(),this.getCollapsibleState());o.description=this.containerDescription;let s=this.getContextBase();o.iconPath=j0(r,KCe),o.contextValue="exited"+s;let a=!1;return n&&this.container.Id===n.Id?(o.iconPath=j0(r,WCe),o.contextValue="active"+s,a=!0):e&&await this.setTreeItemIconAndContext(e,s,o),o.tooltip=this.getHover(a,o.iconPath instanceof ue.ThemeIcon?o.iconPath:new ue.ThemeIcon("vm"),o.label),this.folders.length===1&&(o.contextValue+="Folder"),o}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(e,r,n){switch(this.container.State.Status){case"created":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"paused":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="running"+r;break}case"restarting":{n.iconPath=new ue.ThemeIcon("vm-outline"),n.contextValue="exited"+r;break}case"exited":{n.iconPath=new ue.ThemeIcon("vm"),n.contextValue="exited"+r;break}case"running":{n.iconPath=new ue.ThemeIcon("vm-running"),n.contextValue="running"+r;break}}}getTimeElapsed(e){if(!e)return"";let r="",n=e.State.Status,i=new Date(e.State.StartedAt),o=new Date(e.State.FinishedAt);if(i.getFullYear()>1&&o.getFullYear()>1){let s=new Date,a=new Date(i>o?e.State.StartedAt:e.State.FinishedAt),c,l,u=s.getTime()-a.getTime();(l=Math.round(u/ro.years))>0?l===1?c="year":c="years":(l=Math.round(u/ro.days))>0?l===1?c="day":c="days":(l=Math.round(u/ro.hours))>0?l===1?c="hour":c="hours":(l=Math.round(u/ro.minutes))>0?l===1?c="minute":c="minutes":(l=Math.round(u/ro.seconds),l===1?c="second":c="seconds"),r=` ${l} ${c}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+r}getContainerLabel(){if(Ou(this.container)&&this.folders.length>0)return`${xl.basename(this.folders[0].folder.path)}`;{let r=qS(this.container);if(r)return r;let n=this.repository;return n?n.repositoryName:this.container.Config.Image}}get containerDescription(){return this.container.Name.substr(1)}getHover(e,r,n){let i=new ue.MarkdownString(void 0,!0);if(i.appendMarkdown(`$(${r.id}) ${n} (${this.container.Name.substr(1)})  
`),this.repository){let s=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";i.appendMarkdown(`${s} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let o=Ly(this.container);return o&&i.appendMarkdown(`$(file-symlink-directory) ${o}  
`),e?i.appendMarkdown("$(remote) Connected"):i.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),i}get repository(){if(!this._alreadyCheckedRepository){let e=Ac(this.container);e&&(this._repository=pi(e)),this._alreadyCheckedRepository=!0}return this._repository}inspect(e){return hn(e,this.container.Id)}},sn=ro;sn.seconds=1e3,sn.minutes=ro.seconds*60,sn.hours=ro.minutes*60,sn.days=ro.hours*24,sn.years=ro.days*365;var Pl=class extends qr{constructor(e,r,n){super();this.container=e;this.folder=r;this.isDevContainer=n;this.type=Oa.Folder}async asTreeItem(e,r,n,i){let o=new ue.TreeItem(xl.basename(this.folder.path),ue.TreeItemCollapsibleState.None);return o.description=this.folder.path,o.iconPath=j0(r,JCe),o.contextValue="attachedFolder",this.isDevContainer&&!Ac(this.container)&&(o.contextValue="devFolder"),n&&this.container.Id===n.Id&&i===this.folder.path&&(o.iconPath=j0(r,YCe),o.tooltip=`Active Folder ${o.label}`,o.contextValue=`active${o.contextValue}`),o}};function zCe(t,e,r,n){if(!(!ue.env.remoteName||ue.env.remoteName!=="attached-container"&&ue.env.remoteName!=="dev-container"))return g5(t,e,r,n)}function g5(t,e,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new _5(t,e,n,e.output),o=ue.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},t.subscriptions.push(r.onDidChangeActiveContainer(s=>i.refresh(s))),i}function GCe(t,e){let r=[p5];return t&&t.Id===e.Id&&ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0&&(r.push(m5),ue.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&r.push(h5)),r}var v5=class{constructor(e,r){this.dockerParams=e;this.containerId=r;this.writeEmitter=new ue.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:e,env:r,output:n}=this.dockerParams;e.exec({cmd:Ji(),args:["logs","-f",this.containerId],env:r,output:n}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(e=>{e.destroy()})}write(e){this.writeEmitter.fire(e.replace(/\n/g,`\r
`))}},y5=class{constructor(e,r,n,i,o,s){this.targetsTreeData=e;this.detailsTreeData=r;this.devVolumesTreeData=n;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(e){this.dockerParams=e}registerCommands(){let e=[];return e.push(ue.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),e.push(ue.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),e.push(ue.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),e.push(ue.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),e.push(ue.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),e.push(ue.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),e.push(ue.commands.registerCommand("remote-containers.attachToContainer",this.commandAttachToContainer,this)),e.push(ue.commands.registerCommand("remote-containers.attachToContainerNewWindow",this.commandAttachToContainerNewWindow,this)),e.push(ue.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),e.push(ue.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),e.push(ue.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),e.push(ue.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),e.push(ue.commands.registerCommand("remote-containers.pruneVolumes",this.commandPruneVolumes,this)),e.push(ue.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),e.push(ue.commands.registerCommand("remote-containers.startAndOpenFolder",this.commandStartAndOpenFolder,this)),e.push(ue.commands.registerCommand("remote-containers.newContainer",this.commandNewContainer,this)),e.push(ue.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),e}async commandStopContainer(e){if(!qr.isContainerItem(e))return;let r=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===e.container.Id?"Stop active container? This will disconnect your current window.":`Stop ${e.getContainerLabel()}?`,n=await ue.window.showWarningMessage(r,{modal:!0},...GCe(this.targetsTreeData.currentContainer,e.container));await this.targetsTreeData.withProgress(e,async()=>{switch(n){case p5:{await Ak(this.dockerParams,e.container),e.container=await hn(this.dockerParams,e.container.Id);break}case m5:{await ue.commands.executeCommand("workbench.action.closeFolder");break}case h5:{await ue.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(e){if(!qr.isContainerItem(e))return;let r=await jn(this.dockerParams,e.container.Id);if(!r)return;let n=await ue.window.showWarningMessage("Remove this container?",{modal:!0,detail:"This action is not reversible and deletes the container permanently."},"Remove");await this.targetsTreeData.withProgress(e.parent,async()=>{n==="Remove"&&(await Ak(this.dockerParams,e.container),await sz(this.dockerParams,r.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(e.container))})}async tryRemoveVolume(e){let r=Ly(e);if(r||(r=yU(e)),r){let n=await ry(this.dockerParams,r);if((await mS(this.dockerParams)).indexOf(r)>=0){let s;(n==null?void 0:n.Labels)&&n.Labels["vsch.local.repository.unique"]==="true"?s="The container is using a volume with a cloned repository.":s=`This is the last container using '${r}'.`,await ue.window.showInformationMessage(s,{modal:!0,detail:"Do you want to remove the volume and the data it contains?"},"Remove")==="Remove"&&await Dk(this.dockerParams,r)}}}async commandPruneVolumes(e){let r="Are you sure you want to remove all unused volumes?";await ue.window.showInformationMessage(r,{modal:!0},"Remove")==="Remove"&&await this.targetsTreeData.withProgress(e,async()=>{await Bq(this.dockerParams)})}async commandExplorerVolumesRefresh(e){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(e){!qr.isContainerItem(e)||await this.targetsTreeData.withProgress(e,async()=>{await yC(this.dockerParams,e.container),e.container=await hn(this.dockerParams,e.container.Id)})}async commandRemoveRecentFolder(e){!qr.isFolderItem(e)||(await ue.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(e){!qr.isContainerItem(e)||(this.detailsTreeData||(this.detailsTreeData=g5(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(e))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(e){let r,n;qr.isFolderItem(e)?(n=e,r=e.container):sn.isContainerItem(e)&&(n=e.folders[0],r=e.container),r&&(await yC(this.dockerParams,r),await ue.commands.executeCommand("remote-containers.openFolder",n))}async commandAttachToContainer(e){return this.attachToContainerInternal(e)}async commandAttachToContainerNewWindow(e){return this.attachToContainerInternal(e,!0)}async attachToContainerInternal(e,r=!1){let n;qr.isContainerItem(e)?n=e.container:this.detailsTreeData&&(n=this.detailsTreeData.container),n&&(await yC(this.dockerParams,n),await $0(this.dockerParams,n,this.context,r))}async commandInspectDockerResource(e){let r;(qr.isContainerItem(e)||Na.isImageItem(e)||Na.isVolume(e)||Na.isDevVolume(e))&&(r=await e.inspect(this.dockerParams)),r&&ue.window.showTextDocument(await ue.workspace.openTextDocument({language:"json",content:JSON.stringify(r,null,"	")}))}async commandInspectInBasicDevContainer(e){Na.isDevVolume(e)&&await e.inspectInBasicDevContainer()}async commandCloneInVolume(e){Na.isDevVolume(e)&&await e.cloneRepositoryInVolume()}async commandRemoveVolume(e){Na.isDevVolume(e)&&await e.removeVolume(this.dockerParams)}async commandNewContainer(){let e=[{label:"Open Current Folder in Container",command:"remote-containers.reopenInContainer"},{label:"Open Folder in Container...",command:"remote-containers.openFolder"},{label:"Open Workspace in Container...",command:"remote-containers.openWorkspace"},{label:"Clone Repository in Container Volume...",command:"remote-containers.openRepositoryInVolume"},{label:"Clone GitHub Pull Request in Container Volume...",command:"remote-containers.openPullRequestInVolume"},{label:"Try a Sample...",command:"remote-containers.trySample"}],r=await ue.window.showQuickPick(e,{placeHolder:"Select an action to create a container"});if(r)return ue.commands.executeCommand(r.command)}async commandShowContainerLog(e){if(!qr.isContainerItem(e))return;let r=new v5(this.dockerParams,e.container.Id);ue.window.createTerminal({name:e.container.Config.Image,pty:r}).show()}};async function w5(t,e,r,n){ue.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new C5(t,e,s,r,n),o=ue.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,t.subscriptions.push(ue.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0))));function s(a){let c=zCe(t,a,i,r),l=new x5(t,r,n),u=ue.window.createTreeView("devVolumes",{treeDataProvider:l});t.subscriptions.push(u);let f=new y5(i,c,l,a,t,r);t.subscriptions.push(...f.registerCommands()),t.subscriptions.push(tz(t)(async()=>{i.refresh(void 0),l.refresh(void 0);let d=await yt(t,n);c&&c.updateDockerParameters(d),f.updateDockerParameters(d)}))}}var C5=class{constructor(e,r,n,i,o){this.context=e;this.resolverResults=r;this.onFirstReveal=n;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new ue.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(e){this.setTreeMessage=e}get currentContainer(){return this._currentContainer}async getDockerParams(e=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=mo(this.context.extensionPath,async r=>(this.needsSSHCredentials=!0,ws(r,!1)),this.output));try{this.dockerParams=await yt(this.context,this.output,void 0,void 0,e?void 0:this.passiveSSHAskpassEnv,!1),await km(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(r){if(!this.needsSSHCredentials)throw r}}return this.dockerParams}handleDockerEvent(e){try{let r=JSON.parse(e.toString());if(!r.Action)return;let n="exec_create: /root/.vscode-server";if(r.Action==="die"||r.Action==="destroy"||r.Action==="create")this._onDidChangeTreeData.fire();else if(!r.Action.startsWith("exec_create")&&r.Actor&&r.Actor.ID&&this.containerItems.has(r.Actor.ID)){let i=this.containerItems.get(r.Actor.ID);this.dockerParams&&i?(async()=>{i.container=await hn(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)})():this._onDidChangeTreeData.fire(i);return}else if(r.Action.startsWith(n)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(!!e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await oy(e,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async getTreeItem(e){return e.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(e){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==e)&&(this.needsDockerStartOrInstallContext=e,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await ue.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await ue.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(e){if(this.hasContainersContext===void 0||this.hasContainersContext!==e){this.hasContainersContext=e;let r=ue.workspace.workspaceFolders&&ue.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await ue.commands.executeCommand("setContext",r,!this.hasContainersContext)}}async getDockerOrShowMessage(e){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(e){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(e);let r=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&r.push(new GT("Dev Containers",0)),this.otherContainers.length>0&&r.push(new GT("Other Containers",2)),r}async getChildDevContainer(e,r){let n=await this.getWorkspaceFolderFromContainer(e),i=n?[new Pl(e,n,!0)]:[],o=Ou(e);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Pl(e,a,!1))):o&&this.recentAttachEntries.has(e.Id)?i.push(...this.recentAttachEntries.get(e.Id).map(a=>new Pl(e,a,!1))):(o=Ac(e))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Pl(e,a,!1))):o===void 0&&this.recentDevComposeEntries.has(e.Id)&&i.push(...this.recentDevComposeEntries.get(e.Id).map(a=>new Pl(e,a,!1)));let s=new sn(e,i,r,!0);return this.setContainerItems(s),s}setContainerItems(e){this.containerItems.set(e.container.Id,e),this._currentContainer&&e.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(e)}async getChildContainers(e){if(e.groupType===0){let r=this.devContainers.map(async n=>this.getChildDevContainer(n,e));return r.push(...this.attachContainers.map(async n=>{let i=new sn(n,this.recentAttachEntries.get(n.Id).map(o=>new Pl(n,o,!1)),e);return this.setContainerItems(i),i})),Promise.all(r)}else return this.otherContainers.map(r=>{let n=new sn(r,[],e);return this.setContainerItems(n),n})}getChildFolders(e){return e.folders&&e.folders.length>1?e.folders:[]}async getChildItems(e){if(e===void 0){let r=await es(this.dockerParams,!0);if(await this.setHasContainersContext(r.length>0),r.length===0)return[];let n=await ea(this.dockerParams,r);return this.getChildGroups(n)}else{if(qr.isGroupItem(e))return this.getChildContainers(e);if(qr.isContainerItem(e))return this.getChildFolders(e)}return[]}async getChildren(e){return await this.action,await this.getDockerOrShowMessage(e)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(e)):[]}async refresh(e){e===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(e)}async setCurrents(){let e=ue.workspace.workspaceFolders,r;if(this.dockerParams){if(e&&e.length>0){let n=this.resolverResults.get(e[0].uri.authority);n&&n.dockerContainerId&&(r=await jn(this.dockerParams,n.dockerContainerId),this.currentFolder=e[0].uri.path)}else if(this.resolverResults.size>0){let n=[...this.resolverResults.values()][0].dockerContainerId;n&&(r=await jn(this.dockerParams,n))}}r!==this._currentContainer&&(this._currentContainer=r)}addContainerToMap(e){if(Ou(e)){this.devContainers.push(e);return}else if(Ac(e)){this.devContainers.push(e);return}else if(qS(e)&&this.recentDevComposeEntries.has(e.Id)){this.devContainers.push(e);return}else if(this.recentAttachEntries.has(e.Id)){this.attachContainers.push(e);return}this.otherContainers.push(e)}async setContainerTypes(e){return await this.setRecentEntries(e),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,e.forEach(r=>{this.addContainerToMap(r)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(e){let r=this.dockerParams.cliHost,n=dt(r.path,e),i=await Co(r,n,Ao()),o={cliHost:r,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await si(this.context.extensionPath),output:this.output},s=i&&await Rf(o,n.rootFolderPath,i);if(s&&Gt(s.configuration))return ue.Uri.parse(Ap(e,s.workspace.workspaceFolder,void 0),!0)}async getWorkspaceFolderFromContainer(e){let r=Ou(e);if(r)return this.getWorkspaceFolderFromHostWorkspace(r);{let n=Ac(e),i=Ly(e),o=wU(e);if(n)return ue.Uri.parse(Dc(n,i,o,!1,void 0,void 0))}}async getWorkspaceFolderFromHostPath(e){let r=this.dockerParams.cliHost,n=await kU(r,e,this.output),i=IU(r,n,e);return ue.Uri.parse(Ap(e,i,void 0),!0)}getWorkspaceFolderFromRepository(e,r,n){return ue.Uri.parse(Dc(e,r,n,!1,void 0,void 0),!0)}async findComposeTargetContainer(e,r){if(!this.dockerParams)return;let n=dt(this.dockerParams.cliHost.path,e),i=await Co(this.dockerParams.cliHost,n,Ao()),o={cliHost:this.dockerParams.cliHost,appRoot:ue.env.appRoot,extensionPath:this.context.extensionPath,package:await si(this.context.extensionPath),output:this.output},s=i&&await Rf(o,n.rootFolderPath,i);if(s&&"dockerComposeFile"in s.configuration){let a=await br(this.dockerParams.cliHost,s.configuration),c=await Sp(this.dockerParams,n,a);return X$(r,c,s.configuration.service)}}trySetEntryWithAttachAuthority(e,r,n){let i;if("containerName"in r){let o=n.find(s=>s.Name===r.containerName);o&&(i=o.Id)}else i=r.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(e):this.recentAttachEntries.set(i,[e]))}async trySetEntryWithDevAuthority(e,r,n,i){let o=r.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(r.hostPath),i[o]=s),s.path!==e.path){this.recentAttachDevContainerEntries.has(r.hostPath)?this.recentAttachDevContainerEntries.get(r.hostPath).push(e):this.recentAttachDevContainerEntries.set(r.hostPath,[e]);let a=await this.findComposeTargetContainer(r.hostPath,n);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(e):a&&this.recentDevComposeEntries.set(a,[e])}}trySetEntryWithRepoAuthority(e,r){this.getWorkspaceFolderFromRepository(r.repositoryPath,r.volumeName,r.folder).path!==e.path&&(this.recentAttachDevContainerEntries.has(r.repositoryPath)?this.recentAttachDevContainerEntries.get(r.repositoryPath).push(e):this.recentAttachDevContainerEntries.set(r.repositoryPath,[e]))}trySetEntryWithVolumeAuthority(e,r){let n=r.volumeName;!n||(this.recentAttachEntries.has(n)?this.recentAttachEntries.get(n).push(e):this.recentAttachEntries.set(n,[e]))}async trySetEntry(e,r,n){var s;if(!e||!e.folderUri&&!e.workspace.configPath)return;let i=(s=e.folderUri)!=null?s:e.workspace.configPath,o=$y(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,r);else{let a=gi(i.authority);a&&(Dr(a)?await this.trySetEntryWithDevAuthority(i,a,r,n):hi(a)?this.trySetEntryWithRepoAuthority(i,a):this.trySetEntryWithVolumeAuthority(i,a))}}async setRecentEntries(e){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let r=await ue.commands.executeCommand("_workbench.getRecentlyOpened");if(r&&r.workspaces){let n={};for(let i of r.workspaces)await this.trySetEntry(i,e,n)}}withProgress(e,r){return this.action=this.action.then(()=>r()),this.refresh(e)}},to;(function(s){s.Default="Default",s.Title="Title",s.Image="Image",s.Port="Port",s.Volume="Volume",s.DevVolume="DevVolume"})(to||(to={}));var Na=class{constructor(e){this.label=e;this.type=to.Default}static isDetailItem(e){return!!e&&e.label!==void 0&&e.type!==void 0}static isImageItem(e){return!!e&&e.type===to.Image}static isVolume(e){return!!e&&e.type===to.Volume}static isDevVolume(e){return!!e&&e.type===to.DevVolume}},b5=class{constructor(e){this.detail=e;this.type=to.Image;this.context="image";this.label="Image"}inspect(e){return _u(e,this.detail)}},E5=class{constructor(e,r){this.label=e;this.volumeDetails=r;this.type=to.Volume;this.context="volume"}async inspect(e){return ry(e,this.volumeDetails)}},_5=class{constructor(e,r,n,i){this.context=e;this.dockerParams=r;this.telemetry=n;this.output=i;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(e){this.dockerParams=e}set setTitle(e){this.setTreeTitle=e}get container(){return this._container?this._container.container:void 0}getTreeItem(e){let r=new ue.TreeItem(e.label,Array.isArray(e.detail)&&e.detail.length>0?ue.TreeItemCollapsibleState.Expanded:ue.TreeItemCollapsibleState.None);return r.tooltip=e.label,e.detail&&!Array.isArray(e.detail)&&(r.description=e.detail,r.tooltip+=` ${r.description}`),r.contextValue=e.context,r.command=e.command,r}async getAttributes(e,r,n){let i=[];r&&i.push({label:"Workspace",detail:r});let o=Ac(e.container);return o&&i.push({label:"Repository",detail:o}),i.push({label:"Name",detail:e.container.Name}),i.push(new b5(e.container.Config.Image)),n&&i.push({label:"Configuration",detail:n,command:{title:"Open Dev Container File",command:"remote-containers.openDevContainerFile",arguments:[n]},context:"devContainer"}),i}async getMounts(e){let r=[];return e&&e.Mounts.forEach(n=>{if(n.Type==="volume"){let i=n.Name,o=new E5(`Volume: ${i}`,i),s={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Volume mount",detail:[o,s]})}else if(n.Type==="bind"){let i={label:`Source: ${n.Source}`,detail:void 0},o={label:`Destination: ${n.Destination}`,detail:void 0};r.push({label:"Bind mount",detail:[i,o]})}}),r}async getChildrenFromRoot(e){let r=[],n=Ou(e.container),i;if(this.dockerParams&&n){let a=await Co(this.dockerParams.cliHost,dt(this.dockerParams.cliHost.path,n),Ao());a&&(i=ze(a,this.dockerParams.cliHost.platform))}r.push({label:"Attributes",detail:await this.getAttributes(e,n,i),type:to.Title});let o;this.dockerParams&&(o=await hn(this.dockerParams,e.container.Id));let s=await this.getMounts(o);return s.length>0&&r.push({label:"Mounts",detail:s,type:to.Title}),r}async testContainer(){let e=!0;try{(this.dockerParams?await hn(this.dockerParams,this._container.container.Id):void 0)===void 0&&(e=!1)}catch{e=!1}return e||(this._container=void 0,this.setTreeTitle("Details (Containers)")),e}async getChildren(e){if(this._container===void 0)return[];let r=[];return e===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),r=await this.getChildrenFromRoot(this._container)):Array.isArray(e.detail)&&r.push(...e.detail),r}async refresh(e){this.dockerParams=await yt(this.context,this.output),await km(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=e||this._container,this._onDidChangeTreeData.fire(void 0)}},S5=class extends Na{constructor(e){super(e.Name);this.type=to.DevVolume;this.volumeDetails=e,this.createdAt=void 0}async asTreeItem(){let e=this.getLabel(),r=new ue.TreeItem(e,ue.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){let e=this.volumeDetails.Labels;if(e){let r=e["vsch.local.repository.unique"];if(r&&r==="true")return!0}return!1}getLabel(){let e=this.volumeDetails.Name;if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();n&&n.gitUrlInfo.repository!=="unknown"&&(e=n.gitUrlInfo.fullRepositoryName)}return e}getDescription(){let e="";if(this.volumeDetails.Labels&&this.isUniqueVolume()){let n=this.getRepository();if(n&&n.gitUrlInfo.repository!=="unknown"){let i=this.getBranchName(),o=this.getPullRequestId();o?e=`#${o}`:i&&(e=`${i}`)}}return e}getBranchName(){let e=this.volumeDetails.Labels;if(e&&this.isUniqueVolume()&&e["vsch.local.repository.branch"])return e["vsch.local.repository.branch"]}getPullRequestId(){let e=this.volumeDetails.Labels;if(e&&this.isUniqueVolume()&&e["vsch.local.repository.pullRequestId"])return e["vsch.local.repository.pullRequestId"]}getRepository(){let e=this.volumeDetails.Labels;if(e){let r=e["vsch.local.repository.unique"];if(r&&r==="true"){let n=e["vsch.local.repository"];return pi(n)}}}get iconPath(){return new ue.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let e="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let n=new Date,i=new Date(this.volumeDetails.CreatedAt),o,s,a=n.getTime()-i.getTime();(s=Math.round(a/sn.years))>0?s===1?o="year":o="years":(s=Math.round(a/sn.days))>0?s===1?o="day":o="days":(s=Math.round(a/sn.hours))>0?s===1?o="hour":o="hours":(s=Math.round(a/sn.minutes))>0?s===1?o="minute":o="minutes":(s=Math.round(a/sn.seconds),s===1?o="second":o="seconds"),e=` ${s} ${o} ago`}return this.createdAt=e,e}async inspect(e){return ry(e,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await ue.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await ue.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(e){if(!((await mS(e)).indexOf(this.volumeDetails.Name)>=0)){await ue.window.showInformationMessage(`Volume '${this.volumeDetails.Name}' is in use and cannot be removed.`,{modal:!0});return}await ue.window.showInformationMessage(`Are you sure you want to remove volume '${this.volumeDetails.Name}'?`,{modal:!0},"Remove")==="Remove"&&await Dk(e,this.volumeDetails.Name)}},x5=class{constructor(e,r,n){this.context=e;this.telemetry=r;this.output=n;this._onDidChangeTreeData=new ue.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(e){return e.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await yt(this.context,this.output,void 0,void 0),await km(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(e){await ue.commands.executeCommand("setContext","remote-containers:noDevVolumes",e)}async getDockerOrShowMessage(e){return!(!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(e){if(!await this.getDockerOrShowMessage(e))return[];let r=await yt(this.context,this.output),n=await go(r),i=await sp(r,n),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,c)=>{let l=new Date(a.CreatedAt);return new Date(c.CreatedAt).getTime()-l.getTime()}),s.map(a=>new S5(a))}async resolveTreeItem(e,r){let n=await yt(this.context,this.output),i=await this.getAssociatedContainers(n,r),o=r.getLabel(),s=r.getRepository(),a=r.getBranchName(),c=r.getPullRequestId(),l=r.getTimeElapsed();return i.length>0?e.tooltip=this.renderMarkdown(o,s,a,c,l,i.join(", ")):e.tooltip=this.renderMarkdown(o,s,a,c,l,"*None*"),e}async getAssociatedContainers(e,r){let n=[],i=await es(e,!0),o=await ea(e,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===r.volumeDetails.Name&&n.push(s.Name.substring(1));return n}renderMarkdown(e,r,n,i,o,s){let a=new ue.MarkdownString(void 0,!0);if(r){let c=r.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",l=r.gitUrlInfo.repositoryUrl;l.startsWith("http")?(l=r.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${c} [${l}](${l})
`)):a.appendMarkdown(`${c} ${l})
`),a.appendMarkdown(`&nbsp;  
`),n&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${n}](${l}/tree/${n})
`):a.appendMarkdown(`$(git-compare) ${n}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(r.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${l}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${e}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(e){try{let r=JSON.parse(e.toString());if(!r.Action)return;(r.Action==="die"||r.Action==="destroy"||r.Action==="create"||r.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(!!e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await oy(e,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",r=>{this.handleDockerEvent(r)})}catch(r){r.code!=="ENOENT"&&console.log(r),this.dockerParams=void 0}}async refresh(e){e===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(e)}},WCe="vm-active",KCe="vm-default",YCe="folder-active",JCe="folder";function j0(t,e){let r=`${e}.svg`;return{light:ue.Uri.file(t.asAbsolutePath(xl.join("resources","light",r))),dark:ue.Uri.file(t.asAbsolutePath(xl.join("resources","dark",r))),highContrast:ue.Uri.file(t.asAbsolutePath(xl.join("resources","highContrast",r)))}}var WT=te(require("util"));var ki=te(require("vscode"));async function P5(t,e,r={}){let n=uu(e[0],e.slice(1),void 0),i=await GF(e[0],e.slice(1),void 0,t.loadNativeModule),o=await Fv({params:t,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:n,remotePtyExec:i,remoteExecAsRoot:void 0,rootShellServer:void 0}),{hostOrContainerPort:s,connectionToken:a,webConnectionToken:c,remoteEnv:l,serverDownloaded:u}=await qv(t,o,r,async()=>{},void 0);return{params:t,properties:o,config:void 0,resolvedAuthority:{host:ra,port:s,connectionToken:a,extensionHostEnv:l},webConnectionToken:c,tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:u}}async function k5(t,e,r){var n,i,o;if(!!await _a(t))if(r&&r.name){let s=["get","pod",r.name,"-o","json"];r.namespace&&s.push("--namespace",r.namespace);let{cliHost:a,env:c,output:l}=e,u=(await We({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:c,output:l})).stdout.toString().trim(),d=(await We({exec:a.exec,cmd:"kubectl",args:s,env:c,output:l})).stdout.toString(),p=JSON.parse(d),h=((n=p.spec)==null?void 0:n.containers)||[];if(!h.length){e.output.write(`No containers found. Pod details:
${d}`),await ki.window.showErrorMessage("No containers found.",{modal:!0},"Show Log")&&ki.commands.executeCommand(ko);return}let m=h.length>1?(i=await ki.window.showQuickPick(h.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:"Select container"}))==null?void 0:i.container:h[0];if(m){let g=((o=p.metadata)==null?void 0:o.namespace)||r.namespace,v={remoteAuthority:XCe({context:u,podname:r.name,namespace:g,name:m.name,image:m.image})};/\d$/.test(t.extensionPath)||(v.reuseWindow=!0),await ki.commands.executeCommand("vscode.newWindow",v)}}else e.output.write(`No Pod name found. Pod object:
${JSON.stringify(r,void 0,"  ")}`),await ki.window.showErrorMessage("No Pod name found.",{modal:!0},"Show Log")&&ki.commands.executeCommand(ko)}async function I5(t,e,r,n,i){return await _a(t)?ge(W({},await QCe(t,e,r,n,i)),{isTrusted:!0}):(await ki.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function QCe(t,e,r,n,i){let o;return ki.window.withProgress({location:ki.ProgressLocation.Notification,title:Df,cancellable:!1},async s=>{try{let a=ZCe(r),c=process.cwd(),l=await Li(void 0,c,Io,Qi(),t.extensionPath,bs(),e.product,n.log,Do);o=await Af({authority:r,extensionContext:t,sessionStart:n.sessionStart,progress:s,cliHost:l,env:l.env,cwd:c,isLocalContainer:!0,telemetry:e,output:n.log,logFilePath:n.logFilePath,allowSystemConfigChange:!1,postCreate:i}),o.setWorkspaceName(`${a.name} in ${a.podname} (${a.image})`);let u=["kubectl","exec","-it",a.podname];return a.context&&u.push("--context",a.context),a.namespace&&u.push("--namespace",a.namespace),u.push("--container",a.name,"--"),await P5(o,u)}catch(a){let c=a instanceof $e?a:new $e({description:"An error occurred attaching to the container.",originalError:a});throw c.actions=[...Fu,Oc,ia,Lu,Rc],c}}).then(s=>(Cs(e,"k8s-container","success",o,void 0,s.properties),s),s=>{let a=s instanceof $e?s:new $e({description:"An error occurred attaching to the container.",originalError:s});return Cs(e,"k8s-container","failure",o,void 0,a.containerProperties,a),oa(a,"k8s-container",e,!0,n)})}function XCe(t){let e=[];for(let r in t){let n=t[r];n&&e.push(`${r}=${encodeURIComponent(n)}`)}return`k8s-container+${e.join("+")}`}function ZCe(t){return t.substr(t.indexOf("+")+1).split("+").reduce((e,r)=>{let n=r.indexOf("=");return n!==-1&&(e[r.substr(0,n)]=decodeURIComponent(r.substr(n+1))),e},{})}var Tt=te(require("vscode")),Qf=te(require("fs")),Xf=te(require("os")),kl=te(require("path")),U0=te(require("child_process")),Zf=te(require("util"));function B0(t){switch(t.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${t.quality}`}}async function T5(t,e){var c;let r=t.globalStorageUri,n=ii.joinPath(r,"cli-bin");await Tt.workspace.fs.createDirectory(n);let i="";try{i=(await Tt.workspace.fs.readFile(ii.joinPath(n,"remote-containers-path"))).toString()}catch(l){if((l==null?void 0:l.code)!=="FileNotFound")return}if(i===t.extensionPath)return;let o=ii.joinPath(t.extensionUri,"dev-containers-user-cli","bin"),s=B0(e),a=[{source:"devcontainer",destination:`devcontainer${s}`},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let l of a)Tt.workspace.fs.copy(ii.joinPath(o,l.source),ii.joinPath(n,l.destination),{overwrite:!0});await Tt.workspace.fs.writeFile(ii.joinPath(n,"vscode-app-root"),Buffer.from(Tt.env.appRoot,"utf-8")),await Tt.workspace.fs.writeFile(ii.joinPath(n,"vscode-path"),Buffer.from(process.argv0,"utf-8")),await Tt.workspace.fs.writeFile(ii.joinPath(n,"vscode-quality"),Buffer.from((c=e.quality)!=null?c:"","utf-8")),await Tt.workspace.fs.writeFile(ii.joinPath(n,"vscode-machine-id"),Buffer.from(Tt.env.machineId,"utf-8")),await Tt.workspace.fs.writeFile(ii.joinPath(n,"remote-containers-path"),Buffer.from(t.extensionPath,"utf-8"))}async function e0e(t,e){let r=B0(e),n="";try{if(n=(await(0,Zf.promisify)(U0.exec)(`powershell.exe -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),n.indexOf(t)>=0)return await Tt.window.showInformationMessage("The devcontainer CLI is already in your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0;switch(await Tt.window.showInformationMessage("The devcontainer CLI needs to be added to your PATH",{modal:!0},"Add","Copy CLI Path")){case"Add":let s=(0,Zf.promisify)(U0.exec)(`powershell.exe  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${n};${t}', 'User')`),a=Tt.window.showInformationMessage("The devcontainer CLI has been added to your PATH",{modal:!0,detail:`Try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});await Promise.all([s,a]);break;case"Copy CLI Path":await Tt.env.clipboard.writeText(t),await Tt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${r} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}catch{return!1}}async function t0e(t,e){var a;let n=((a=process.env.PATH)!=null?a:"").split(":"),i=[kl.join(Xf.homedir(),"bin"),kl.join(Xf.homedir(),".local/bin")],o="/usr/local/bin";Xf.platform()==="darwin"&&i.push(o);let s=(0,Zf.promisify)(Qf.stat);for(let c of i){if(n.findIndex(p=>p===c)<0)continue;try{await s(c)}catch{continue}let l=B0(e),u=kl.join(c,`devcontainer${l}`);try{let p=await s(u);return console.log(p),await Tt.window.showInformationMessage(`The devcontainer CLI is already symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`}),!0}catch(p){if((p==null?void 0:p.code)!=="ENOENT")return!1}let f=await Tt.window.showInformationMessage("The devcontainer CLI needs to be in your PATH",{detail:`Create a symlink in ${c}?`,modal:!0},"Create","Copy CLI Path"),d=kl.join(t,`devcontainer${l}`);switch(f){case"Create":if(c===o){if(!await r0e(d,u))break}else await(0,Zf.promisify)(Qf.symlink)(d,u);await Tt.window.showInformationMessage(`The devcontainer CLI has been symlinked in ${c}`,{modal:!0,detail:`Try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break;case"Copy CLI Path":await Tt.env.clipboard.writeText(t),await Tt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${l} --help'
Note: you may need to restart your shell for PATH changes to take effect`});break}return!0}return!1}async function r0e(t,e){try{return await Qf.promises.symlink(t,e),!0}catch(r){if(r.code!=="EACCES"&&r.code!=="ENOENT")throw r;if(await Tt.window.showInformationMessage("This will now prompt with 'osascript' for Administrator privileges to install the shell command.",{modal:!0},"OK")==="OK"){let i=`osascript -e "do shell script \\"mkdir -p ${kl.dirname(e)} && ln -sf '${t}' '${e}'\\" with administrator privileges"`;return await(0,Zf.promisify)(U0.exec)(i),!0}return!1}}async function A5(t,e){let r=t.globalStorageUri,n=ii.joinPath(r,"cli-bin").fsPath;switch(Xf.platform()){case"win32":if(await e0e(n,e))return;break;case"darwin":case"linux":if(await t0e(n,e))return;break}if(await Tt.window.showInformationMessage("The devcontainer CLI needs to be included your PATH",{modal:!0},"Copy CLI Path")==="Copy CLI Path"){await Tt.env.clipboard.writeText(n);let o=B0(e);await Tt.window.showInformationMessage("The devcontainer CLI path has been copied to the clipboard",{modal:!0,detail:`After adding to your PATH, try running 'devcontainer${o} --help'
Note: you may need to restart your shell for PATH changes to take effect`})}}var N5=class{constructor(e,r,n){this.context=e;this.telemetry=n,this.output=r}handleUri(e){switch(e.path){case"/cloneInVolume":this.cloneInVolume(e)}}async cloneInVolume(e){let r=O5.parse(e.query);if(!r.url){B.window.showErrorMessage(`Failed to handle the URI '${e}' expected a 'url' query parameter.`,{modal:!0});return}let n;Array.isArray(r.url)?n=r.url[0]:n=r.url;let i=await yt(this.context,this.output.log);if(!!await xn(this.context,i,await this.telemetry)){if(!await ZE(i.cliHost,n,this.output.log)){await B.window.showErrorMessage(`Cannot access the repository '${n}'.`,{modal:!0});return}await B.commands.executeCommand(lC,r.url)}}};async function i0e(t){var P;vz();let e=new Date;gz(t);let r=await si(t.extensionPath),n=await Wd(B.env.appRoot);yz(t,n);let i=hz(t,r,n),o=`Remote-Containers ${r.version} in VS Code ${B.version} (${n.commit||"out-of-source"}).`,s=new vC(t.logPath,e,o);t.subscriptions.push(B.commands.registerCommand(ko,()=>s.show()));let{channel:a,postCreate:c}=pz(s.log,e);t.subscriptions.push(B.commands.registerCommand(Sk,()=>a.show())),t.subscriptions.push(B.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:uC(s,c,Yr.results,async(S,x,T)=>B9(t,await i,S,Yr.onRemoveOnShutdownChanged,x,T)),async getCanonicalURI(S){var T;let x=gi(S.authority);if(x&&Dr(x)){let{hostPath:A,settings:N}=x;return kr(A)?cu(A,s.log):N&&"host"in N&&((T=N.host)==null?void 0:T.startsWith("ssh://"))?Jd(N.host,A):B.Uri.file(A)}return S}}),B.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:uC(s,c,Yr.results,async(S,x,T)=>t5(t,await i,S,x,T))}),B.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:uC(s,c,Yr.results,async(S,x,T)=>I5(t,await i,S,x,T))}),B.window.registerUriHandler(new N5(t,s,i)));let l=async(S,x,T)=>{let A=await yt(t,s.log);if(!await xn(t,A,await i))return;let N;if(qr.isFolderItem(S)?(N=S.folder,T=l0e()):N=S,N.scheme==="vscode-remote")return B.commands.executeCommand("vscode.openFolder",N,T);{let q=dt(A.cliHost.path,ze(N,A.cliHost.platform));return V0(t,q,A,await i,x,T)}};t.subscriptions.push(B.commands.registerCommand("remote-containers.openFolder",async(S,x)=>S?l(S,!1,x):q5(t,!0,await i,!1,s.log))),t.subscriptions.push(B.commands.registerCommand("remote-containers.openWorkspace",async(S,x)=>S?l(S,!1,x):q5(t,!1,await i,!1,s.log))),t.subscriptions.push(B.commands.registerCommand(Q3,async S=>Am(t,await i,s.log,S))),t.subscriptions.push(B.commands.registerCommand(lC,async S=>Am(t,await i,s.log,S,mi))),t.subscriptions.push(B.commands.registerCommand(X3,async S=>{if(S.url){let x=S.url;return(S==null?void 0:S.ref)&&(x=`${S.url}/tree/${S.ref}`),Am(t,await i,s.log,x,mi)}})),t.subscriptions.push(B.commands.registerCommand(Z3,async S=>f0e(t,await i,s.log,S,mi))),t.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolume",async(S,x,T)=>$5(t,S,x,T,await i,s.log))),t.subscriptions.push(B.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async S=>d0e(t,S,await i,s.log))),t.subscriptions.push(B.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async S=>Am(t,await i,s.log,void 0,S))),t.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInContainer",()=>u(!1))),t.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>u(!0))),t.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>u("rebuildNoCache")));let u=async S=>{if(!await B.workspace.requestWorkspaceTrust({message:Fh}))return;let T=await yt(t,s.log);if(!await xn(t,T,await i))return;let A=B.workspace.workspaceFile;if(A&&A.scheme==="untitled"){await S0();return}let N=B.workspace.workspaceFolders;if(!A&&N&&N.length){let J=N.length>1?await B.window.showWorkspaceFolderPick({placeHolder:"Pick a folder to reopen in a container."}):N[0];J&&(A=J.uri)}let q=await kk(A);if(q){await Dm(t,q.repositoryPath,q.volumeName,q.folder,T);return}if(A){let J;if(T.cliHost.type==="wsl"&&A.scheme==="file"){let ee=ze(A,process.platform),re=zs(ee)||Tk()||await Ev(T.output)||(()=>{throw new Error("No default WSL distro found.")})();J=await Yo(re,ee,T.output)}else J=ze(A,T.cliHost.platform);let Y=dt(T.cliHost.path,J);await V0(t,Y,T,await i,S,{forceReuseWindow:!0})}};t.subscriptions.push(B.commands.registerCommand("remote-containers.reopenLocally",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let T=gi(x.authority);if(T&&Dr(T)){let A=B.Uri.file(T.hostPath),N={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",A,N)}else B.window.showInformationMessage("'Reopen Locally' not possible in current context.")}})),t.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let T=gi(x.authority);if(T&&Dr(T)&&kr(T.hostPath)){let A=B.Uri.parse((await cu(T.hostPath,s.log)).toString()),N={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",A,N)}else B.window.showInformationMessage("'Reopen in WSL' not possible in current context.")}})),t.subscriptions.push(B.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let S=B.workspace.workspaceFolders,x=B.workspace.workspaceFile||S&&S.length&&S[0].uri;if(x&&x.scheme==="vscode-remote"){let T=gi(x.authority),A=T==null?void 0:T.settings;if(T&&Dr(T)&&A&&"host"in A&&A.host&&A.host.startsWith("ssh://")){let N=B.Uri.parse(Jd(A.host,T.hostPath).toString()),q={forceReuseWindow:!0};await B.commands.executeCommand("vscode.openFolder",N,q)}else B.window.showInformationMessage("'Reopen in SSH' not possible in current context.")}}));let f,d=async S=>{var N;if(!await _a(t))return;let x,T=typeof S=="string"?S:(N=S==null?void 0:S.containerDesc)==null?void 0:N.Id;if(T){let q=await yt(t,s.log);if(!await xn(t,q,await i))return;x=await hn(q,T)}else{let q=!1;f||(f=mo(t.extensionPath,async Y=>(q=!0,ws(Y)),s.log));let J=await yt(t,s.log,void 0,void 0,f);if(x=await C0e(J,xn(t,J,await i),()=>q),!x)return}let A=await yt(t,s.log);$0(A,x,t)};t.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainer",d)),t.subscriptions.push(B.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",d)),t.subscriptions.push(B.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async S=>k5(t,await yt(t,s.log),S)));let p=async S=>{var A;let x=await yt(t,s.log);if(!await xn(t,x,await i))return;let T=(A=S==null?void 0:S.pullRequestModel)==null?void 0:A.html_url;Am(t,await i,s.log,T,mi)};t.subscriptions.push(B.commands.registerCommand("remote-containers.checkoutPRInVolume",p)),t.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let S=await hl();if(S){let x=await yt(t,s.log);await Dm(t,S.repositoryPath,S.volumeName,S.folder,x,!0);return}return await Promise.all(Yr.onRemoveOnShutdownChangedEmitter.fire(!0)),B.commands.executeCommand("workbench.action.reloadWindow")})),t.subscriptions.push(B.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let S=await hl();if(S){let x=await yt(t,s.log);await Dm(t,S.repositoryPath,S.volumeName,S.folder,x,"rebuildNoCache");return}return await Promise.all(Yr.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),B.commands.executeCommand("workbench.action.reloadWindow")}));let h=B.env.remoteName&&B.env.remoteName!=="test"?"linux":process.platform,m=((P=(B.workspace.workspaceFolders||[])[0])==null?void 0:P.uri)||Ve.file(process.cwd()),g=Ra(h,m),v={fileHost:g,findDevContainerFiles:()=>Ok(g),telemetry:i,output:s.log,existingFilesLearnMoreLink:Dh,predefinedDefinitionsLearnMoreLink:Rh,openConfigurationCommandId:Ah},y=await T9(t,v);t.subscriptions.push(B.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!B.workspace.workspaceFolders){await B.window.showInformationMessage("Open a folder to create the configuration files in first.",{modal:!0},"Open Folder")&&await B.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await QT(t,g,y,await i,s.log)})),t.subscriptions.push(B.commands.registerCommand("remote-containers.openDevContainerFile",async(S,x)=>{let T,A=await yt(t,s.log),N;if(typeof S=="string"?T=[Ve.file(S)]:(N=await Ok(A.cliHost),T=(await Promise.all(N.map(q=>q.scheme==="file"||q.scheme==="vscode-remote"?q:A.cliHost.toCommonURI(ze(q,A.cliHost.platform))))).filter(q=>!!q)),T.length){let q;T.length===1?q={uri:T[0]}:q=await B.window.showQuickPick(T.map(Y=>({label:Y.scheme==="file"?Y.fsPath:Y.toString(),uri:Y})),{placeHolder:"Select container configuration file to open"});let J=await hl();if(J){let Y=fz(J.folder);for(let ee of Y){try{await B.workspace.openTextDocument(B.Uri.parse(ee.toString()))}catch{continue}await B.commands.executeCommand("vscode.open",B.Uri.parse(ee.toString()),x);return}return}if(q){let Y=q.uri,ee=sU(Y);if(ee){let re=`https://github.com/microsoft/vscode-dev-containers/tree/main/repository-containers/${process.platform==="win32"?ee.replace(/\\/g,"/"):ee}`;return B.env.openExternal(B.Uri.parse(re))}else{if(Y.scheme==="file"&&await zt(Y.fsPath))return await B.commands.executeCommand("vscode.open",B.Uri.parse(Y.toString()),x);if(Y.scheme==="file"&&Yr.results.size)return await li(Fi,Y,[],Xo),await B.commands.executeCommand("vscode.open",B.Uri.parse(Y.toString()),x);if(Y.scheme==="vscode-remote"&&Yr.results.size)return await B.commands.executeCommand("vscode.open",B.Uri.parse(Y.toString()),x);if(S===void 0)return await QT(t,g,y,await i,s.log)}}}else if(S===void 0&&!(N==null?void 0:N.length))return await QT(t,g,y,await i,s.log)})),t.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:S,dockerParams:x}=[...Yr.results.values()][0];if(!S||!x)return B.window.showInformationMessage("Named configurations are only available for Docker containers.",{modal:!0});let T=await hn(x,S),A=L0(t.globalStoragePath,T.Name),N=B.Uri.file(A);return await zt(A)?B.commands.executeCommand("vscode.open",N):(await li(Fi,N,[],Xo),B.commands.executeCommand("vscode.open",N))})),t.subscriptions.push(B.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let S=[...(await Y9(t.globalStoragePath)).map(T=>W({label:T.name},T)).sort((T,A)=>T.label.localeCompare(A.label)),...(await Q9(t.globalStoragePath)).map(T=>W({label:T.image},T)).sort((T,A)=>T.label.localeCompare(A.label))],x=await B.window.showQuickPick(S.length?S:[{label:"No configuration found."}],{placeHolder:"Choose a configuration file"});if(x&&"uri"in x)return B.commands.executeCommand("vscode.open",B.Uri.parse(x.uri.toString()))})),t.subscriptions.push(B.commands.registerCommand("remote-containers.settings",async()=>B.commands.executeCommand("workbench.action.openSettings",`@ext:${M5()}`))),t.subscriptions.push(B.commands.registerCommand("remote-containers.getHelp",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers")))),t.subscriptions.push(B.commands.registerCommand("remote-containers.getStarted",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),t.subscriptions.push(B.commands.registerCommand("remote-containers.reportIssue",async()=>B.commands.executeCommand("vscode.openIssueReporter",M5()))),t.subscriptions.push(B.commands.registerCommand("remote-containers.provideFeedback",async()=>B.env.openExternal(B.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),t.subscriptions.push(B.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new zT(g))),t.subscriptions.push(B.commands.registerCommand("remote-containers.trySample",async()=>{k0e(t,s.log)})),t.subscriptions.push(B.commands.registerCommand("remote-containers.openLogFile",()=>I0e(t))),t.subscriptions.push(B.commands.registerCommand("remote-containers.openLastLogFile",()=>T0e(t,"remoteContainers",s.logFilePath))),t.subscriptions.push(B.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>_0e(t))),t.subscriptions.push(B.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>s0e(t))),t.subscriptions.push(B.commands.registerCommand("remote-containers.installDocker",()=>q0(s.log))),w5(t,Yr.results,await i,s.log),await T5(t,n),t.subscriptions.push(B.commands.registerCommand("remote-containers.installUserCLI",()=>A5(t,n))),(async()=>{await uz(t)||await V5(t,g,await i,s.log)})().catch(console.error),a0e(t);let C=B.env.remoteName,b=!C||["dev-container","attached-container","wsl","ssh-remote","exec","k8s-container"].indexOf(C)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];t.subscriptions.push(B.commands.registerCommand("remote-containers.addExtensionToConfig",y.addExtensionToConfiguration),B.languages.registerCompletionItemProvider([...b,{pattern:wr.join(F0(t.globalStoragePath),"*.json")},{pattern:wr.join(N0(t.globalStoragePath),"*.json")}],y.createCompletionItemProvider()),B.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>{var T;let S=await yt(t,s.log),x=await PT(v,{readDockerComposeConfig:async(A,N)=>{let q=await Y$(S.cliHost.cwd,A,S.output);return J$(S,q,N)}});if(x){let A;if(!x.manifest&&x.imageName)try{A=await _u(S,x.imageName)}catch(N){if(((T=N==null?void 0:N.stdout)==null?void 0:T.toString().replace(/\s/g,""))==="[]")try{await Ct(S,"pull",x.imageName),A=await _u(S,x.imageName)}catch{}}await IT(v,x,(A==null?void 0:A.Config.Labels)||{})}}),B.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",y.addPortLabelToConfiguration)),await hl()&&B.commands.executeCommand("setContext","isRecoveryContainer",!0),t.subscriptions.push(h9())}var L5="showRecoveryContainerNotification",F5="showReopenInContainerNotificationReset",o0e=5e3;function s0e(t){return t.globalState.update(F5,Date.now())}async function a0e(t){setTimeout(async()=>{let e=t.globalState.get(F5);if(XT(t.globalState.get(L5),e))return;if(await hl()){let n="This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry.",i="Reopen in Container",o="Don't Show Again",s=await B.window.showInformationMessage(n,i,o);s===i?B.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await t.globalState.update(L5,Date.now())}},o0e)}async function c0e(){await Promise.all([...Yr.results.values()].map(t=>Promise.all(t.params.shutdowns.map(e=>{try{e()}catch(r){console.error(r)}}))))}function M5(){let{name:t,publisher:e}=D5();return`${e}.${t}`}async function q5(t,e,r,n,i){var f;let o=await yt(t,i);if(!await xn(t,o,r))return;let s,a=B.workspace.workspaceFolders;if(a&&a[0]){let d=a[0].uri;if(d.scheme==="vscode-remote"){let p=gi(d.authority);if(p&&Dr(p)){let h=dt(o.cliHost.path,p.hostPath);s=B.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote)\+/.test(d.authority)&&(s=d)}else d.scheme==="file"&&(s=d)}s||(((f=B.env.remoteName)==null?void 0:f.match(/^(wsl|ssh-remote)$/))?s=B.Uri.from({scheme:"vscode-remote",authority:B.env.remoteAuthority,path:await o.cliHost.homedir()}):s=B.Uri.file(R5.homedir()));let c=e?{defaultUri:s,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:"Open"}:{defaultUri:s,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{"Code Workspace":["code-workspace"]},openLabel:"Open"},l=await B.window.showOpenDialog(c),u=l&&l[0];if(u){let d=e?u:u.with({path:wr.posix.dirname(u.path)}),p=await yt(t,o.output,d,Ik()==="always"),h=ze(u,p.cliHost.platform),m=dt(p.cliHost.path,h);await V0(t,m,p,r,n)}}function l0e(){return B.workspace.getConfiguration("window").get("openFoldersInNewWindow",void 0)==="on"?{forceNewWindow:!0}:{forceReuseWindow:!0}}async function V0(t,e,r,n,i,o){var v;let{cliHost:s}=r;if(kr(e.rootFolderPath)){if(r=await yt(t,r.output,e.rootFolderPath),s=r.cliHost,!await xn(t,r,n))return;e=dt(s.path,e.isWorkspaceFile?s.path.join(s.cwd,wr.basename(e.workspaceOrFolderPath)):s.cwd)}let a=await tu(s,e);if(a){let y="Continue";if(await B.window.showInformationMessage(`The workspace could fail to open in a container: ${a}`,{modal:!0},y)!==y)return}let c=await Co(s,e,Ao(),!0,r.output),l={cliHost:s,appRoot:B.env.appRoot,extensionPath:t.extensionPath,package:await si(t.extensionPath),output:r.output},u=c&&await Rf(l,e.rootFolderPath,c);if(!u||!Zs(u.configuration)){let y=await xm({fileHost:s,telemetry:n,output:r.output,existingFilesLearnMoreLink:Dh,predefinedDefinitionsLearnMoreLink:Rh,openConfigurationCommandId:Ah},e);if(!y||(u=await Rf(l,e.rootFolderPath,Ve.file(y).with({scheme:Zt.scheme})),!u))return}let f=u.configuration;if(!await u0e(r,f))return;let d=u.workspace.workspaceFolder;if(Gt(f)){let y=Xr(s,f);if(!f.initializeCommand&&!await Tr(s).readDocument(y))return Rm(`"${y.fsPath}" does not exist.`,s,f.configFilePath);if(f.workspaceFolder&&!wr.posix.isAbsolute(f.workspaceFolder))return Rm("Workspace folder in devcontainer.json must be an absolute path.",s,f.configFilePath)}else if(!("image"in f))if("dockerComposeFile"in f){if(!await d5(r)||!await b0e(e,r,f))return}else{let y=f.configFilePath;return Rm(`Configuration "${s.path.relative(e.rootFolderPath,ze(y,s.platform))}" not valid.`,s,y)}e.isWorkspaceFile&&(d=wr.posix.join(d,s.path.basename(e.workspaceOrFolderPath)));let p=na(r.env),h=s.type==="wsl"?(await s.toCommonURI(e.workspaceOrFolderPath)).fsPath:e.workspaceOrFolderPath,m=(s.type==="local"||s.type==="wsl")&&p&&"host"in p&&((v=p.host)==null?void 0:v.startsWith("ssh://")),g=B.Uri.parse(Ap(h,d,p,m));await G0({uri:g,type:e.isWorkspaceFile?"workspace":"folder",label:`${TU(s.platform,e.workspaceOrFolderPath,await s.homedir())}${Ru(p)} [Dev Container]`}),await Rk(t,i?g.authority:!1),await Nh(t,i==="rebuildNoCache"?g.authority:!1),await B.commands.executeCommand("vscode.openFolder",g,o)}async function u0e(t,e){let r=e.hostRequirements;if(r&&(r.cpus||r.memory)){let n=await Ct(t,"info","--format","{{json .}}"),i=JSON.parse(n.stdout.toString()),o=i.NCPU&&r.cpus&&r.cpus>i.NCPU,s=i.MemTotal&&r.memory&&KT(r.memory)>i.MemTotal;if(o||s){let a=[];i.NCPU&&a.push(`CPUs ${i.NCPU}`),i.MemTotal&&a.push(`RAM ${YT(i.MemTotal)}`);let c=[];r.cpus&&c.push(`CPUs ${r.cpus}`),r.memory&&c.push(`RAM ${YT(KT(r.memory))}`),r.storage&&c.push(`disk ${YT(KT(r.storage))}`);let l=`Docker daemon: ${a.join(", ")}
devcontainer.json: ${c.join(", ")}`;if(!await B.window.showInformationMessage("Not all host requirements in devcontainer.json are met by the Docker daemon.",{modal:!0,detail:l},"Continue"))return!1}}return!0}function KT(t){let e=/^(\d+)([tgmk]b)?$/.exec(t);if(e){let[,r,n]=e,i=parseInt(r,10),o=n&&{t:2**40,g:2**30,m:2**20,k:2**10}[n[0]]||1;return i*o}return 0}function YT(t){let e=Math.min(Math.floor(Math.log2(Math.max(Math.abs(t),1))/10),4),r=t/Math.pow(2,10*e),n=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(r),1)))),1),i=Math.round(r*n)/n,o=[" bytes","kb","mb","gb","tb"][e];return`${i}${o}`}async function Am(t,e,r,n,i){if(!await Mh(t))return;let o=await yt(t,r),s=null;if(!!await xn(t,o,e)){if(typeof n=="string")s=n;else{let a=await B.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:c=>`Clone a repository from ${c.name} in a Container Volume`,urlLabel:"Clone git repository from URL",branch:!0});if(a){s=(typeof a=="string"?a:a.url).trim(),s.split("/").length===2&&s.indexOf(":")===-1&&(s=`https://github.com/${s}`);let c=wo(s);if(!await ZE(o.cliHost,c.repositoryUrl,o.output)){await B.window.showInformationMessage(`Cannot access the repository '${c.repositoryUrl}'.`,{modal:!0});return}typeof a!="string"&&a.branch&&(s=`${s}/tree/${a.branch}`)}}s&&await j5(t,o,s,i)}}async function j5(t,e,r,n){if(n||(n=await h0e(e)),n){let i=JT(r);n!==mi&&(i=await g0e(r)),i&&await Dm(t,r,n,i,e)}}async function f0e(t,e,r,n,i){if(!await Mh(t))return;let o=await yt(t,r),s=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await xn(t,o,e))return;let a={placeHolder:"e.g. https://github.com/microsoft/vscode/pull/123",prompt:"Enter a GitHub pull request url",validateInput:u=>s.test(u)?void 0:"Invalid pull request url"},c;if(n?c=n:c=await B.window.showInputBox(a),!c)return;let l=wo(c);if(l.repository==="unknown"||!l.pullRequestId){await B.window.showInformationMessage(`Invalid pull request URL '${c}'.`,{modal:!0});return}await j5(t,o,c,i)}async function $5(t,e,r,n,i,o){let s=await yt(t,o);!await xn(t,s,i)||(e||(e=await p0e(s)),e&&(r&&n?await w0e(e,r,n,s):await y0e(e,s)))}async function d0e(t,e,r,n){let i=await yt(t,n);!await xn(t,i,await r)||e&&e.volumeName&&await $5(t,e.volumeName,void 0,void 0,r,n)}var z0=class{get detail(){return""}},U5=class extends z0{get label(){return"$(plus) Create a new volume..."}get description(){return""}get volumeName(){return""}get detail(){return"Use this volume to store several cloned repositories."}get alwaysShow(){return!0}},B5=class extends z0{constructor(e){super();this.volume=e}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}},H5=class extends z0{constructor(e){super();this.volume=e}get label(){return`$(folder) ${this.volume.Name}`}get description(){return`created at ${new Date(this.volume.CreatedAt).toDateString()}`}get volumeName(){return this.volume.Name}};async function p0e(t){let e=await go(t),n=(await sp(t,e)).map(a=>new H5(a)),i="Select the volume to inspect with Visual Studio Code",o=B.window.createQuickPick();o.items=n,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function h0e(t){let e=await go(t,["vsch.local.repository.unique=false"]),n=(await sp(t,e)).map(u=>new B5(u)),i=new U5,o=[i,...n],s="Select the volume for the cloned repository",a=B.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let c=await new Promise(u=>{a.onDidAccept(()=>u(a.activeItems[0])),a.onDidHide(()=>u(void 0))});if(a.hide(),!c)return null;let l=null;return c===i?l=await m0e(t):l=c.volumeName,l}async function m0e(t){let e="",r="vsc-remote-containers",n=await go(t);n.find(s=>s===r)||(e=r);let i={prompt:"Enter the volume name.",value:e,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?"Volume names should be at least two characters and the first character must be alphanumeric.":"Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric."},o=await B.window.showInputBox(i);return o?n.find(s=>s===o)?(await B.window.showErrorMessage("Volume already exists",{modal:!0}),null):o:null}async function g0e(t){let e={prompt:"Enter the target folder name.",value:JT(t),ignoreFocusOut:!0},r=await B.window.showInputBox(e);return r||null}function JT(t){return pi(t).repositoryName}async function v0e(){return(await B.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function Dm(t,e,r,n,i,o=!1){let s=na(i.env),a=Du(e),c;try{c=await a.parseUrl(void 0)}catch(u){if(u instanceof Iy){B.window.showErrorMessage(u.description);return}let f=await v0e();try{c=await a.parseUrl(f)}catch{B.window.showErrorMessage(`Cannot access '${e}'.`,{modal:!0});return}}let l=B.Uri.parse(Dc(e,r,n,!1,s,c));r===mi&&(r="a unique volume"),await G0({uri:l,type:"folder",label:`${n} in ${r} [Dev Container]`}),await Rk(t,o?l.authority:!1),await Nh(t,o==="rebuildNoCache"?l.authority:!1),await B.commands.executeCommand("vscode.openFolder",l)}async function y0e(t,e){let r=na(e.env),n=B.Uri.parse(Dc(void 0,t,void 0,!0,r,void 0));await G0({uri:n,type:"folder",label:`Volume ${t} [Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",n)}async function w0e(t,e,r,n){let i=na(n.env),o=B.Uri.parse(Dc(e,t,r,!0,i,void 0));await G0({uri:o,type:"folder",label:`${r} in ${t} [Inspect Dev Container]`}),await B.commands.executeCommand("vscode.openFolder",o)}async function G0(t){return B.commands.executeCommand("_workbench.addToRecentlyOpened",t)}async function $0(t,e,r,n){if(!await _a(r))return;let i,o=t.cliHost;if(o.type==="wsl"){let l=await o.toCommonURI(o.cwd);l&&l.scheme==="file"&&(i=l.fsPath)}let s=xU(e.Name,na(t.env),i),a=await W9(r.globalStoragePath,e),c=r.extensionMode===B.ExtensionMode.Development;if(a&&a.workspaceFolder&&!n){let l=B.Uri.parse(`vscode-remote://${s}${a.workspaceFolder}`),u={};c?u.forceReuseWindow=!0:u.forceNewWindow=!0,await B.commands.executeCommand("vscode.openFolder",l,u)}else{let l={remoteAuthority:s};c&&!n&&(l.reuseWindow=!0),await B.commands.executeCommand("vscode.newWindow",l)}}async function C0e(t,e,r){let n=(async()=>{if(!await e)throw new Error("cancel");let i=await es(t),o=await ea(t,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw B.window.showErrorMessage("There are no running containers to attach to.",{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:"Select the container to attach VS Code"},o=await B.window.showQuickPick(n,i);if(!o&&r()){if(!await e)throw new Error("cancel");o=await B.window.showQuickPick(n,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function b0e(t,e,r){if(!r.workspaceFolder)return Rm("Workspace folder not specified in devcontainer.json.",e.cliHost,r.configFilePath),!1;if(!wr.posix.isAbsolute(r.workspaceFolder))return Rm("Workspace folder in devcontainer.json must be an absolute path.",e.cliHost,r.configFilePath),!1;let n=await br(e.cliHost,r,e.cliHost.env,e.cliHost.cwd),i=await Sp(e,t,n),o=await Q$(e,i,r.service),s=o&&await hn(e,o);return!(s&&!await E0e(e.cliHost,n,r,s))}async function E0e(t,e,r,n){var o,s,a,c;let i=[];for(let l=0;l<e.length;l++)await t.isFile(e[l])||i.push(e[l]);return i.length>0?(B.window.showErrorMessage(`The following referenced docker compose files do not exist: ${i.join(", ")}`,{modal:!0}),!1):((s=(o=r.customizations)==null?void 0:o.vscode)==null?void 0:s.devPort)&&!n.Ports.find(l=>{var u,f;return((f=(u=r.customizations)==null?void 0:u.vscode)==null?void 0:f.devPort)===l.PrivatePort})?(B.window.showErrorMessage(`The port '${(c=(a=r.customizations)==null?void 0:a.vscode)==null?void 0:c.devPort}' is not open on the service '${r.service}'`,{modal:!0}),!1):!0}async function Rm(t,e,r){if(await B.window.showErrorMessage(t,{modal:!0},"Open devcontainer.json")){let i=ze(r,e.platform),o=await e.toCommonURI(i);o&&B.window.showTextDocument(B.Uri.parse(o.toString()))}}async function QT(t,e,r,n,i){await r.createConfiguration()&&await V5(t,e,n,i)}async function V5(t,e,r,n){if([void 0,"wsl","ssh-remote"].indexOf(B.env.remoteName)===-1)return;let i=B.workspace.workspaceFile,o=B.workspace.workspaceFolders,s=i||o&&o.length&&o[0].uri||void 0;if(s&&s.scheme!=="vscode-vfs"){let a=ze(s,e.platform),c=dt(e.path,a),l=await HS(e,c,Ao());l&&await S0e(t,l,c,e,r,n)}}var W0="showReopenInContainerNotification",z5="showReopenInContainerNotificationReset";function _0e(t){return t.globalState.update(z5,Date.now())}async function S0e(t,e,r,n,i,o){let s=t.globalState.get(z5);if(XT(t.globalState.get(W0),s)||XT(t.workspaceState.get(W0),s))return;let a=oU(n,r,e.uri),c,l="";n.platform!=="linux"&&B.env.remoteName!=="wsl"&&!(n.platform==="win32"&&kr(r.rootFolderPath));let u;a?r.isWorkspaceFile?u="Workspace contains a Dev Container configuration file.":u="Folder contains a Dev Container configuration file.":u="There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.";let f="Reopen in Container",d="Clone in Volume",p="Don't Show Again...",h=r.isWorkspaceFile?`${u} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`:`${u} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).${l}`,m=c?[f,d,p]:[f,p];x0e(i,e.location);let g=await B.window.showInformationMessage(h,...m);if(P0e(i,g===f?"reopen":g===d?"openRepository":g===p?"dontShowAgain":"cancel",e.location),g===f){if(!await B.workspace.requestWorkspaceTrust({message:Fh}))return;let C=await yt(t,o);if(!await xn(t,C,i))return;if(C.cliHost.type==="wsl"&&n.platform==="win32"){let{cwd:b}=await T_(r.workspaceOrFolderPath,Qi(),o);r=dt(C.cliHost.path,b)}try{await V0(t,r,C,i,!1,{forceReuseWindow:!0})}catch(b){await oa(b,"ui",i)}}else if(g===d){let y=await yt(t,o),C=await E1(y.cliHost,r,y.output),b="OK",_="Cancel";(!C||b===await B.window.showInformationMessage("Local changes not pushed to the Git remote will not be available in the Docker volume.",b,_))&&await B.window.withProgress({location:B.ProgressLocation.Notification,title:"Clone in Volume"},async(P,S)=>{P.report({message:"Follow the prompts at the top of the window."}),await B.commands.executeCommand(lC,c)})}else if(g===p){let y=r.isWorkspaceFile?"Any Workspace":"Any Folder",C=r.isWorkspaceFile?"Current Workspace":"Current Folder",b=r.isWorkspaceFile?"Don't show again for the current workspace or for any workspace?":"Don't show again for the current folder or for any folder?",_=await B.window.showInformationMessage(b,y,C);_===y?await t.globalState.update(W0,Date.now()):_===C&&await t.workspaceState.update(W0,Date.now())}}function x0e(t,e){t.sendTelemetryEvent("reopenNotificationOpen",{location:e})}function P0e(t,e,r){t.sendTelemetryEvent("reopenNotificationResult",{result:e,location:r})}function XT(t,e){return t===!1?t=1:t===void 0&&(t=-1),e===void 0&&(e=0),e<t}async function k0e(t,e){let r=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET Core",detail:"https://github.com/Microsoft/vscode-remote-try-dotnetcore"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],n={placeHolder:"Select a sample repository to clone in a container volume"},i=await B.window.showQuickPick(r,n);if(!i)return;let o=await yt(t,e);i.detail&&await Dm(t,i.detail,mi,JT(i.detail),o)}async function I0e(t){let e=await Promise.all((await G5(t)).map(async n=>{let i=await(0,WT.promisify)(H0.stat)(n.path),o=n.time;return{label:n.prefix,description:`${ed(o.getFullYear())}-${ed(o.getMonth())}-${ed(o.getDay())} ${ed(o.getHours())}:${ed(o.getMinutes())}:${ed(o.getSeconds())} - ${i.size} bytes`,path:n.path}}));e.length||e.push({label:"No log files found."});let r=await B.window.showQuickPick(e,{placeHolder:"Choose a log file"});r&&r.path&&await B.window.showTextDocument(B.Uri.file(r.path))}function ed(t,e=2){let r=t.toString();for(;r.length<e;)r="0"+r;return r}async function T0e(t,e,r){let n=(await G5(t)).find(i=>i.name.startsWith(e)&&i.path!==r);n?await B.window.showTextDocument(B.Uri.file(n.path)):await B.window.showInformationMessage("No previous log file found.",{modal:!0})}async function G5(t){let e=[],r=wr.basename(t.logPath),n=wr.dirname(wr.dirname(wr.dirname(t.logPath)));for(let i of(await ZT(n)).sort().reverse()){let o=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/.exec(i);if(o){let s=wr.join(n,i);for(let a of await ZT(s)){let c=wr.join(s,a),l=wr.join(c,r);for(let u of(await ZT(l)).sort()){let f=wr.join(l,u),d=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(u),p=d?new Date(`${d[1]}-${d[2]}-${d[3]}T${d[4]}:${d[5]}:${d[6]}.${d[7]}Z`):new Date(`${o[1]}-${o[2]}-${o[3]}T${o[4]}:${o[5]}:${o[6]}Z`);e.push({name:u,path:f,time:p,prefix:d?u.substr(0,d.index-1):u.substr(0,u.length-4)})}}}}return e.sort((i,o)=>i.time>o.time?-1:i.time<o.time?1:i.path.localeCompare(o.path)),e}async function ZT(t){try{return await(0,WT.promisify)(H0.readdir)(t)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
//# sourceMappingURL=extension.js.map
